{"version":3,"file":"static/js/main.ab80fa09.js","mappings":"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","sources":["webpack://web/./src/screens/ops/signature-styles.css?b4a3","src/contexts/AuthContext.js","src/services/api.js","src/screens/auth/LoginScreen.js","src/screens/auth/ForgotPasswordScreen.js","src/contexts/UsersContext.js","src/components/common/TopBar.js","src/components/common/DashboardCard.js","src/screens/itadmin/DashboardScreen.js","src/contexts/LoanContext.js","src/screens/ops/DashboardScreen.js","src/screens/loanofficer/DashboardScreen.js","src/styles/shared.js","src/components/clients/ClientList.js","src/screens/loanofficer/ClientListScreen.js","src/utils/dateFormatters.js","src/utils/documentHandlers.js","src/components/clients/ClientProfile.js","src/screens/loanofficer/ClientProfileScreen.js","src/screens/loanofficer/TotalLoanListScreen.js","src/screens/loanofficer/PendingLoanDetailScreen.js","src/screens/itadmin/UserManagementScreen.js","src/screens/itadmin/AddEditUserScreen.js","src/screens/ops/OpsClientListScreen.js","src/screens/ops/OpsClientProfileScreen.js","src/screens/ops/OpsPendingListScreen.js","src/screens/ops/OpsPendingLoanDetailScreen.js","src/screens/ops/SignatureAgreementScreen.js","src/screens/ops/SignedAgreementPreview.js","src/screens/loanofficer/LoanOfficerNotifications.js","src/screens/shared/LoanHistoryScreen.js","src/screens/shared/DocumentPreviewScreen.js","src/App.js","src/index.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { createContext, useState, useEffect } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  currentUser: null,\r\n  setCurrentUser: () => {},\r\n  resetPassword: () => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(() => {\r\n    // Try to get saved user from localStorage on init\r\n    const savedUser = localStorage.getItem('currentUser');\r\n    return savedUser ? JSON.parse(savedUser) : null;\r\n  });\r\n\r\n  // Update localStorage whenever currentUser changes\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n    } else {\r\n      localStorage.removeItem('currentUser');\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const resetPassword = async (username, newPassword) => {\r\n    // Validate inputs\r\n    if (!username || !newPassword) {\r\n      throw new Error('Username and new password are required');\r\n    }\r\n\r\n    // In a real app, this would make an API call to reset the password\r\n    // For now, we'll just simulate the process\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Simulate successful password reset\r\n        resolve({\r\n          success: true,\r\n          message: 'Password reset successful'\r\n        });\r\n      }, 1000);\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      currentUser,\r\n      setCurrentUser,\r\n      resetPassword,\r\n      logout,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","import Constants from 'expo-constants';\r\n\r\n// Get API URL with multiple fallback strategies for different environments\r\nconst getApiUrl = () => {\r\n  // Debug logging\r\n  console.log('Environment debug info:', {\r\n    NODE_ENV: process.env.NODE_ENV,\r\n    REACT_APP_API_URL: process.env.REACT_APP_API_URL,\r\n    expoConfig: Constants.expoConfig?.extra?.REACT_APP_API_URL,\r\n    isProduction: process.env.NODE_ENV === 'production'\r\n  });\r\n  \r\n  // For production builds, prioritize environment variables\r\n  if (process.env.NODE_ENV === 'production' && process.env.REACT_APP_API_URL) {\r\n    console.log('Using production env var:', process.env.REACT_APP_API_URL);\r\n    return process.env.REACT_APP_API_URL;\r\n  }\r\n  \r\n  // For Expo builds, use Constants\r\n  if (Constants.expoConfig?.extra?.REACT_APP_API_URL) {\r\n    console.log('Using Expo config:', Constants.expoConfig.extra.REACT_APP_API_URL);\r\n    return Constants.expoConfig.extra.REACT_APP_API_URL;\r\n  }\r\n  \r\n  // Fallback to environment variable\r\n  if (process.env.REACT_APP_API_URL) {\r\n    console.log('Using env var fallback:', process.env.REACT_APP_API_URL);\r\n    return process.env.REACT_APP_API_URL;\r\n  }\r\n  \r\n  // Development fallback\r\n  console.log('Using localhost fallback');\r\n  return 'http://localhost:5600';\r\n};\r\n\r\nexport const API_BASE_URL = getApiUrl();\r\n\r\n// Authentication API endpoints\r\nexport const authAPI = {\r\n  login: async (username, password) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/officers/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.message || 'Login failed');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      if (!data.success) {\r\n        throw new Error(data.message || 'Login failed');\r\n      }\r\n\r\n      // Map the officer data to the expected user format\r\n      return {\r\n        user: {\r\n          username: data.officer.username,\r\n          fullName: data.officer.fullName,\r\n          role: data.officer.role, // Use the role directly from backend\r\n          status: data.officer.status\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Login Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// User Management API endpoints\r\nexport const userAPI = {\r\n  // Get all users\r\n  getAllUsers: async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch users');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update user status\r\n  updateUserStatus: async (username, status) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/${username}/status`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ status })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update user status');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Add new user\r\n  addUser: async (userData) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to add user');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update user\r\n  updateUser: async (username, userData) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/${username}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to update user');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Document type mapping for API requests\r\nconst DOCUMENT_TYPE_MAP = {\r\n  'Valid Id': 'validid',\r\n  'ORCR': 'orcr',\r\n  'Land Title': 'landtitle',\r\n  'Deeds of Assignment': 'deed',\r\n  'Promissory Note': 'promissory-note'\r\n};\r\n\r\n// Document categories\r\nexport const DOCUMENT_CATEGORIES = {\r\n  APPLICATION_DOCS: ['Valid Id', 'ORCR', 'Land Title', 'Deeds of Assignment'],\r\n  SIGNED_DOCS: ['Promissory Note', 'Signed Agreement']\r\n};\r\n\r\nexport const clientAPI = {\r\n  // Get all clients from the Credit Scoring API\r\n  getAllClients: async () => {\r\n    try {\r\n      console.log('Fetching clients from:', API_BASE_URL);\r\n      const response = await fetch(`${API_BASE_URL}/clients`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch clients');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get single client by CID\r\n  getClientById: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/client/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch client');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get client score data\r\n  getClientScore: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/score/${cid}`, {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch client score');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Process client metrics\r\n  processMetrics: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/metrics/${cid}`, {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to process metrics');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Process loan decision (approve/decline)\r\n  processLoanDecision: async (cid, decision, additionalData = {}) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan/${cid}/decision`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ decision, ...additionalData })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to process loan decision');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Fetch client loan data\r\n  fetchClientLoanData: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/client-loan-data/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch loan data');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update loan amount\r\n  updateLoanAmount: async (cid, amount) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan/${cid}/amount`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ amount })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update loan amount');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Notification endpoints\r\n  notifications: {\r\n    // Get notifications for the current user\r\n    getNotifications: async () => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications`);\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch notifications');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Create a new notification\r\n    createNotification: async (notification) => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(notification)\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('Failed to create notification');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Mark notifications as read\r\n    markAsRead: async (notificationIds) => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications/mark-read`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ notificationIds })\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('Failed to mark notifications as read');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  },\r\n\r\n  // View client document by specific filename\r\n  viewDocumentByFilename: async (cid, filename, date = null) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n\r\n      // Use the new endpoint that takes specific filename\r\n      console.log('Fetching document file:', filename, 'for CID:', paddedCid, 'date:', date);\r\n      \r\n      // Build URL with optional date parameter\r\n      let url = `${API_BASE_URL}/documents/${paddedCid}/file/${encodeURIComponent(filename)}`;\r\n      if (date) {\r\n        url += `?date=${encodeURIComponent(date)}`;\r\n      }\r\n      \r\n      const response = await fetch(url);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document');\r\n      }\r\n      \r\n      // Get content type from response headers\r\n      const contentType = response.headers.get('content-type');\r\n      const blob = await response.blob();\r\n      \r\n      // Create object URL for preview\r\n      const objectUrl = URL.createObjectURL(new Blob([blob], { type: contentType }));\r\n      return {\r\n        url: objectUrl,\r\n        type: contentType\r\n      };\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // View client document with preview support (legacy - uses document type)\r\n  viewDocument: async (cid, documentType) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n\r\n      // Map document type to internal type\r\n      const internalType = DOCUMENT_TYPE_MAP[documentType];\r\n      if (!internalType) {\r\n        throw new Error(`Invalid document type: ${documentType}`);\r\n      }\r\n\r\n      // Encode the internal type for URL safety\r\n      const encodedType = encodeURIComponent(internalType);\r\n      console.log('Fetching document:', documentType, 'as', internalType, 'for CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/${encodedType}`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document');\r\n      }\r\n      \r\n      // Get content type from response headers\r\n      const contentType = response.headers.get('content-type');\r\n      const blob = await response.blob();\r\n      \r\n      // Create object URL for preview\r\n      const objectUrl = URL.createObjectURL(new Blob([blob], { type: contentType }));\r\n      return {\r\n        url: objectUrl,\r\n        type: contentType\r\n      };\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get all documents from latest folder\r\n  getLatestDocuments: async (cid) => {\r\n    try {\r\n      // Pad CID with leading zeros to match GCS folder structure (e.g., '1' -> '001')\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting documents for padded CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/all`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch documents');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.documents;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get all document dates for a client\r\n  getDocumentDates: async (cid) => {\r\n    try {\r\n      // Pad CID with leading zeros to match GCS folder structure\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting document dates for padded CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/dates`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document dates');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.dates;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get documents from specific date folder\r\n  getDocumentsByDate: async (cid, date) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting documents for padded CID:', paddedCid, 'date:', date);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/date/${date}`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch documents');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.documents;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};","import React, { useState, useContext, useEffect } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { authAPI } from '../../services/api';\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const { setCurrentUser, currentUser } = useContext(AuthContext);\r\n  \r\n  // Check for saved user on component mount\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      // Navigate based on role\r\n      if (currentUser.role === 'IT_ADMIN') {\r\n        navigation.navigate('Dashboard');\r\n      } else if (currentUser.role === 'OPS_MANAGER') {\r\n        navigation.navigate('OpsDashboard');\r\n      } else if (currentUser.role === 'LOAN_OFFICER') {\r\n        navigation.navigate('LoanOfficerDashboard');\r\n      }\r\n    }\r\n  }, [currentUser, navigation]);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await authAPI.login(username, password);\r\n      \r\n      if (response.user) {\r\n        setCurrentUser(response.user);\r\n        \r\n        if (response.user.role === 'IT_ADMIN') {\r\n          navigation.navigate('Dashboard');\r\n        } else if (response.user.role === 'OPS_MANAGER') {\r\n          navigation.navigate('OpsDashboard');\r\n        } else if (response.user.role === 'LOAN_OFFICER') {\r\n          navigation.navigate('LoanOfficerDashboard');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      alert(error.message || 'Login failed. Please check your credentials.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.card, isMobile && styles.cardMobile]}>\r\n        <Text style={styles.title}>LoanSiya Log-in Portal</Text>\r\n        <Text style={styles.label}>Username</Text>\r\n        <TextInput style={styles.input} onChangeText={setUsername} value={username} />\r\n        <Text style={styles.label}>Password</Text>\r\n        <TextInput style={styles.input} secureTextEntry onChangeText={setPassword} value={password} />\r\n        <TouchableOpacity\r\n          style={[styles.loginBtn, isLoading && styles.loginBtnDisabled]}\r\n          onPress={handleLogin}\r\n          disabled={isLoading}\r\n        >\r\n          <Text style={styles.loginText}>{isLoading ? 'Logging in...' : 'Login'}</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => navigation.navigate('ForgotPassword')}>\r\n          <Text style={styles.forgotText}>Forgot Password?</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: Platform.select({ web: 40, default: 20 })\r\n  },\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 40, default: 24 }),\r\n    borderRadius: 12,\r\n    width: '100%',\r\n    maxWidth: 400,\r\n    elevation: 5,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  cardMobile: {\r\n    padding: 20,\r\n    width: '95%',\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 24, default: 20 }),\r\n    fontWeight: '700',\r\n    textAlign: 'center',\r\n    marginBottom: Platform.select({ web: 30, default: 20 }),\r\n    color: '#333'\r\n  },\r\n  label: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 8,\r\n    color: '#333',\r\n    fontWeight: '500'\r\n  },\r\n  input: {\r\n    backgroundColor: '#e1e1e1',\r\n    padding: Platform.select({ web: 14, default: 12 }),\r\n    borderRadius: 8,\r\n    marginBottom: 20,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    borderWidth: 1,\r\n    borderColor: '#ccc'\r\n  },\r\n  loginBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: Platform.select({ web: 14, default: 12 }),\r\n    borderRadius: 8,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    width: '100%'\r\n  },\r\n  loginBtnDisabled: {\r\n    backgroundColor: '#ccc',\r\n    opacity: 0.7\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center',\r\n    marginBottom: 10\r\n  },\r\n  loginBtnDisabled: {\r\n    backgroundColor: '#ccc',\r\n    opacity: 0.7\r\n  },\r\n  loginText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 })\r\n  },\r\n  forgotText: {\r\n    textAlign: 'center',\r\n    marginTop: 16,\r\n    color: '#007bff',\r\n    textDecorationLine: 'underline',\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  }\r\n});","import React, { useState, useContext } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\nexport default function ForgotPasswordScreen({ navigation }) {\r\n  const [step, setStep] = useState(1);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  // Sample user data - in real app this would come from a backend\r\n  const users = [\r\n    { username: 'admin', role: 'IT_ADMIN' },\r\n    { username: 'officer1', role: 'OFFICER' },\r\n  ];\r\n\r\n  const handleSubmitUsername = () => {\r\n    const user = users.find(u => u.username === username);\r\n    if (user) {\r\n      setIsAdmin(user.role === 'IT_ADMIN');\r\n      if (user.role === 'IT_ADMIN') {\r\n        setStep(2);\r\n      } else {\r\n        setStep(4); // Show contact admin message for non-admin users\r\n      }\r\n    } else {\r\n      alert('Username not found!');\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = () => {\r\n    if (newPassword !== confirmPassword) {\r\n      alert('Passwords do not match!');\r\n      return;\r\n    }\r\n    if (newPassword.length < 6) {\r\n      alert('Password must be at least 6 characters long!');\r\n      return;\r\n    }\r\n    // In a real app, this would make an API call to reset the password\r\n    setStep(3); // Show email confirmation message\r\n  };\r\n\r\n  const renderStep1 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Forgot Password</Text>\r\n      <Text style={styles.subtitle}>Enter your username (ex. officer1)</Text>\r\n      <Text style={styles.label}>Enter Username:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={username}\r\n        onChangeText={setUsername}\r\n        placeholder=\"Username\"\r\n      />\r\n      <TouchableOpacity style={styles.submitBtn} onPress={handleSubmitUsername}>\r\n        <Text style={styles.submitText}>Submit</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep2 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello Admin!</Text>\r\n      <Text style={styles.label}>Email:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={email}\r\n        onChangeText={setEmail}\r\n        placeholder=\"Enter your email\"\r\n        keyboardType=\"email-address\"\r\n      />\r\n      <Text style={styles.label}>New Password:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={newPassword}\r\n        onChangeText={setNewPassword}\r\n        secureTextEntry\r\n        placeholder=\"Enter new password\"\r\n      />\r\n      <Text style={styles.label}>Confirm Password:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={confirmPassword}\r\n        onChangeText={setConfirmPassword}\r\n        secureTextEntry\r\n        placeholder=\"Confirm new password\"\r\n      />\r\n      <TouchableOpacity style={styles.submitBtn} onPress={handleResetPassword}>\r\n        <Text style={styles.submitText}>Submit</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep3 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello Admin!</Text>\r\n      <Text style={styles.message}>\r\n        Please check your email, we have sent you a confirmation.\r\n      </Text>\r\n      <TouchableOpacity style={styles.submitBtn} onPress={() => navigation.navigate('Login')}>\r\n        <Text style={styles.submitText}>Back to Login</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep4 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello!</Text>\r\n      <Text style={styles.message}>\r\n        Please contact the IT Admin for password assistance!\r\n      </Text>\r\n      <TouchableOpacity style={styles.submitBtn} onPress={() => navigation.navigate('Login')}>\r\n        <Text style={styles.submitText}>Back to Login</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.card}>\r\n        {step === 1 && renderStep1()}\r\n        {step === 2 && renderStep2()}\r\n        {step === 3 && renderStep3()}\r\n        {step === 4 && renderStep4()}\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    padding: 30,\r\n    borderRadius: 10,\r\n    width: '90%',\r\n    maxWidth: 400,\r\n    elevation: 5,\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: '700',\r\n    textAlign: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  subtitle: {\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n    color: '#666',\r\n  },\r\n  label: {\r\n    fontSize: 14,\r\n    marginBottom: 6,\r\n    color: '#333',\r\n  },\r\n  input: {\r\n    backgroundColor: '#e1e1e1',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    marginBottom: 16,\r\n  },\r\n  submitBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: 12,\r\n    borderRadius: 6,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n  },\r\n  submitText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n  },\r\n  message: {\r\n    textAlign: 'center',\r\n    fontSize: 16,\r\n    marginVertical: 20,\r\n    color: '#666',\r\n  },\r\n});","import React, { createContext, useState, useEffect } from 'react';\r\nimport { userAPI } from '../services/api';\r\n\r\nexport const UsersContext = createContext({\r\n  users: [],\r\n  loading: false,\r\n  addUser: (user) => {},\r\n  updateUser: (user) => {},\r\n  refreshUsers: () => {},\r\n});\r\n\r\nexport const UsersProvider = ({ children }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch users from GCS on component mount\r\n  const refreshUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const fetchedUsers = await userAPI.getAllUsers();\r\n      setUsers(fetchedUsers);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      // Keep existing users if fetch fails\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshUsers();\r\n  }, []);\r\n\r\n  const addUser = async (user) => {\r\n    try {\r\n      // Validate required fields\r\n      if (!user.username || !user.fullName || !user.role || !user.password) {\r\n        throw new Error('Username, full name, role, and password are required');\r\n      }\r\n\r\n      setLoading(true);\r\n      const response = await userAPI.addUser(user);\r\n      \r\n      // Refresh users list to get updated data from GCS\r\n      await refreshUsers();\r\n      \r\n      return response.user;\r\n    } catch (error) {\r\n      console.error('Error adding user:', error);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateUser = async (updatedUser) => {\r\n    try {\r\n      if (!updatedUser.id && !updatedUser.username) {\r\n        throw new Error('User ID or username is required for updating');\r\n      }\r\n      \r\n      const username = updatedUser.username || updatedUser.id;\r\n      \r\n      setLoading(true);\r\n\r\n      // For simple status updates\r\n      if (Object.keys(updatedUser).length === 2 && updatedUser.status) {\r\n        await userAPI.updateUserStatus(username, updatedUser.status);\r\n      } else {\r\n        // For full user updates\r\n        const updateData = {};\r\n        if (updatedUser.fullName) updateData.fullName = updatedUser.fullName;\r\n        if (updatedUser.role) updateData.role = updatedUser.role;\r\n        if (updatedUser.status) updateData.status = updatedUser.status;\r\n        if (updatedUser.password) updateData.password = updatedUser.password;\r\n        \r\n        await userAPI.updateUser(username, updateData);\r\n      }\r\n      \r\n      // Refresh users list to get updated data from GCS\r\n      await refreshUsers();\r\n    } catch (error) {\r\n      console.error('Error updating user:', error);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <UsersContext.Provider value={{\r\n      users,\r\n      loading,\r\n      addUser,\r\n      updateUser,\r\n      refreshUsers,\r\n    }}>\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n};","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\nexport default function TopBar({ navigation, role, showNotifications, unreadCount }) {\r\n  const { logout } = useContext(AuthContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  return (\r\n    <View style={styles.topbar}>\r\n      <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n        <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        {!isMobile && <Text style={styles.title}>Dashboard</Text>}\r\n      </View>\r\n      <View style={[styles.rightSection, isMobile && styles.rightSectionMobile]}>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>{role}</Text>\r\n        {showNotifications && (\r\n          <TouchableOpacity\r\n            style={styles.notificationContainer}\r\n            onPress={() => navigation.navigate('LoanOfficerNotifications')}\r\n          >\r\n            <Text style={[styles.icon, isMobile && styles.iconMobile]}></Text>\r\n            {unreadCount > 0 && (\r\n              <View style={styles.badge}>\r\n                <Text style={styles.badgeText}>{unreadCount}</Text>\r\n              </View>\r\n            )}\r\n          </TouchableOpacity>\r\n        )}\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            logout();\r\n            navigation.replace('Login');\r\n          }}\r\n          style={[styles.logoutButton, isMobile && styles.logoutButtonMobile]}\r\n        >\r\n          <Text style={[styles.logout, isMobile && styles.logoutMobile]}>Logout</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: '5%', default: 16 }),\r\n    paddingVertical: Platform.select({ web: 15, default: 12 }),\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 15,\r\n  },\r\n  rightSectionMobile: {\r\n    gap: 8,\r\n  },\r\n  brand: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 16,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 20, default: 16 }),\r\n    fontWeight: '500',\r\n  },\r\n  role: {\r\n    fontSize: 16,\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  logoutButton: {\r\n    padding: Platform.select({ web: 8, default: 12 }),\r\n    backgroundColor: '#f0f0f0',\r\n    borderRadius: 6,\r\n    minWidth: Platform.select({ web: 80, default: 70 }),\r\n  },\r\n  logoutButtonMobile: {\r\n    padding: 10,\r\n    minWidth: 60,\r\n  },\r\n  logout: {\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    textAlign: 'center',\r\n  },\r\n  logoutMobile: {\r\n    fontSize: 14,\r\n  },\r\n  notificationContainer: {\r\n    position: 'relative',\r\n    padding: Platform.select({ web: 8, default: 12 }),\r\n  },\r\n  icon: {\r\n    fontSize: Platform.select({ web: 18, default: 20 }),\r\n  },\r\n  iconMobile: {\r\n    fontSize: 16,\r\n  },\r\n  badge: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    backgroundColor: '#e74c3c',\r\n    borderRadius: 10,\r\n    minWidth: 20,\r\n    height: 20,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 2,\r\n  },\r\n  badgeText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n  },\r\n});","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform } from 'react-native';\r\n\r\nexport default function DashboardCard({ label, value, onPress }) {\r\n  return (\r\n    <View style={styles.card}>\r\n      <Text style={styles.label}>{label}</Text>\r\n      <Text style={styles.number}>{value}</Text>\r\n      {onPress && (\r\n        <TouchableOpacity style={styles.button} onPress={onPress}>\r\n          <Text style={styles.buttonText}>View List</Text>\r\n        </TouchableOpacity>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    backgroundColor: '#e2e2e2',\r\n    paddingVertical: Platform.select({ web: 30, default: 20 }),\r\n    paddingHorizontal: Platform.select({ web: 25, default: 15 }),\r\n    borderRadius: 12,\r\n    width: Platform.select({ web: 200, default: '45%' }),\r\n    minWidth: Platform.select({ web: 180, default: 150 }),\r\n    alignItems: 'center',\r\n    elevation: 3,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  label: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    textAlign: 'center',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  number: {\r\n    fontSize: Platform.select({ web: 28, default: 24 }),\r\n    fontWeight: 'bold',\r\n    color: '#111',\r\n    marginBottom: Platform.select({ web: 14, default: 10 }),\r\n  },\r\n  button: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 30, default: 20 }),\r\n    borderRadius: 8,\r\n    width: '90%',\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, useWindowDimensions } from 'react-native';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function DashboardScreen({ navigation }) {\r\n  const { users } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const officerCount = users.filter(user =>\r\n    (user.roleType === 'LOAN_OFFICER' || user.role === 'Loan Officer') && user.status === 'Active'\r\n  ).length;\r\n  \r\n  const opsCount = users.filter(user =>\r\n    (user.roleType === 'OPS_MANAGER' || user.role === 'OPS_MANAGER') && user.status === 'Active'\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"IT Admin\"\r\n        showNotifications={false}\r\n      />\r\n\r\n      <View style={styles.content}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Active Loan Officers\"\r\n            value={officerCount}\r\n          />\r\n          <DashboardCard\r\n            label=\"Total Active Operations Manager\"\r\n            value={opsCount}\r\n          />\r\n        </View>\r\n        <TouchableOpacity\r\n          style={[styles.viewListButton, isMobile && styles.viewListButtonMobile]}\r\n          onPress={() => navigation.navigate('UserManagement')}\r\n        >\r\n          <Text style={[styles.buttonText, isMobile && styles.buttonTextMobile]}>View List</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: 20,\r\n    marginBottom: 20,\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  cardRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 15,\r\n    alignItems: 'center',\r\n  },\r\n  viewListButton: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 40,\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    minWidth: 200,\r\n  },\r\n  viewListButtonMobile: {\r\n    paddingVertical: 14,\r\n    paddingHorizontal: 30,\r\n    marginTop: 25,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 15,\r\n  },\r\n});","import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { clientAPI } from '../services/api';\r\n\r\nconst LoanContext = createContext();\r\n\r\nconst POLLING_INTERVAL = 30000; // 30 seconds\r\n\r\nexport function LoanProvider({ children }) {\r\n  const [loans, setLoans] = useState([]);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch clients when component mounts\r\n  useEffect(() => {\r\n    fetchClients();\r\n  }, []);\r\n\r\n  // Set up polling for notifications\r\n  useEffect(() => {\r\n    fetchNotifications(); // Initial fetch\r\n\r\n    const interval = setInterval(() => {\r\n      fetchNotifications();\r\n    }, POLLING_INTERVAL);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchClients = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const clientData = await clientAPI.getAllClients();\r\n      setLoans(clientData);\r\n    } catch (err) {\r\n      setError(`Failed to fetch clients: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshClientData = async (cid) => {\r\n    try {\r\n      const updatedClient = await clientAPI.getClientById(cid);\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(loan =>\r\n          loan.cid === cid ? updatedClient : loan\r\n        )\r\n      );\r\n      return updatedClient;\r\n    } catch (err) {\r\n      setError(`Failed to refresh client: ${err.message}`);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Fetch notifications from the server\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const response = await clientAPI.notifications.getNotifications();\r\n      setNotifications(response);\r\n      setUnreadCount(response.filter(n => !n.read).length);\r\n    } catch (err) {\r\n      console.error('Failed to fetch notifications:', err);\r\n    }\r\n  };\r\n\r\n  const addNotification = async (notification) => {\r\n    try {\r\n      await clientAPI.notifications.createNotification({\r\n        timestamp: new Date().toISOString(),\r\n        read: false,\r\n        ...notification\r\n      });\r\n      await fetchNotifications(); // Refresh notifications\r\n    } catch (err) {\r\n      console.error('Failed to create notification:', err);\r\n    }\r\n  };\r\n\r\n  const markNotificationsAsRead = async () => {\r\n    try {\r\n      const unreadIds = notifications.filter(n => !n.read).map(n => n.id);\r\n      if (unreadIds.length > 0) {\r\n        await clientAPI.notifications.markAsRead(unreadIds);\r\n        await fetchNotifications(); // Refresh notifications\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to mark notifications as read:', err);\r\n    }\r\n  };\r\n\r\n  const clearNotifications = () => {\r\n    // Note: This is now just a visual clear, as we're keeping notifications in the backend\r\n    setNotifications([]);\r\n    setUnreadCount(0);\r\n  };\r\n\r\n  const updateLoan = async (cid, updates) => {\r\n    try {\r\n      const loan = loans.find(l => l.cid === cid);\r\n      if (!loan) {\r\n        throw new Error(`Loan not found for CID: ${cid}`);\r\n      }\r\n\r\n      // Update local state\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(l =>\r\n          l.cid === cid\r\n            ? { ...l, ...updates }\r\n            : l\r\n        )\r\n      );\r\n\r\n      // Create notification in backend if status changed\r\n      if (updates.status === 'Approved' || updates.status === 'Declined') {\r\n        await addNotification({\r\n          cid,\r\n          clientName: loan.name,\r\n          type: 'status_change',\r\n          status: updates.status,\r\n          message: `Loan request for client ${loan.name} has been ${updates.status.toLowerCase()} by Operations Manager`,\r\n          recipientRole: 'loan_officer' // Specify that this is for loan officers\r\n        });\r\n      }\r\n\r\n      // Refresh client data to ensure consistency\r\n      const updatedClient = await refreshClientData(cid);\r\n      return updatedClient;\r\n    } catch (err) {\r\n      console.error('Failed to update loan:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const updateLoanAmount = async (cid, newAmount) => {\r\n    try {\r\n      const targetLoan = loans.find(l => l.cid === cid);\r\n      if (!targetLoan) throw new Error('Client not found');\r\n\r\n      // Update amount in the API\r\n      await clientAPI.updateLoanAmount(cid, newAmount);\r\n\r\n      // Update local state after API success\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(loan => {\r\n          if (loan.cid === cid) {\r\n            const updatedHistory = [...loan.loans.loanHistory];\r\n            const latestRequestIndex = updatedHistory.findIndex(\r\n              (loan, _, arr) =>\r\n                new Date(loan.dateApplied).getTime() ===\r\n                Math.max(...arr.map(l => new Date(l.dateApplied).getTime()))\r\n            );\r\n\r\n            if (latestRequestIndex !== -1) {\r\n              updatedHistory[latestRequestIndex] = {\r\n                ...updatedHistory[latestRequestIndex],\r\n                amount: newAmount,\r\n                decidedAt: new Date().toISOString()\r\n              };\r\n            }\r\n\r\n            return {\r\n              ...loan,\r\n              loans: {\r\n                ...loan.loans,\r\n                loanHistory: updatedHistory\r\n              }\r\n            };\r\n          }\r\n          return loan;\r\n        })\r\n      );\r\n\r\n      // Create notification in backend\r\n      await addNotification({\r\n        cid,\r\n        clientName: targetLoan.name,\r\n        type: 'amount_change',\r\n        amount: newAmount,\r\n        message: `Loan amount for client ${targetLoan.name} has been updated to ${newAmount.toLocaleString()} by Operations Manager`,\r\n        recipientRole: 'loan_officer'\r\n      });\r\n\r\n      return await refreshClientData(cid);\r\n    } catch (err) {\r\n      console.error('Failed to update loan amount:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoanContext.Provider value={{\r\n      loans,\r\n      loading,\r\n      error,\r\n      updateLoan,\r\n      updateLoanAmount,\r\n      refreshClientData,\r\n      notifications,\r\n      unreadCount,\r\n      markNotificationsAsRead,\r\n      clearNotifications,\r\n      fetchNotifications // Export this so components can manually refresh if needed\r\n    }}>\r\n      {children}\r\n    </LoanContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useLoan() {\r\n  const context = useContext(LoanContext);\r\n  if (!context) {\r\n    throw new Error('useLoan must be used within a LoanProvider');\r\n  }\r\n  return context;\r\n}","import React from 'react';\r\nimport { View, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function OpsDashboardScreen({ navigation }) {\r\n  const { loans } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const totalClients = loans.length;\r\n  const totalPending = loans.filter(loan =>\r\n    loan.status === 'Pending' ||\r\n    !loan.status\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"Operations Manager\"\r\n        showNotifications={false}\r\n      />\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Loan Clients\"\r\n            value={totalClients}\r\n            onPress={() => navigation.navigate('OpsClientList')}\r\n          />\r\n          <DashboardCard\r\n            label=\"Total Loan Pending\"\r\n            value={totalPending}\r\n            onPress={() => navigation.navigate('OpsPendingList')}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 40, default: 20 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  contentMobile: {\r\n    padding: 16,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 30, default: 15 }),\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    maxWidth: 1200,\r\n    width: '100%',\r\n  },\r\n  cardRowMobile: {\r\n    gap: 12,\r\n    paddingHorizontal: 10,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport { View, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function LoanOfficerDashboard({ navigation }) {\r\n  const { loans, unreadCount } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const totalLoanClients = loans.length;\r\n  const totalLoanPending = loans.filter(loan =>\r\n    loan.status === 'Pending' ||\r\n    !loan.status\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"Loan Officer\"\r\n        showNotifications={true}\r\n        unreadCount={unreadCount}\r\n      />\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Loan Client\"\r\n            value={totalLoanClients}\r\n            onPress={() => navigation.navigate('ClientList')}\r\n          />\r\n        <DashboardCard\r\n          label=\"Total Loan List\"\r\n          value={totalLoanClients}\r\n          onPress={() => navigation.navigate('TotalLoanList')}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 40, default: 20 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  contentMobile: {\r\n    padding: 16,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 30, default: 15 }),\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    maxWidth: 1200,\r\n    width: '100%',\r\n  },\r\n  cardRowMobile: {\r\n    gap: 12,\r\n    paddingHorizontal: 10,\r\n  },\r\n});\r\n","import { Platform } from 'react-native';\r\n\r\nexport const sharedStyles = {\r\n  container: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: '#f6f6f6',\r\n    padding: Platform.select({ web: 24, default: 16 }),\r\n  },\r\n  containerDesktop: {\r\n    minHeight: '100vh',\r\n    justifyContent: 'center',\r\n    paddingVertical: 40,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    width: '100%',\r\n    maxWidth: 1400,\r\n    alignSelf: 'center',\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n  },\r\n  section: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 10, default: 8 }),\r\n    marginVertical: Platform.select({ web: 0, default: 8 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  sectionMobile: {\r\n    padding: 12,\r\n    marginBottom: 20,\r\n    marginHorizontal: 0,\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n  },\r\n  errorText: {\r\n    color: '#dc3545',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 15,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  button: {\r\n    primaryButton: {\r\n      backgroundColor: '#007bff',\r\n      paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n      paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n      borderRadius: 8,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    secondaryButton: {\r\n      backgroundColor: '#e9ecef',\r\n      paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n      paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n      borderRadius: 8,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    buttonText: {\r\n      color: '#fff',\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      fontWeight: '600',\r\n      textAlign: 'center',\r\n    },\r\n    buttonTextSecondary: {\r\n      color: '#333',\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      fontWeight: '600',\r\n      textAlign: 'center',\r\n    },\r\n  },\r\n  modal: {\r\n    overlay: {\r\n      flex: 1,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    content: {\r\n      backgroundColor: 'white',\r\n      padding: Platform.select({ web: 24, default: 16 }),\r\n      borderRadius: 12,\r\n      width: '80%',\r\n      maxWidth: 500,\r\n      maxHeight: '80%',\r\n    },\r\n    contentMobile: {\r\n      width: '90%',\r\n      padding: 16,\r\n    },\r\n    title: {\r\n      fontSize: Platform.select({ web: 18, default: 16 }),\r\n      fontWeight: 'bold',\r\n      marginBottom: 15,\r\n      textAlign: 'center',\r\n      color: '#333',\r\n    },\r\n  },\r\n  searchBar: {\r\n    container: {\r\n      flexDirection: 'row',\r\n      marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    },\r\n    input: {\r\n      backgroundColor: '#fff',\r\n      borderRadius: 8,\r\n      padding: Platform.select({ web: 12, default: 10 }),\r\n      flex: 1,\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      borderWidth: 1,\r\n      borderColor: '#ddd',\r\n    },\r\n    inputMobile: {\r\n      padding: 8,\r\n      fontSize: 14,\r\n    },\r\n  },\r\n  header: {\r\n    marginBottom: Platform.select({ web: 24, default: 16 }),\r\n  },\r\n  titleContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, ActivityIndicator, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { sharedStyles } from '../../styles/shared';\r\n\r\nexport default function ClientList({ \r\n  navigation, \r\n  userRole = 'loanofficer',\r\n  onClientPress,\r\n  dashboardRoute\r\n}) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const [search, setSearch] = useState('');\r\n  const { loans, loading, error } = useLoan();\r\n\r\n  const filteredClients = loans.filter(client =>\r\n    client.name.toLowerCase().includes(search.toLowerCase()) || client.cid.includes(search)\r\n  );\r\n\r\n  const handleClientPress = (client) => {\r\n    if (onClientPress) {\r\n      onClientPress(client);\r\n    } else {\r\n      const screenName = userRole === 'ops' ? 'OpsClientProfile' : 'ClientProfile';\r\n      navigation.navigate(screenName, {\r\n        client: {\r\n          ...client,\r\n          cid: client.cid,\r\n          name: client.name || 'N/A',\r\n          age: client.age || 0,\r\n          email: client.email || 'N/A',\r\n          number: client.number || 'N/A',\r\n          address: client.address || 'N/A',\r\n          financial: client.financial || {\r\n            monthlyIncome: 0,\r\n            monthlyExpenses: 0,\r\n            assets: 0,\r\n            dti: 0\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[styles.row, isMobile && styles.rowMobile]}\r\n      onPress={() => isMobile && handleClientPress(item)}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n        </View>\r\n      ) : (\r\n        // Desktop layout\r\n        <View style={styles.rowContent}>\r\n          <Text style={[styles.cell, styles.cidCell]}>{item.cid}</Text>\r\n          <Text style={[styles.cell, styles.nameCell]}>{item.name}</Text>\r\n          <View style={styles.actionCell}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => handleClientPress(item)}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={sharedStyles.loadingText}>Loading clients...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>{error}</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={sharedStyles.container}>\r\n      <View style={styles.header}>\r\n        <View style={styles.titleContainer}>\r\n          <Text style={[sharedStyles.title, isMobile && sharedStyles.titleMobile]}>Client List</Text>\r\n          <TouchableOpacity\r\n            style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n            onPress={() => navigation.navigate(dashboardRoute)}\r\n          >\r\n            <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>Go to Dashboard</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={[sharedStyles.searchBar.container, isMobile && styles.searchBarMobile]}>\r\n          <TextInput\r\n            style={[sharedStyles.searchBar.input, isMobile && sharedStyles.searchBar.inputMobile]}\r\n            placeholder=\"Search by name or CID\"\r\n            value={search}\r\n            onChangeText={setSearch}\r\n          />\r\n        </View>\r\n      </View>\r\n\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <View style={styles.rowContent}>\r\n            <Text style={[styles.headerCell, styles.cidCell]}>CID</Text>\r\n            <Text style={[styles.headerCell, styles.nameCell]}>Full Name</Text>\r\n            <View style={styles.actionCell}>\r\n              <Text style={styles.headerCell}></Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      <FlatList\r\n        data={filteredClients}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n        ListEmptyComponent={() => (\r\n          <View style={styles.emptyContainer}>\r\n            <Text style={styles.emptyText}>\r\n              {search ? 'No clients match your search' : 'No clients found'}\r\n            </Text>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    marginBottom: 20,\r\n  },\r\n  titleContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 10,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    marginBottom: 4,\r\n    borderRadius: 8,\r\n    alignItems: 'flex-start',\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    color: '#495057',\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    marginBottom: 8,\r\n    borderRadius: 8,\r\n    alignItems: 'flex-start',\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n  },\r\n  rowContent: {\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  cell: {\r\n    paddingHorizontal: 6,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#212529',\r\n  },\r\n  cidCell: {\r\n    width: '25%',\r\n    textAlign: 'left',\r\n  },\r\n  nameCell: {\r\n    width: '50%',\r\n    textAlign: 'left',\r\n  },\r\n  actionCell: {\r\n    width: '25%',\r\n    alignItems: 'flex-end',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  emptyContainer: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  emptyText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#6c757d',\r\n  },\r\n});","import React from 'react';\r\nimport ClientList from '../../components/clients/ClientList';\r\n\r\nexport default function ClientListScreen({ navigation }) {\r\n  return (\r\n    <ClientList\r\n      navigation={navigation}\r\n      userRole=\"loanofficer\"\r\n      dashboardRoute=\"LoanOfficerDashboard\"\r\n    />\r\n  );\r\n}\r\n","export const formatDateForDisplay = (dateString) => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\n// Helper function to calculate due date based on loan terms\r\nexport const calculateDueDate = (dateApplied, termMonths, repaymentMethod = 'monthly') => {\r\n  if (!dateApplied || !termMonths) return 'N/A';\r\n  \r\n  const startDate = new Date(dateApplied);\r\n  \r\n  if (repaymentMethod.toLowerCase() === 'daily') {\r\n    // For daily payments: start date + (term * 30) days\r\n    const totalDays = termMonths * 30;\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setDate(dueDate.getDate() + totalDays);\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  } else if (repaymentMethod.toLowerCase() === 'weekly') {\r\n    // For weekly payments: start date + (term * 4.33) weeks\r\n    const totalWeeks = Math.ceil(termMonths * 4.33);\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setDate(dueDate.getDate() + (totalWeeks * 7));\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long', \r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  } else {\r\n    // For monthly payments: start date + term months\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setMonth(dueDate.getMonth() + parseInt(termMonths));\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long',\r\n      day: 'numeric', \r\n      year: 'numeric'\r\n    });\r\n  }\r\n};\r\n\r\n// Helper function to get next day's date (for first payment)\r\nexport const getNextDay = (currentDate) => {\r\n  const date = new Date(currentDate);\r\n  date.setDate(date.getDate() + 1);\r\n  return date.toLocaleDateString('en-US', {\r\n    month: 'long',\r\n    day: 'numeric',\r\n    year: 'numeric'\r\n  });\r\n};","import { clientAPI } from '../services/api';\r\n\r\nexport const loadApplicationDocumentDates = async (cid) => {\r\n  try {\r\n    const dates = await clientAPI.getDocumentDates(cid);\r\n    const filteredDates = [];\r\n    \r\n    for (const dateInfo of dates) {\r\n      const documents = await clientAPI.getDocumentsByDate(cid, dateInfo.date);\r\n      const applicationDocs = documents.filter(doc =>\r\n        !['pdf', 'signed-promissory-note'].some(keyword =>\r\n          doc.type.includes(keyword) ||\r\n          doc.name.toLowerCase().includes(keyword) ||\r\n          doc.displayName.toLowerCase().includes(keyword)\r\n        )\r\n      );\r\n    \r\n      if (applicationDocs.length > 0) {\r\n        filteredDates.push({\r\n          ...dateInfo,\r\n          documentCount: applicationDocs.length\r\n        });\r\n      }\r\n    }\r\n    return filteredDates;\r\n  } catch (error) {\r\n    console.error('Error loading document dates:', error);\r\n    throw new Error('Failed to load document dates');\r\n  }\r\n};\r\n\r\nexport const loadSignedDocumentDates = async (cid) => {\r\n  try {\r\n    const dates = await clientAPI.getDocumentDates(cid);\r\n    const datesWithSignedDocs = [];\r\n    \r\n    for (const dateInfo of dates) {\r\n      const documents = await clientAPI.getDocumentsByDate(cid, dateInfo.date);\r\n      const signedDocs = documents.filter(doc => {\r\n        const name = (doc.name || '').toLowerCase();\r\n        const displayName = (doc.displayName || '').toLowerCase();\r\n        const type = (doc.type || '').toLowerCase();\r\n        \r\n        const isPDF = type.includes('pdf') ||\r\n          name.endsWith('.pdf') ||\r\n          displayName.endsWith('.pdf');\r\n          \r\n        const isPromissoryNote = name.includes('signed-promissory-note') ||\r\n          displayName.includes('signed-promissory note');\r\n        \r\n        return isPDF || isPromissoryNote;\r\n      });\r\n      \r\n      if (signedDocs.length > 0) {\r\n        datesWithSignedDocs.push({\r\n          ...dateInfo,\r\n          documentCount: signedDocs.length\r\n        });\r\n      }\r\n    }\r\n    return datesWithSignedDocs;\r\n  } catch (error) {\r\n    console.error('Error loading signed document dates:', error);\r\n    throw new Error('Failed to load signed document dates');\r\n  }\r\n};\r\n\r\nexport const getApplicationDocuments = async (cid, selectedDate) => {\r\n  try {\r\n    const documents = await clientAPI.getDocumentsByDate(cid, selectedDate);\r\n    return documents.filter(doc =>\r\n      !['pdf', 'signed-promissory-note'].some(keyword =>\r\n        doc.type.includes(keyword) ||\r\n        doc.name.toLowerCase().includes(keyword) ||\r\n        doc.displayName.toLowerCase().includes(keyword)\r\n      )\r\n    );\r\n  } catch (error) {\r\n    console.error('Error loading documents:', error);\r\n    throw new Error('Failed to load application documents');\r\n  }\r\n};\r\n\r\nexport const getSignedDocuments = async (cid, selectedDate) => {\r\n  try {\r\n    const documents = await clientAPI.getDocumentsByDate(cid, selectedDate);\r\n    return documents.filter(doc => {\r\n      const name = (doc.name || '').toLowerCase();\r\n      const displayName = (doc.displayName || '').toLowerCase();\r\n      const type = (doc.type || '').toLowerCase();\r\n      \r\n      const isPDF = type.includes('pdf') ||\r\n        name.endsWith('.pdf') ||\r\n        displayName.endsWith('.pdf');\r\n        \r\n      const isPromissoryNote = name.includes('signed-promissory-note') ||\r\n        displayName.includes('signed-promissory note');\r\n      \r\n      return isPDF || isPromissoryNote;\r\n    });\r\n  } catch (error) {\r\n    console.error('Error loading signed documents:', error);\r\n    throw new Error('Failed to load signed documents');\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, ScrollView, ActivityIndicator, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { DOCUMENT_CATEGORIES } from '../../services/api';\r\nimport { sharedStyles } from '../../styles/shared';\r\nimport { formatDateForDisplay } from '../../utils/dateFormatters';\r\nimport { loadApplicationDocumentDates, loadSignedDocumentDates, getApplicationDocuments, getSignedDocuments } from '../../utils/documentHandlers';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  documents: {\r\n    applicationDocs: DOCUMENT_CATEGORIES.APPLICATION_DOCS,\r\n    signedDocuments: []\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A'\r\n};\r\n\r\nexport default function ClientProfile({ \r\n  navigation, \r\n  route,\r\n  userRole = 'loanofficer' \r\n}) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const [client, setClient] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDateModal, setShowDateModal] = useState(false);\r\n  const [documentDates, setDocumentDates] = useState([]);\r\n  const [loadingDates, setLoadingDates] = useState(false);\r\n  const [modalType, setModalType] = useState('application');\r\n  const { refreshClientData } = useLoan();\r\n  const cid = route.params?.client?.cid;\r\n\r\n  useEffect(() => {\r\n    if (cid) {\r\n      loadClientData();\r\n    }\r\n  }, [cid]);\r\n\r\n  const loadClientData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const clientData = await refreshClientData(cid);\r\n      \r\n      const documents = {\r\n        applicationDocs: clientData.documents?.applicationDocs || defaultClient.documents.applicationDocs,\r\n        signedDocuments: clientData.documents?.signedDocuments || []\r\n      };\r\n\r\n      setClient({\r\n        ...defaultClient,\r\n        ...clientData,\r\n        documents\r\n      });\r\n    } catch (err) {\r\n      console.error('Error loading client:', err);\r\n      setError('Failed to load client data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLoadDocumentDates = async (type) => {\r\n    try {\r\n      setLoadingDates(true);\r\n      setModalType(type);\r\n      const dates = type === 'application' \r\n        ? await loadApplicationDocumentDates(cid)\r\n        : await loadSignedDocumentDates(cid);\r\n      setDocumentDates(dates);\r\n      setShowDateModal(true);\r\n    } catch (error) {\r\n      alert(`Error loading ${type} document dates. Please try again.`);\r\n    } finally {\r\n      setLoadingDates(false);\r\n    }\r\n  };\r\n\r\n  const handleDateSelection = async (selectedDate) => {\r\n    try {\r\n      setShowDateModal(false);\r\n      const documents = modalType === 'application'\r\n        ? await getApplicationDocuments(client.cid, selectedDate)\r\n        : await getSignedDocuments(client.cid, selectedDate);\r\n\r\n      if (documents.length > 0) {\r\n        navigation.navigate('DocumentPreview', {\r\n          cid: client.cid,\r\n          title: `${modalType === 'application' ? 'Application' : 'Signed'} Documents - ${formatDateForDisplay(selectedDate)}`,\r\n          documents,\r\n          latestDate: selectedDate\r\n        });\r\n      } else {\r\n        alert(`No ${modalType} documents found for the selected date`);\r\n      }\r\n    } catch (error) {\r\n      alert(`Error loading ${modalType} documents. Please try again.`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={sharedStyles.loadingText}>Loading client data...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryBtn} onPress={loadClientData}>\r\n          <Text style={styles.retryText}>Retry</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>Client not found</Text>\r\n        <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n          <Text style={styles.backBtnText}> Back to List</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ScrollView style={styles.scrollView} contentContainerStyle={[sharedStyles.container, !isMobile && sharedStyles.containerDesktop]}>\r\n      <View style={[sharedStyles.content, isMobile && sharedStyles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[sharedStyles.section, isMobile && sharedStyles.sectionMobile]}>\r\n          <Text style={styles.sectionTitle}>Client Profile</Text>\r\n          <Text style={styles.subTitle}>Personal Details</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: 16 }]}>Uploaded Documents</Text>\r\n          \r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={() => handleLoadDocumentDates('application')}\r\n              disabled={loadingDates}\r\n            >\r\n              <Text style={styles.previewText}>\r\n                {loadingDates ? 'Loading...' : 'View'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={() => handleLoadDocumentDates('signed')}\r\n              disabled={loadingDates}\r\n            >\r\n              <Text style={styles.previewText}>\r\n                {loadingDates ? 'Loading...' : 'View'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[sharedStyles.section, isMobile && sharedStyles.sectionMobile]}>\r\n          <View style={styles.financialContainer}>\r\n            <Text style={styles.sectionTitle}>Financial Record</Text>\r\n            <View style={styles.financialDetails}>\r\n              <Text style={styles.financialItem}>Monthly Income {client.financial.monthlyIncome.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Monthly Expenses {client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Saving and Assets {client.financial.assets.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Debt to Income Ratio {client.financial.dti}%</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={styles.employmentContainer}>\r\n            <Text style={[styles.sectionTitle, { marginTop: 16 }]}>Employment or Business info</Text>\r\n            <View style={styles.employmentDetails}>\r\n              <Text style={styles.employmentItem}>{client.employer}</Text>\r\n              <Text style={styles.employmentItem}>{client.position}</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={styles.loanHistoryContainer}>\r\n            <Text style={[styles.sectionTitle, { marginTop: 16 }]}>Loan History</Text>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => navigation.navigate('LoanHistory', {\r\n                clientId: client.cid,\r\n                userRole\r\n              })}\r\n            >\r\n              <Text style={styles.viewBtnText}>View History</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.actionRow}>\r\n            <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n              <Text style={styles.backBtnText}> Back to List</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.refreshBtn} onPress={loadClientData}>\r\n              <Text style={styles.actionBtnText}> Refresh</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Date Selection Modal */}\r\n      <Modal\r\n        visible={showDateModal}\r\n        transparent={true}\r\n        animationType=\"fade\"\r\n        onRequestClose={() => setShowDateModal(false)}\r\n      >\r\n        <View style={sharedStyles.modal.overlay}>\r\n          <View style={[sharedStyles.modal.content, isMobile && sharedStyles.modal.contentMobile]}>\r\n            <Text style={sharedStyles.modal.title}>\r\n              Select {modalType === 'application' ? 'Application' : 'Signed'} Document Date\r\n            </Text>\r\n            \r\n            {documentDates.length > 0 ? (\r\n              documentDates.map((dateInfo, index) => (\r\n                <TouchableOpacity\r\n                  key={index}\r\n                  style={styles.dateButton}\r\n                  onPress={() => handleDateSelection(dateInfo.date)}\r\n                >\r\n                  <Text style={styles.dateButtonText}>\r\n                     {formatDateForDisplay(dateInfo.date)}\r\n                  </Text>\r\n                  <Text style={styles.documentCountText}>\r\n                    ({dateInfo.documentCount} documents)\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            ) : (\r\n              <Text style={styles.noDataText}>No document dates found</Text>\r\n            )}\r\n            \r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={() => setShowDateModal(false)}\r\n            >\r\n              <Text style={styles.closeButtonText}>Cancel</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    marginBottom: 10,\r\n    color: '#333',\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginTop: 10,\r\n    marginBottom: 6,\r\n    color: '#444',\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n    marginTop: 8,\r\n    gap: 8,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: Platform.select({ web: 16, default: 12 }),\r\n    marginVertical: 8,\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  financialContainer: {\r\n    marginBottom: 16,\r\n  },\r\n  financialDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    gap: 8,\r\n  },\r\n  financialItem: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    paddingVertical: 2,\r\n  },\r\n  employmentContainer: {\r\n    marginBottom: 16,\r\n  },\r\n  employmentDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    gap: 6,\r\n    marginTop: 8,\r\n  },\r\n  employmentItem: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    paddingVertical: 2,\r\n  },\r\n  loanHistoryContainer: {\r\n    marginBottom: 20,\r\n  },\r\n  viewBtn: {\r\n    ...sharedStyles.button.primaryButton,\r\n    marginTop: 8,\r\n  },\r\n  viewBtnText: {\r\n    ...sharedStyles.button.buttonText,\r\n  },\r\n  actionRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    gap: 10,\r\n    flexWrap: 'wrap',\r\n  },\r\n  backBtn: {\r\n    ...sharedStyles.button.secondaryButton,\r\n    flex: 1,\r\n    maxWidth: Platform.select({ web: 'auto', default: '48%' }),\r\n    alignItems: 'center',\r\n  },\r\n  refreshBtn: {\r\n    backgroundColor: '#28a745',\r\n    paddingVertical: Platform.select({ web: 10, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 16 }),\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    maxWidth: Platform.select({ web: 'auto', default: '48%' }),\r\n    alignItems: 'center',\r\n  },\r\n  backBtnText: {\r\n    ...sharedStyles.button.buttonTextSecondary,\r\n  },\r\n  actionBtnText: {\r\n    ...sharedStyles.button.buttonText,\r\n  },\r\n  dateButton: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 15, default: 12 }),\r\n    borderRadius: 8,\r\n    marginBottom: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  dateButtonText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  documentCountText: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n    fontStyle: 'italic',\r\n  },\r\n  noDataText: {\r\n    textAlign: 'center',\r\n    color: '#666',\r\n    fontSize: 16,\r\n    marginVertical: 20,\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    fontWeight: '500',\r\n  },\r\n  closeButton: {\r\n    backgroundColor: '#dc3545',\r\n    padding: Platform.select({ web: 12, default: 10 }),\r\n    borderRadius: 8,\r\n    marginTop: 15,\r\n  },\r\n  closeButtonText: {\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  }\r\n});","import React from 'react';\r\nimport ClientProfile from '../../components/clients/ClientProfile';\r\n\r\nexport default function ClientProfileScreen({ navigation, route }) {\r\n  return (\r\n    <ClientProfile\r\n      navigation={navigation}\r\n      route={route}\r\n      userRole=\"loanofficer\"\r\n    />\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, Pressable, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nconst statuses = ['Pending', 'Approved', 'Declined'];\r\nconst BREAKPOINT_MOBILE = 600;\r\nconst BREAKPOINT_TABLET = 1024;\r\n\r\nexport default function TotalLoanListScreen({ navigation, route }) {\r\n  const [search, setSearch] = useState('');\r\n  const [filter, setFilter] = useState('Pending');\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const { loans, refreshClientData, notifications } = useLoan();\r\n\r\n  const refreshAllLoans = async () => {\r\n    setIsRefreshing(true);\r\n    try {\r\n      await Promise.all(loans.map(loan => refreshClientData(loan.cid)));\r\n    } catch (err) {\r\n      console.error('Error refreshing loans:', err);\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n  \r\n  // Refresh loans list when screen comes into focus\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', refreshAllLoans);\r\n    return unsubscribe;\r\n  }, [navigation, loans]);\r\n\r\n  // Initial data load\r\n  useEffect(() => {\r\n    refreshAllLoans();\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const months = [\r\n      'January', 'February', 'March', 'April', 'May', 'June',\r\n      'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n    return `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\r\n  };\r\n\r\n  const getLatestLoanRequest = (item) => {\r\n    // Find most recent notification for this client's loan from ops manager\r\n    const clientNotifications = notifications\r\n      .filter(n => n.cid === item.cid &&\r\n                  (n.type === 'status_change' || n.type === 'amount_change'))\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n\r\n    // If we have a notification from ops manager, use that\r\n    if (clientNotifications.length > 0) {\r\n      const latestNotification = clientNotifications[0];\r\n      const formattedDate = formatDate(latestNotification.timestamp);\r\n      return `${formattedDate} (${latestNotification.status || 'Amount updated'} by Ops Manager)`;\r\n    }\r\n    \r\n    // Fall back to loan history if no ops manager notifications\r\n    if (item.loans?.loanHistory && item.loans.loanHistory.length > 0) {\r\n      const sortedHistory = [...item.loans.loanHistory].sort((a, b) =>\r\n        new Date(b.dateUpdated || b.dateApplied) - new Date(a.dateUpdated || a.dateApplied)\r\n      );\r\n      \r\n      const latest = sortedHistory[0];\r\n      const date = latest.dateUpdated || latest.dateApplied;\r\n      const formattedDate = formatDate(date);\r\n      const action = latest.status ? ` (${latest.status})` : '';\r\n      return `${formattedDate}${action}`;\r\n    }\r\n    \r\n    return 'No date';\r\n  };\r\n\r\n  const filteredLoans = loans.filter((loan) => {\r\n    const matchesSearch =\r\n      loan.name.toLowerCase().includes(search.toLowerCase()) ||\r\n      loan.cid.includes(search);\r\n\r\n    const currentStatus = loan.status ? loan.status.toLowerCase() : 'pending';\r\n    const currentFilter = filter.toLowerCase();\r\n\r\n    const matchesFilter =\r\n      (currentFilter === 'pending' && (!loan.status || currentStatus === 'pending')) ||\r\n      (currentStatus === currentFilter);\r\n\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < BREAKPOINT_MOBILE;\r\n  const isTablet = width >= BREAKPOINT_MOBILE && width < BREAKPOINT_TABLET;\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[\r\n        styles.row,\r\n        isMobile && styles.rowMobile,\r\n        isTablet && styles.rowTablet\r\n      ]}\r\n      onPress={() => isMobile && navigation.navigate('PendingLoanDetail', {\r\n        client: item,\r\n        backScreen: 'TotalLoanList'\r\n      })}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n          <View style={styles.mobileStatusRow}>\r\n            <Text style={[\r\n              styles.mobileStatus,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]}>\r\n              Status: {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n            </Text>\r\n            <Text style={styles.mobileDate}>Latest Updated: {getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n        </View>\r\n      ) : (\r\n        // Desktop/Tablet layout\r\n        <>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.cidCell]}>\r\n            <Text style={styles.cell} numberOfLines={1}>{item.cid}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 3 }, styles.nameCell]}>\r\n            <Text style={styles.cell} numberOfLines={1}>{item.name}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.statusCell]}>\r\n            <Text style={[\r\n              styles.cell,\r\n              styles.centerText,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]} numberOfLines={1}>\r\n              {item.status ?\r\n                item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase()\r\n                : 'Pending'}\r\n            </Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.updateCell]}>\r\n            <Text style={[styles.cell, isTablet && styles.tabletUpdateText]}>{getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.actionCell]}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => navigation.navigate('PendingLoanDetail', {\r\n                client: item,\r\n                backScreen: 'TotalLoanList'\r\n              })}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>Total Loan List</Text>\r\n        <TouchableOpacity\r\n          style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n          onPress={() => navigation.navigate('LoanOfficerDashboard')}\r\n        >\r\n          <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>Go to Dashboard</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Search + Filter */}\r\n      <View style={[styles.searchFilterRow, isMobile && styles.searchFilterRowMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search by name or CID\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n\r\n        <View style={[styles.filter, isMobile && styles.filterMobile]}>\r\n          <Text style={[styles.filterLabel, isMobile && styles.filterLabelMobile]}>Filter:</Text>\r\n          {statuses.map((status) => (\r\n            <Pressable\r\n              key={status}\r\n              style={[\r\n                styles.filterOption,\r\n                filter === status && styles.activeFilter,\r\n                isMobile && styles.filterOptionMobile\r\n              ]}\r\n              onPress={() => setFilter(status)}\r\n            >\r\n              <Text style={[\r\n                styles.filterText,\r\n                filter === status && styles.activeFilterText,\r\n                isMobile && styles.filterTextMobile\r\n              ]}>{status}</Text>\r\n            </Pressable>\r\n          ))}\r\n        </View>\r\n      </View>\r\n\r\n      {/* Table Headers - Only show on desktop/tablet */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.cidCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>CID</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 3 }, styles.nameCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>Full Name</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.statusCell]}>\r\n            <Text style={[styles.headerCell, styles.centerText, isTablet && styles.tabletHeaderText]}>Loan Status</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.updateCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>Latest Update</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.actionCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}></Text>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      {/* List */}\r\n      {isRefreshing && (\r\n        <View style={styles.refreshingIndicator}>\r\n          <Text style={styles.refreshingText}>Refreshing loan data...</Text>\r\n        </View>\r\n      )}\r\n      <FlatList\r\n        data={filteredLoans}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Tablet specific styles\r\n  rowTablet: {\r\n    paddingVertical: 16,\r\n  },\r\n  tabletCell: {\r\n    paddingHorizontal: 8,\r\n  },\r\n  tabletUpdateText: {\r\n    fontSize: 13,\r\n    lineHeight: 18,\r\n    flexWrap: 'wrap',\r\n    textAlign: 'left',\r\n    paddingRight: 4,\r\n    width: '100%',\r\n  },\r\n  // Cell width styles\r\n  cidCell: {\r\n    width: '15%',\r\n  },\r\n  nameCell: {\r\n    width: '25%',\r\n  },\r\n  statusCell: {\r\n    width: '15%',\r\n  },\r\n  updateCell: {\r\n    width: '35%',\r\n    paddingRight: 12,\r\n  },\r\n  actionCell: {\r\n    width: '10%',\r\n    alignItems: 'center',\r\n  },\r\n  // Mobile specific styles\r\n  headerMobile: {\r\n    flexDirection: 'column',\r\n    gap: 12,\r\n    alignItems: 'flex-start',\r\n    marginBottom: 16,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  searchFilterRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 12,\r\n  },\r\n  searchInputMobile: {\r\n    minWidth: '100%',\r\n    padding: 8,\r\n    fontSize: 14,\r\n  },\r\n  filterMobile: {\r\n    flexWrap: 'wrap',\r\n    gap: 8,\r\n  },\r\n  filterLabelMobile: {\r\n    fontSize: 14,\r\n  },\r\n  filterOptionMobile: {\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 8,\r\n  },\r\n  filterTextMobile: {\r\n    fontSize: 12,\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n    marginBottom: 8,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n    marginBottom: 6,\r\n  },\r\n  mobileStatusRow: {\r\n    flexDirection: 'column',\r\n    gap: 8,\r\n  },\r\n  mobileStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  mobileDate: {\r\n    fontSize: 12,\r\n    color: '#6c757d',\r\n    flexWrap: 'wrap',\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  cellContainer: {\r\n    paddingHorizontal: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  headerContainer: {\r\n    paddingHorizontal: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  centerText: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  approvedStatus: {\r\n    color: '#2ecc71', // Green color for approved\r\n    fontWeight: 'bold'\r\n  },\r\n  pendingStatus: {\r\n    color: '#000000', // Black color for pending\r\n    fontWeight: 'bold'\r\n  },\r\n  declinedStatus: {\r\n    color: '#e74c3c', // Red color for declined\r\n    fontWeight: 'bold'\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007AFF',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n  },\r\n  searchFilterRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 10,\r\n    marginBottom: 10,\r\n    flexWrap: 'wrap',\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 10,\r\n    flex: 1,\r\n    minWidth: 150,\r\n  },\r\n  filter: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 6,\r\n  },\r\n  filterLabel: {\r\n    fontWeight: '600',\r\n  },\r\n  filterOption: {\r\n    backgroundColor: '#eee',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 6,\r\n  },\r\n  activeFilter: {\r\n    backgroundColor: '#007AFF',\r\n  },\r\n  filterText: {\r\n    color: '#000',\r\n  },\r\n  activeFilterText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n  refreshingIndicator: {\r\n    padding: 10,\r\n    backgroundColor: '#e8f5e9',\r\n    marginBottom: 10,\r\n  },\r\n  refreshingText: {\r\n    color: '#2ecc71',\r\n    textAlign: 'center',\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#dcdcdc',\r\n    paddingVertical: 10,\r\n    marginBottom: 4,\r\n    alignItems: 'center',\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 15,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderColor: '#ccc',\r\n    alignItems: 'center',\r\n    minHeight: 50,\r\n  },\r\n  cell: {\r\n    fontSize: 14,\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#ccc',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n});","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { clientAPI, API_BASE_URL } from '../../services/api';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  input: {\r\n    paymentHistory: 0,\r\n    creditUtilization: 0,\r\n    creditHistoryLength: 0,\r\n    creditMix: 0,\r\n    newInquiries: 0\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A',\r\n  loans: {\r\n    approved: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    pending: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    loanHistory: []\r\n  },\r\n  loanBalance: {\r\n    amount: 0,\r\n    dueDate: 'N/A'\r\n  }\r\n};\r\n\r\nexport default function PendingLoanDetailScreen({ navigation, route }) {\r\n  const [client, setClient] = useState(null);\r\n  const [loanData, setLoanData] = useState(null);\r\n  const [showDocumentModal, setShowDocumentModal] = useState(false);\r\n  const [selectedDocumentType, setSelectedDocumentType] = useState(null);\r\n  const { loans, refreshClientData } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const fetchLoanData = async (cid) => {\r\n    try {\r\n      // First check if API is accessible\r\n      try {\r\n        const healthCheck = await fetch('http://localhost:5600/clients');\r\n        if (!healthCheck.ok) {\r\n          throw new Error('API server is not responding properly');\r\n        }\r\n      } catch (err) {\r\n        throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n      }\r\n\r\n      // Use clientAPI to fetch loan data\r\n      const data = await clientAPI.fetchClientLoanData(cid);\r\n      setLoanData(data);\r\n    } catch (err) {\r\n      console.error('Error fetching loan data:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (route.params?.client) {\r\n      const initialClient = {\r\n        ...defaultClient,\r\n        ...route.params.client\r\n      };\r\n      setClient(initialClient);\r\n      if (initialClient.cid) {\r\n        fetchLoanData(initialClient.cid);\r\n        refreshClientData(initialClient.cid); // Refresh to get latest data\r\n      }\r\n    }\r\n  }, [route.params?.client]);\r\n\r\n  // Refresh when screen comes into focus\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      if (client?.cid) {\r\n        fetchLoanData(client.cid);\r\n        refreshClientData(client.cid);\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation, client]);\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text>Loading...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const calculateScore = () => {\r\n    const weights = {\r\n      paymentHistory: 0.35,\r\n      creditUtilization: 0.30,\r\n      creditHistoryLength: 0.15,\r\n      creditMix: 0.10,\r\n      newInquiries: 0.10,\r\n    };\r\n\r\n    const input = client.input;\r\n    \r\n    // Normalize inputs to 0-1 scale\r\n    const normalized = {\r\n      paymentHistory: input.paymentHistory / 100,\r\n      creditUtilization: 1 - (input.creditUtilization / 100),\r\n      creditHistoryLength: Math.min(input.creditHistoryLength / 60, 1),\r\n      creditMix: input.creditMix / 100,\r\n      newInquiries: 1 - (input.newInquiries / 100),\r\n    };\r\n\r\n    const weightedSum =\r\n      weights.paymentHistory * normalized.paymentHistory +\r\n      weights.creditUtilization * normalized.creditUtilization +\r\n      weights.creditHistoryLength * normalized.creditHistoryLength +\r\n      weights.creditMix * normalized.creditMix +\r\n      weights.newInquiries * normalized.newInquiries;\r\n\r\n    // Scale to 300-850 range\r\n    return Math.round(300 + weightedSum * 550);\r\n  };\r\n\r\n  const getRiskCategory = (score) => {\r\n    if (score >= 800) return 'Exceptional';\r\n    if (score >= 740) return 'Very Good';\r\n    if (score >= 670) return 'Good';\r\n    if (score >= 580) return 'Fair';\r\n    return 'Poor';\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\r\n      {/* Topbar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <Text style={[styles.logo, isMobile && styles.logoMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>Loan Officer</Text>\r\n      </View>\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[styles.left, isMobile && styles.leftMobile, isMobile && { marginBottom: '20%' }]}>\r\n          <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Client Profile</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Personal Details</Text>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 12, marginBottom: isMobile ? 4 : 6 }]}>\r\n            Uploaded Documents\r\n          </Text>\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  if (!client.cid) {\r\n                    console.error('No client CID available');\r\n                    alert('Error: Client ID not found');\r\n                    return;\r\n                  }\r\n\r\n                  // Get all document dates and find the latest one with application documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestApplicationDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has application documents (non-PDF files)\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const applicationDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return !name.endsWith('.pdf'); // Non-PDF files are application documents\r\n                    });\r\n\r\n                    if (applicationDocs.length > 0) {\r\n                      latestApplicationDocs = applicationDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestApplicationDocs.length > 0) {\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Application Documents',\r\n                      documents: latestApplicationDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No application documents found');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  // Get all document dates and find the latest one with signed documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestSignedDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has signed documents\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const signedDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return name.endsWith('.pdf');\r\n                    });\r\n\r\n                    if (signedDocs.length > 0) {\r\n                      latestSignedDocs = signedDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestSignedDocs.length > 0) {\r\n                    // Map documents with proper display names\r\n                    const mappedDocs = latestSignedDocs.map(doc => ({\r\n                      ...doc,\r\n                      displayName: doc.name.includes('promissory-note') ? 'Promissory Note' : 'Signed Agreement'\r\n                    }));\r\n\r\n                    // Navigate to DocumentPreview screen\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Signed Documents',\r\n                      documents: mappedDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No signed documents found. Documents will be available after loan approval.');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[styles.right, isMobile && styles.rightMobile, isMobile && { marginTop: '-370px' }]}>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Financial Record</Text>\r\n            <Text>Monthly Income: {client.financial.monthlyIncome.toLocaleString()}</Text>\r\n            <Text>Monthly Expenses: {client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n            <Text>Saving and Assets: {client.financial.assets.toLocaleString()}</Text>\r\n            <Text>Debt to Income Ratio: {client.financial.dti}%</Text>\r\n          </View>\r\n\r\n          <View style={[styles.detailsContainer, { marginTop: 16 }]}>\r\n            <Text style={styles.subTitle}>Employment or Business info</Text>\r\n            <Text>{client.employer}</Text>\r\n            <Text>{client.position}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 16, marginBottom: isMobile ? 4 : 6 }]}>\r\n            Loan History\r\n          </Text>\r\n          <TouchableOpacity\r\n            style={[styles.viewBtn, isMobile && styles.viewBtnMobile]}\r\n            onPress={() => navigation.navigate('LoanHistory', {\r\n              clientId: client.cid,\r\n              userRole: 'loanofficer',\r\n              fromPendingDetail: true\r\n            })}\r\n          >\r\n            <Text style={{color: '#fff', fontWeight: '600', fontSize: 16}}>View History</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={[styles.loanDetails, isMobile && styles.loanDetailsMobile]}>\r\n            <Text style={styles.subTitle}>Approved by Loan Officer</Text>\r\n            <Text>{loanData?.approvedAmount || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Recommended Loan Amount</Text>\r\n            <Text>{loanData?.recommendedAmount || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Purpose of Loan</Text>\r\n            <Text>{loanData?.purpose || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Description of Purpose</Text>\r\n            <Text>{loanData?.description || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Loan Term (in months)</Text>\r\n            <Text>{loanData?.term || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Repayment Method</Text>\r\n            <Text>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Interest Rate</Text>\r\n            <Text>{loanData?.interestRate || '5.0'}%</Text>\r\n\r\n            <Text style={styles.subTitle}>Amount Due</Text>\r\n            <Text>{loanData?.amountDue || '0'}</Text>\r\n          </View>\r\n\r\n          <View style={[styles.creditBox, isMobile && styles.creditBoxMobile]}>\r\n            <Text style={[styles.subTitle, { marginBottom: 4 }]}>Credit Score</Text>\r\n            <Text style={styles.creditScore}>{loanData?.creditScore || calculateScore()}</Text>\r\n            \r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Risk Category</Text>\r\n            <Text style={{\r\n              color: ['Exceptional', 'Very Good', 'Good'].includes(\r\n                loanData?.riskCategory || getRiskCategory(calculateScore())\r\n              ) ? '#2ecc71' : '#e74c3c'\r\n            }}>\r\n              {loanData?.riskCategory || getRiskCategory(calculateScore())}\r\n            </Text>\r\n            \r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Recommendation</Text>\r\n            <Text style={{\r\n              color: loanData?.recommendation === 'APPROVE' ? '#2ecc71' : '#e74c3c'\r\n            }}>\r\n              {loanData?.recommendation || (calculateScore() >= 670 ? 'Approved' : 'Not Approved')}\r\n            </Text>\r\n          </View>\r\n\r\n          <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n            <Text style={styles.backText}>Back</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { \r\n    backgroundColor: '#f6f6f6', \r\n    flex: 1 \r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#ddd',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    padding: 12,\r\n  },\r\n  logo: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold'\r\n  },\r\n  logoMobile: {\r\n    fontSize: 18,\r\n  },\r\n  role: {\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    flexWrap: Platform.select({ web: 'nowrap', default: 'wrap' })\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n    padding: 12,\r\n    gap: 0,\r\n    position: 'relative',\r\n  },\r\n  left: {\r\n    flex: Platform.select({ web: 1.1, default: 1 }),\r\n    paddingRight: Platform.select({ web: 20, default: 0 }),\r\n    borderRightWidth: Platform.select({ web: 1, default: 0 }),\r\n    borderColor: '#ccc',\r\n    minWidth: Platform.select({ web: 300, default: '100%' }),\r\n    marginBottom: Platform.select({ web: 0, default: 0 })\r\n  },\r\n  leftMobile: {\r\n    width: '100%',\r\n    paddingRight: 0,\r\n    borderRightWidth: 0,\r\n    marginBottom: '25%',\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  right: {\r\n    flex: Platform.select({ web: 1.3, default: 1 }),\r\n    paddingLeft: Platform.select({ web: 20, default: 0 }),\r\n    minWidth: Platform.select({ web: 300, default: '100%' })\r\n  },\r\n  rightMobile: {\r\n    width: '100%',\r\n    paddingLeft: 0,\r\n    marginTop: '-40%',\r\n    position: 'relative',\r\n    zIndex: 0,\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    marginBottom: 16,\r\n    width: '100%',\r\n    alignSelf: 'stretch',\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  sectionTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    marginTop: 10,\r\n    marginBottom: 4,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 16,\r\n    marginBottom: 10,\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: 15,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 4,\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 32,\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    minWidth: 120,\r\n    justifyContent: 'center',\r\n  },\r\n  viewBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 14,\r\n    minHeight: 48,\r\n  },\r\n  loanDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  loanDetailsMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditBox: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  creditBoxMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditScore: {\r\n    fontSize: 32,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 8,\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#ddd',\r\n    paddingVertical: Platform.select({ web: 10, default: 12 }),\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 6,\r\n    marginTop: 20,\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  backText: {\r\n    fontSize: 16,\r\n    color: '#333',\r\n  },\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, ScrollView, useWindowDimensions } from 'react-native';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\n\r\nexport default function UserManagementScreen({ navigation }) {\r\n  const { users, loading, updateUser, refreshUsers } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  // Map role types to display names\r\n  const getRoleDisplayName = (user) => {\r\n    if (user.roleType) {\r\n      switch (user.roleType) {\r\n        case 'LOAN_OFFICER': return 'Loan Officer';\r\n        case 'OPS_MANAGER': return 'Operations Manager';\r\n        case 'IT_ADMIN': return 'IT Administrator';\r\n        default: return user.role || 'Unknown';\r\n      }\r\n    }\r\n    return user.role || 'Unknown';\r\n  };\r\n\r\n  const renderMobileUserCard = (user) => (\r\n    <View key={user.id} style={styles.mobileCard}>\r\n      <View style={styles.mobileCardHeader}>\r\n        <Text style={styles.mobileCardName}>{user.fullName}</Text>\r\n        <Text style={[\r\n          styles.mobileCardStatus,\r\n          user.status === 'Active' ? styles.activeStatus : styles.disabledStatus\r\n        ]}>\r\n          {user.status}\r\n        </Text>\r\n      </View>\r\n      <View style={styles.mobileCardContent}>\r\n        <Text style={styles.mobileCardLabel}>Username: <Text style={styles.mobileCardValue}>{user.username}</Text></Text>\r\n        <Text style={styles.mobileCardLabel}>Role: <Text style={styles.mobileCardValue}>{getRoleDisplayName(user)}</Text></Text>\r\n      </View>\r\n      <View style={styles.mobileCardActions}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            try {\r\n              const newStatus = user.status === 'Active' ? 'Disabled' : 'Active';\r\n              updateUser({\r\n                id: user.id,\r\n                status: newStatus\r\n              });\r\n            } catch (error) {\r\n              alert(`Error updating user: ${error.message}`);\r\n            }\r\n          }}\r\n          style={[styles.mobileActionButton,\r\n            user.status === 'Active' ? styles.disableButtonMobile : styles.enableButtonMobile\r\n          ]}\r\n        >\r\n          <Text style={styles.mobileActionButtonText}>\r\n            {user.status === 'Active' ? 'Disable' : 'Enable'}\r\n          </Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            const userCopy = JSON.parse(JSON.stringify(user));\r\n            navigation.navigate('AddEditUser', { user: userCopy });\r\n          }}\r\n          style={[styles.mobileActionButton, styles.editButtonMobile]}\r\n        >\r\n          <Text style={styles.mobileActionButtonText}>Edit</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Top bar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n          <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n          </Text>\r\n          {!isMobile && <Text style={styles.title}>User Management</Text>}\r\n        </View>\r\n        <View style={styles.rightSection}>\r\n          <TouchableOpacity onPress={() => navigation.navigate('Dashboard')}>\r\n            <Text style={[styles.backButton, isMobile && styles.backButtonMobile]}>\r\n              {isMobile ? 'Back' : 'Back to Dashboard'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Content */}\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n          <Text style={[styles.pageTitle, isMobile && styles.pageTitleMobile]}>\r\n            {isMobile ? 'Users' : 'Users List'}\r\n          </Text>\r\n          <TouchableOpacity\r\n            style={[styles.addButton, isMobile && styles.addButtonMobile]}\r\n            onPress={() => navigation.navigate('AddEditUser')}\r\n          >\r\n            <Text style={[styles.addButtonText, isMobile && styles.addButtonTextMobile]}>\r\n              {isMobile ? 'Add' : 'Add User'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <ScrollView style={styles.table}>\r\n          {isMobile ? (\r\n            // Mobile Card Layout\r\n            <View style={styles.mobileContainer}>\r\n              {users.map(renderMobileUserCard)}\r\n            </View>\r\n          ) : (\r\n            // Desktop Table Layout\r\n            <>\r\n              {/* Table Headers */}\r\n              <View style={styles.tableHeader}>\r\n                <Text style={[styles.headerCell, { flex: 2 }]}>Name</Text>\r\n                <Text style={[styles.headerCell, { flex: 1.5 }]}>Username</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Role</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Status</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Action</Text>\r\n              </View>\r\n\r\n              {/* Table Rows */}\r\n              {users.map((user) => (\r\n                <View key={user.id} style={styles.tableRow}>\r\n                  <Text style={[styles.cell, { flex: 2 }]}>{user.fullName}</Text>\r\n                  <Text style={[styles.cell, { flex: 1.5 }]}>{user.username}</Text>\r\n                  <Text style={[styles.cell, { flex: 1 }]}>{getRoleDisplayName(user)}</Text>\r\n                  <Text\r\n                    style={[\r\n                      styles.cell,\r\n                      { flex: 1 },\r\n                      user.status === 'Active' ? styles.activeStatus : styles.disabledStatus\r\n                    ]}\r\n                  >\r\n                    {user.status}\r\n                  </Text>\r\n                  <View style={[styles.cell, { flex: 1, flexDirection: 'row', gap: 15 }]}>\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        try {\r\n                          const newStatus = user.status === 'Active' ? 'Disabled' : 'Active';\r\n                          updateUser({\r\n                            id: user.id,\r\n                            status: newStatus\r\n                          });\r\n                        } catch (error) {\r\n                          alert(`Error updating user: ${error.message}`);\r\n                        }\r\n                      }}\r\n                      style={styles.actionButtonContainer}\r\n                    >\r\n                      <Text style={[\r\n                        styles.actionButton,\r\n                        user.status === 'Active' ? styles.disableButton : styles.enableButton\r\n                      ]}>\r\n                        {user.status === 'Active' ? 'Disable' : 'Enable'}\r\n                      </Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        const userCopy = JSON.parse(JSON.stringify(user));\r\n                        navigation.navigate('AddEditUser', { user: userCopy });\r\n                      }}\r\n                      style={styles.actionButtonContainer}\r\n                    >\r\n                      <Text style={styles.editButton}>Edit</Text>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n              ))}\r\n            </>\r\n          )}\r\n        </ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  brand: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 18,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: '500',\r\n  },\r\n  backButton: {\r\n    color: '#0066ff',\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n  },\r\n  backButtonMobile: {\r\n    fontSize: 14,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n  },\r\n  contentMobile: {\r\n    padding: 15,\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  headerMobile: {\r\n    marginBottom: 15,\r\n  },\r\n  pageTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  pageTitleMobile: {\r\n    fontSize: 20,\r\n  },\r\n  addButton: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  addButtonMobile: {\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 15,\r\n  },\r\n  addButtonText: {\r\n    color: '#fff',\r\n    fontWeight: '500',\r\n  },\r\n  addButtonTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  table: {\r\n    flex: 1,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e2e2e2',\r\n    padding: 12,\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  tableRow: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  cell: {\r\n    color: '#444',\r\n  },\r\n  activeStatus: {\r\n    color: '#28a745',\r\n  },\r\n  disabledStatus: {\r\n    color: '#dc3545',\r\n  },\r\n  editButton: {\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  actionButton: {\r\n    fontWeight: '500',\r\n  },\r\n  enableButton: {\r\n    color: '#28a745',\r\n  },\r\n  disableButton: {\r\n    color: '#dc3545',\r\n  },\r\n  actionButtonContainer: {\r\n    backgroundColor: '#f5f5f5',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 4,\r\n  },\r\n  // Mobile-specific styles\r\n  mobileContainer: {\r\n    gap: 15,\r\n  },\r\n  mobileCard: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  mobileCardHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  mobileCardName: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    flex: 1,\r\n  },\r\n  mobileCardStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 4,\r\n    backgroundColor: '#f0f0f0',\r\n  },\r\n  mobileCardContent: {\r\n    marginBottom: 15,\r\n  },\r\n  mobileCardLabel: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 5,\r\n  },\r\n  mobileCardValue: {\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  mobileCardActions: {\r\n    flexDirection: 'row',\r\n    gap: 10,\r\n  },\r\n  mobileActionButton: {\r\n    flex: 1,\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 15,\r\n    borderRadius: 6,\r\n    alignItems: 'center',\r\n  },\r\n  mobileActionButtonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    color: '#fff',\r\n  },\r\n  enableButtonMobile: {\r\n    backgroundColor: '#28a745',\r\n  },\r\n  disableButtonMobile: {\r\n    backgroundColor: '#dc3545',\r\n  },\r\n  editButtonMobile: {\r\n    backgroundColor: '#0066ff',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n  },\r\n});","import React, { useState, useContext } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, ScrollView, useWindowDimensions } from 'react-native';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\n\r\nexport default function AddEditUserScreen({ route, navigation }) {\r\n  const { user: passedUser } = route.params || {};\r\n  const user = passedUser ? JSON.parse(JSON.stringify(passedUser)) : undefined;\r\n  const { addUser, updateUser } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  // Map display roles to API roles and vice versa\r\n  const getRoleForAPI = (displayRole) => {\r\n    switch (displayRole) {\r\n      case 'Loan Officer': return 'LOAN_OFFICER';\r\n      case 'Operations Manager': return 'OPS_MANAGER';\r\n      case 'IT Administrator': return 'IT_ADMIN';\r\n      default: return 'LOAN_OFFICER';\r\n    }\r\n  };\r\n\r\n  const getDisplayRole = (apiRole) => {\r\n    switch (apiRole) {\r\n      case 'LOAN_OFFICER': return 'Loan Officer';\r\n      case 'OPS_MANAGER': return 'Operations Manager';\r\n      case 'IT_ADMIN': return 'IT Administrator';\r\n      default: return 'Loan Officer';\r\n    }\r\n  };\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: user?.username || '',\r\n    fullName: user?.fullName || '',\r\n    role: user ? getDisplayRole(user.roleType || user.role) : 'Loan Officer',\r\n    status: user?.status || 'Active',\r\n    password: '',\r\n    confirmPassword: '',\r\n    newPassword: '',\r\n    confirmNewPassword: '',\r\n  });\r\n\r\n  const handleSave = async () => {\r\n    // Trim whitespace from inputs\r\n    const trimmedData = {\r\n      ...formData,\r\n      username: formData.username.trim(),\r\n      fullName: formData.fullName.trim()\r\n    };\r\n\r\n    // Basic validation\r\n    if (!trimmedData.username || !trimmedData.fullName) {\r\n      alert('Please fill in all required fields (Username and Full Name)');\r\n      return;\r\n    }\r\n\r\n    // Username validation\r\n    if (trimmedData.username.length < 3) {\r\n      alert('Username must be at least 3 characters long');\r\n      return;\r\n    }\r\n\r\n    // Full name validation\r\n    if (trimmedData.fullName.length < 2) {\r\n      alert('Full name must be at least 2 characters long');\r\n      return;\r\n    }\r\n\r\n    // Password validation for new users\r\n    if (!user && (!trimmedData.password || !trimmedData.confirmPassword)) {\r\n      alert('Password is required for new users');\r\n      return;\r\n    }\r\n\r\n    if (!user && trimmedData.password !== trimmedData.confirmPassword) {\r\n      alert('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (!user && trimmedData.password.length < 6) {\r\n      alert('Password must be at least 6 characters long');\r\n      return;\r\n    }\r\n\r\n    // Password validation for existing users (if changing password)\r\n    if (user && trimmedData.newPassword) {\r\n      if (!trimmedData.confirmNewPassword) {\r\n        alert('Please confirm the new password');\r\n        return;\r\n      }\r\n      if (trimmedData.newPassword !== trimmedData.confirmNewPassword) {\r\n        alert('New passwords do not match');\r\n        return;\r\n      }\r\n      if (trimmedData.newPassword.length < 6) {\r\n        alert('New password must be at least 6 characters long');\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Prepare user data\r\n    const userData = {\r\n      username: trimmedData.username,\r\n      fullName: trimmedData.fullName,\r\n      role: getRoleForAPI(trimmedData.role), // Convert to API format\r\n      status: trimmedData.status,\r\n      password: user ? (trimmedData.newPassword || undefined) : trimmedData.password,\r\n    };\r\n\r\n    try {\r\n      if (user) {\r\n        await updateUser({\r\n          ...userData,\r\n          id: user.id\r\n        });\r\n        alert('User updated successfully!');\r\n      } else {\r\n        await addUser(userData);\r\n        alert('User added successfully!');\r\n      }\r\n      navigation.setParams({ user: undefined });\r\n      navigation.goBack();\r\n    } catch (error) {\r\n      alert(`Error: ${error.message}`);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n          <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n          </Text>\r\n          {!isMobile && <Text style={styles.title}>{user ? 'Edit User' : 'Add User'}</Text>}\r\n        </View>\r\n        <View style={styles.rightSection}>\r\n          <TouchableOpacity onPress={() => navigation.goBack()}>\r\n            <Text style={[styles.backButton, isMobile && styles.backButtonMobile]}>\r\n              {isMobile ? 'Back' : 'Back to List'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      <ScrollView style={[styles.content, isMobile && styles.contentMobile]} showsVerticalScrollIndicator={false}>\r\n        {isMobile && (\r\n          <Text style={styles.mobileTitle}>{user ? 'Edit User' : 'Add User'}</Text>\r\n        )}\r\n        <View style={[styles.form, isMobile && styles.formMobile]}>\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Full Name</Text>\r\n          <TextInput\r\n            style={[styles.input, isMobile && styles.inputMobile]}\r\n            value={formData.fullName}\r\n            onChangeText={(text) => setFormData({ ...formData, fullName: text })}\r\n            placeholder=\"Enter full name\"\r\n          />\r\n\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Username</Text>\r\n          <TextInput\r\n            style={[styles.input, isMobile && styles.inputMobile]}\r\n            value={formData.username}\r\n            onChangeText={(text) => setFormData({ ...formData, username: text })}\r\n            placeholder=\"Enter username\"\r\n            editable={!user}\r\n          />\r\n\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Role</Text>\r\n          <View style={[styles.pickerContainer, isMobile && styles.pickerContainerMobile]}>\r\n            <Picker\r\n              selectedValue={formData.role}\r\n              onValueChange={(value) => setFormData({ ...formData, role: value })}\r\n            >\r\n              <Picker.Item label=\"Loan Officer\" value=\"Loan Officer\" />\r\n              <Picker.Item label=\"Operations Manager\" value=\"Operations Manager\" />\r\n              {/* IT Admin can only edit existing IT Admins, not create new ones */}\r\n              {user && user.roleType === 'IT_ADMIN' && (\r\n                <Picker.Item label=\"IT Administrator\" value=\"IT Administrator\" />\r\n              )}\r\n            </Picker>\r\n          </View>\r\n\r\n          {user && (\r\n            <>\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Status</Text>\r\n              <View style={[styles.pickerContainer, isMobile && styles.pickerContainerMobile]}>\r\n                <Picker\r\n                  selectedValue={formData.status}\r\n                  onValueChange={(value) => setFormData({ ...formData, status: value })}\r\n                >\r\n                  <Picker.Item label=\"Active\" value=\"Active\" />\r\n                  <Picker.Item label=\"Disabled\" value=\"Disabled\" />\r\n                </Picker>\r\n              </View>\r\n\r\n              <View style={[styles.passwordSection, isMobile && styles.passwordSectionMobile]}>\r\n                <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Change Password</Text>\r\n                <Text style={[styles.label, isMobile && styles.labelMobile]}>New Password</Text>\r\n                <TextInput\r\n                  style={[styles.input, isMobile && styles.inputMobile]}\r\n                  secureTextEntry\r\n                  value={formData.newPassword}\r\n                  onChangeText={(text) => setFormData({ ...formData, newPassword: text })}\r\n                  placeholder=\"Enter new password (optional)\"\r\n                />\r\n\r\n                <Text style={[styles.label, isMobile && styles.labelMobile]}>Confirm New Password</Text>\r\n                <TextInput\r\n                  style={[styles.input, isMobile && styles.inputMobile]}\r\n                  secureTextEntry\r\n                  value={formData.confirmNewPassword}\r\n                  onChangeText={(text) => setFormData({ ...formData, confirmNewPassword: text })}\r\n                  placeholder=\"Confirm new password\"\r\n                />\r\n              </View>\r\n            </>\r\n          )}\r\n\r\n          {!user && (\r\n            <>\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Password</Text>\r\n              <TextInput\r\n                style={[styles.input, isMobile && styles.inputMobile]}\r\n                secureTextEntry\r\n                value={formData.password}\r\n                onChangeText={(text) => setFormData({ ...formData, password: text })}\r\n                placeholder=\"Enter password\"\r\n              />\r\n\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Confirm Password</Text>\r\n              <TextInput\r\n                style={[styles.input, isMobile && styles.inputMobile]}\r\n                secureTextEntry\r\n                value={formData.confirmPassword}\r\n                onChangeText={(text) => setFormData({ ...formData, confirmPassword: text })}\r\n                placeholder=\"Confirm password\"\r\n              />\r\n            </>\r\n          )}\r\n\r\n          <TouchableOpacity style={[styles.saveButton, isMobile && styles.saveButtonMobile]} onPress={handleSave}>\r\n            <Text style={[styles.saveButtonText, isMobile && styles.saveButtonTextMobile]}>Save User</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  brand: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 18,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: '500',\r\n  },\r\n  backButton: {\r\n    color: '#0066ff',\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n  },\r\n  backButtonMobile: {\r\n    fontSize: 14,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n    overflow: 'auto',\r\n  },\r\n  contentMobile: {\r\n    padding: 15,\r\n  },\r\n  mobileTitle: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  form: {\r\n    backgroundColor: '#fff',\r\n    padding: 20,\r\n    borderRadius: 8,\r\n    maxWidth: 500,\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n    overflow: 'visible',\r\n    minHeight: 'min-content',\r\n  },\r\n  formMobile: {\r\n    padding: 15,\r\n    maxWidth: '100%',\r\n    borderRadius: 12,\r\n  },\r\n  label: {\r\n    fontSize: 16,\r\n    marginBottom: 8,\r\n    color: '#333',\r\n  },\r\n  labelMobile: {\r\n    fontSize: 15,\r\n    marginBottom: 6,\r\n  },\r\n  input: {\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 16,\r\n    fontSize: 16,\r\n  },\r\n  inputMobile: {\r\n    padding: 14,\r\n    fontSize: 16,\r\n    marginBottom: 18,\r\n  },\r\n  pickerContainer: {\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: 6,\r\n    marginBottom: 16,\r\n    overflow: 'hidden',\r\n  },\r\n  pickerContainerMobile: {\r\n    marginBottom: 18,\r\n  },\r\n  saveButton: {\r\n    backgroundColor: '#0066ff',\r\n    padding: 15,\r\n    borderRadius: 6,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  saveButtonMobile: {\r\n    padding: 16,\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n  },\r\n  saveButtonText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  saveButtonTextMobile: {\r\n    fontSize: 17,\r\n  },\r\n  passwordSection: {\r\n    marginTop: 16,\r\n    marginBottom: 16,\r\n    padding: 12,\r\n    backgroundColor: '#f8f9fa',\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  passwordSectionMobile: {\r\n    padding: 15,\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    marginBottom: 16,\r\n    color: '#333',\r\n  },\r\n  sectionTitleMobile: {\r\n    fontSize: 17,\r\n    marginBottom: 12,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ClientList from '../../components/clients/ClientList';\r\n\r\nexport default function OpsClientListScreen({ navigation }) {\r\n  return (\r\n    <ClientList\r\n      navigation={navigation}\r\n      userRole=\"ops\"\r\n      dashboardRoute=\"OpsDashboard\"\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ClientProfile from '../../components/clients/ClientProfile';\r\n\r\nexport default function OpsClientProfileScreen({ navigation, route }) {\r\n  return (\r\n    <ClientProfile\r\n      navigation={navigation}\r\n      route={route}\r\n      userRole=\"ops\"\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nexport default function OpsPendingListScreen({ navigation }) {\r\n  const { loans } = useLoan();\r\n  const [search, setSearch] = useState('');\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const filtered = loans.filter(\r\n    item =>\r\n      item.name.toLowerCase().includes(search.toLowerCase()) ||\r\n      item.cid.includes(search)\r\n  );\r\n\r\n  const getLatestLoanRequest = (item) => {\r\n    if (item.loans?.loanHistory && item.loans.loanHistory.length > 0) {\r\n      const latest = [...item.loans.loanHistory].sort((a, b) => \r\n        new Date(b.dateApplied) - new Date(a.dateApplied)\r\n      )[0];\r\n      return latest.dateApplied;\r\n    }\r\n    return 'No date';\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[styles.row, isMobile && styles.rowMobile]}\r\n      onPress={() => isMobile && navigation.navigate('OpsPendingLoanDetail', {\r\n        client: item,\r\n        backScreen: 'OpsPendingList'\r\n      })}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n          <View style={styles.mobileStatusRow}>\r\n            <Text style={[\r\n              styles.mobileStatus,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]}>\r\n              {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n            </Text>\r\n            <Text style={styles.mobileDate}>{getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n        </View>\r\n      ) : (\r\n        // Desktop layout\r\n        <>\r\n          <Text style={[styles.cell, { flex: 1, textAlign: 'center' }]}>{item.cid}</Text>\r\n          <Text style={[styles.cell, { flex: 3, textAlign: 'center' }]}>{item.name}</Text>\r\n          <Text style={[\r\n            styles.cell,\r\n            { flex: 2, textAlign: 'center' },\r\n            (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n            (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n            (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n          ]}>\r\n            {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n          </Text>\r\n          <Text style={[styles.cell, { flex: 3, textAlign: 'center' }]}>{getLatestLoanRequest(item)}</Text>\r\n          <View style={{ flex: 1, alignItems: 'center' }}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => {\r\n                navigation.navigate('OpsPendingLoanDetail', {\r\n                  client: item,\r\n                  backScreen: 'OpsPendingList'\r\n                });\r\n              }}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header Row */}\r\n      <View style={[styles.headerRow, isMobile && styles.headerRowMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n          List of Pending Loan Approval\r\n        </Text>\r\n        <TouchableOpacity\r\n          style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n          onPress={() => navigation.replace('OpsDashboard')}\r\n        >\r\n          <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>\r\n            Go to Dashboard\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Search */}\r\n      <View style={[styles.searchBar, isMobile && styles.searchBarMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search by name or CID\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n      </View>\r\n\r\n      {/* Table Header - Only show on desktop */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <Text style={[styles.headerCell, { flex: 1, textAlign: 'center' }]}>CID</Text>\r\n          <Text style={[styles.headerCell, { flex: 3, textAlign: 'center' }]}>Full Name</Text>\r\n          <Text style={[styles.headerCell, { flex: 2, textAlign: 'center' }]}>Loan Status</Text>\r\n          <Text style={[styles.headerCell, { flex: 3, textAlign: 'center' }]}>Date Applied</Text>\r\n          <Text style={[styles.headerCell, { flex: 1 }]}></Text>\r\n        </View>\r\n      )}\r\n\r\n      <FlatList\r\n        data={filtered}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n        contentContainerStyle={styles.listContainer}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  },\r\n  headerRowMobile: {\r\n    marginBottom: 12,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 10,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 12,\r\n  },\r\n  searchBar: {\r\n    flexDirection: 'row',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 10,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: Platform.select({ web: 12, default: 10 }),\r\n    flex: 1,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n  },\r\n  searchInputMobile: {\r\n    padding: 8,\r\n    fontSize: 14,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 8,\r\n    marginBottom: 4,\r\n    borderRadius: 8,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    color: '#495057',\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 8, default: 6 }),\r\n    marginBottom: 8,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n  },\r\n  cell: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    paddingHorizontal: 6,\r\n    color: '#212529',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n    marginBottom: 6,\r\n  },\r\n  mobileStatusRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  mobileStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  mobileDate: {\r\n    fontSize: 12,\r\n    color: '#6c757d',\r\n  },\r\n  approvedStatus: {\r\n    color: '#2ecc71',\r\n    fontWeight: 'bold',\r\n  },\r\n  pendingStatus: {\r\n    color: '#000000',\r\n    fontWeight: 'bold',\r\n  },\r\n  declinedStatus: {\r\n    color: '#e74c3c',\r\n    fontWeight: 'bold',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  listContainer: {\r\n    flexGrow: 1,\r\n  }\r\n});\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, TextInput, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { clientAPI, API_BASE_URL, DOCUMENT_CATEGORIES } from '../../services/api';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  input: {\r\n    paymentHistory: 0,\r\n    creditUtilization: 0,\r\n    creditHistoryLength: 0,\r\n    creditMix: 0,\r\n    newInquiries: 0\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A',\r\n  loans: {\r\n    approved: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    pending: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    loanHistory: []\r\n  },\r\n  loanBalance: {\r\n    amount: 0,\r\n    dueDate: 'N/A'\r\n  },\r\n  documents: {\r\n    applicationDocs: DOCUMENT_CATEGORIES.APPLICATION_DOCS,\r\n    signedDocuments: []\r\n  }\r\n};\r\n\r\nexport default function OpsPendingLoanDetailScreen({ navigation, route }) {\r\n  const { updateLoan, updateLoanAmount } = useLoan();\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [client, setClient] = useState(null);\r\n  const [loanData, setLoanData] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editedAmount, setEditedAmount] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [latestRequest, setLatestRequest] = useState(null);\r\n\r\n  const fetchLoanData = async (cid) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5600/client-loan-data/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch loan data');\r\n      }\r\n      const data = await response.json();\r\n      setLoanData(data);\r\n    } catch (err) {\r\n      console.error('Error fetching loan data:', err);\r\n      setError('Failed to fetch loan data');\r\n    }\r\n  };\r\n\r\n  // Update latestRequest whenever client changes\r\n  useEffect(() => {\r\n    if (client?.loans?.loanHistory?.length > 0) {\r\n      const latest = [...client.loans.loanHistory].sort((a, b) =>\r\n        new Date(b.dateApplied) - new Date(a.dateApplied)\r\n      )[0];\r\n      setLatestRequest(latest);\r\n    }\r\n  }, [client]);\r\n\r\n  useEffect(() => {\r\n    console.log('Route params:', route.params);\r\n    if (route.params?.client) {\r\n      console.log('Initializing client with:', route.params.client);\r\n      const initialClient = {\r\n        ...defaultClient,\r\n        ...route.params.client,\r\n        documents: {\r\n          applicationDocs: route.params.client.documents?.applicationDocs || defaultClient.documents.applicationDocs,\r\n          signedDocuments: route.params.client.documents?.signedDocuments || []\r\n        }\r\n      };\r\n      console.log('Setting client with CID:', initialClient.cid);\r\n      setClient(initialClient);\r\n      \r\n      // Fetch loan data when client is set\r\n      if (initialClient.cid) {\r\n        fetchLoanData(initialClient.cid);\r\n      }\r\n    }\r\n  }, [route.params?.client]);\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text>Loading...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const handleDecline = async () => {\r\ntry {\r\n  setError('');\r\n  console.log('Declining loan for CID:', client.cid);\r\n  \r\n  // First check if API is accessible\r\n  try {\r\n    const healthCheck = await fetch('http://localhost:5600/clients');\r\n    if (!healthCheck.ok) {\r\n      throw new Error('API server is not responding properly');\r\n    }\r\n  } catch (err) {\r\n    throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n  }\r\n\r\n  const result = await clientAPI.processLoanDecision(client.cid, 'declined');\r\n  console.log('API Response:', result);\r\n  \r\n  await updateLoan(client.cid, {\r\n    status: 'Declined',\r\n    decidedAt: new Date().toISOString()\r\n  });\r\n  console.log('Local state updated');\r\n  \r\n  setSuccess('Loan application declined');\r\n  setTimeout(() => {\r\n    navigation.replace('OpsPendingList');\r\n  }, 1000);\r\n} catch (err) {\r\n  console.error('Error declining loan:', err);\r\n  setError(err.message || 'Failed to decline loan');\r\n  setTimeout(() => setError(''), 3000); // Clear error after 3 seconds\r\n}\r\n};\r\n\r\n  const handleApprove = async () => {\r\n    try {\r\n      setError('');\r\n      console.log('Approving loan for CID:', client.cid);\r\n      \r\n      // First check if API is accessible\r\n      try {\r\n        const healthCheck = await fetch('http://localhost:5600/clients');\r\n        if (!healthCheck.ok) {\r\n          throw new Error('API server is not responding properly');\r\n        }\r\n      } catch (err) {\r\n        throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n      }\r\n\r\n      // Save the current approved amount before approval\r\n      const currentApprovedAmount = loanData?.approvedAmount || '0';\r\n\r\n      // Exclude \"documents\" from the client object\r\n      const { documents, ...clientWithoutDocuments } = client;\r\n\r\n      const result = await clientAPI.processLoanDecision(client.cid, 'approved', {\r\n        approvedAmount: loanData?.approvedAmount,\r\n        ...clientWithoutDocuments\r\n      });\r\n      console.log('API Response:', result);\r\n  \r\n  await updateLoan(client.cid, {\r\n    status: 'Approved',\r\n    decidedAt: new Date().toISOString(),\r\n    approvedAmount: currentApprovedAmount\r\n  });\r\n  console.log('Local state updated');\r\n  \r\n  setSuccess('Loan application approved');\r\n  setTimeout(() => {\r\n    navigation.replace('OpsPendingList');\r\n  }, 1000);\r\n} catch (err) {\r\n  console.error('Error approving loan:', err);\r\n  setError(err.message || 'Failed to approve loan');\r\n  setTimeout(() => setError(''), 3000); // Clear error after 3 seconds\r\n}\r\n};\r\n\r\n  const handleSaveEdit = async () => {\r\n    try {\r\n      const newAmount = parseInt(editedAmount);\r\n      \r\n      if (!newAmount || newAmount <= 0) {\r\n        setError('Please enter a valid amount');\r\n        return;\r\n      }\r\n      \r\n      const maxAmount = loanData?.approvedAmount || 0;\r\n      \r\n      if (newAmount > maxAmount) {\r\n        setError(`Amount cannot exceed approved amount of ${maxAmount.toLocaleString()}`);\r\n        return;\r\n      }\r\n\r\n      if (client.loans?.loanHistory && client.loans.loanHistory.length > 0) {\r\n        const latest = [...client.loans.loanHistory].sort((a, b) =>\r\n          new Date(b.dateApplied) - new Date(a.dateApplied)\r\n        )[0];\r\n\r\n        // Calculate amount due (5% interest)\r\n        const interest = newAmount * 0.05; // 5% interest\r\n        const total = newAmount + interest;\r\n\r\n        // Create updated latest request\r\n        const updatedLatest = {\r\n          ...latest,\r\n          amount: newAmount,\r\n          amountDue: {\r\n            total\r\n          }\r\n        };\r\n\r\n        // Create updated client data\r\n        const updatedClient = {\r\n          ...client,\r\n          loans: {\r\n            ...client.loans,\r\n            loanHistory: client.loans.loanHistory.map(loan =>\r\n              loan.dateApplied === latest.dateApplied ? updatedLatest : loan\r\n            )\r\n          }\r\n        };\r\n        \r\n        await updateLoanAmount(client.cid, newAmount);\r\n        setLatestRequest(updatedLatest); // Update latest request state immediately\r\n        setClient(updatedClient);\r\n        \r\n        // Refresh loan data from API\r\n        await fetchLoanData(client.cid);\r\n        \r\n        setShowEditModal(false);\r\n        setSuccess('Loan amount updated successfully');\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to update loan amount');\r\n      console.error('Error updating loan amount:', error);\r\n    }\r\n  };\r\n\r\n  const calculateScore = () => {\r\n    const weights = {\r\n      paymentHistory: 0.35,\r\n      creditUtilization: 0.30,\r\n      creditHistoryLength: 0.15,\r\n      creditMix: 0.10,\r\n      newInquiries: 0.10,\r\n    };\r\n\r\n    const input = client.input;\r\n    \r\n    // Normalize inputs to 0-1 scale\r\n    const normalized = {\r\n      paymentHistory: input.paymentHistory / 100,\r\n      creditUtilization: 1 - (input.creditUtilization / 100),\r\n      creditHistoryLength: Math.min(input.creditHistoryLength / 60, 1),\r\n      creditMix: input.creditMix / 100,\r\n      newInquiries: 1 - (input.newInquiries / 100),\r\n    };\r\n\r\n    const weightedSum =\r\n      weights.paymentHistory * normalized.paymentHistory +\r\n      weights.creditUtilization * normalized.creditUtilization +\r\n      weights.creditHistoryLength * normalized.creditHistoryLength +\r\n      weights.creditMix * normalized.creditMix +\r\n      weights.newInquiries * normalized.newInquiries;\r\n\r\n    // Scale to 300-850 range\r\n    return Math.round(300 + weightedSum * 550);\r\n  };\r\n\r\n  const getRiskCategory = (score) => {\r\n    if (score >= 800) return 'Exceptional';\r\n    if (score >= 740) return 'Very Good';\r\n    if (score >= 670) return 'Good';\r\n    if (score >= 580) return 'Fair';\r\n    return 'Poor';\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\r\n      {/* Topbar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <Text style={[styles.logo, isMobile && styles.logoMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>\r\n          {currentUser?.role === 'ops' ? 'Operations Manager' : currentUser?.username || 'Operations Manager'}\r\n        </Text>\r\n      </View>\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[styles.left, isMobile && styles.leftMobile, isMobile && { marginBottom: '25%' }]}>\r\n          <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Client Profile</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Personal Details</Text>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 12, marginBottom: isMobile ? 4 : 6 }]}>Uploaded Documents</Text>\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  if (!client.cid) {\r\n                    console.error('No client CID available');\r\n                    alert('Error: Client ID not found');\r\n                    return;\r\n                  }\r\n\r\n                  // Get all document dates and find the latest one with application documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestApplicationDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has application documents (non-PDF files)\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const applicationDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return !name.endsWith('.pdf'); // Non-PDF files are application documents\r\n                    });\r\n\r\n                    if (applicationDocs.length > 0) {\r\n                      latestApplicationDocs = applicationDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestApplicationDocs.length > 0) {\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Application Documents',\r\n                      documents: latestApplicationDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No application documents found');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={[styles.documentCategory, { marginBottom: isMobile ? 4 : 10 }]}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  // Get all document dates and find the latest one with signed documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestSignedDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has signed documents\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const signedDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return name.endsWith('.pdf');\r\n                    });\r\n\r\n                    if (signedDocs.length > 0) {\r\n                      latestSignedDocs = signedDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestSignedDocs.length > 0) {\r\n                    // Map documents with proper display names\r\n                    const mappedDocs = latestSignedDocs.map(doc => ({\r\n                      ...doc,\r\n                      displayName: doc.name.includes('promissory-note') ? 'Promissory Note' : 'Signed Agreement'\r\n                    }));\r\n\r\n                    // Navigate to DocumentPreview screen\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Signed Documents',\r\n                      documents: mappedDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No signed documents found. Documents will be available after loan approval.');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[styles.right, isMobile && styles.rightMobile, isMobile && { marginTop: '-450px' }]}>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Financial Record</Text>\r\n            <Text>Monthly Income: {client.financial.monthlyIncome.toLocaleString()}</Text>\r\n            <Text>Monthly Expenses: {client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n            <Text>Saving and Assets: {client.financial.assets.toLocaleString()}</Text>\r\n            <Text>Debt to Income Ratio: {client.financial.dti}%</Text>\r\n          </View>\r\n\r\n          <View style={[styles.detailsContainer, { marginTop: 16 }]}>\r\n            <Text style={styles.subTitle}>Employment or Business info</Text>\r\n            <Text>{client.employer}</Text>\r\n            <Text>{client.position}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 16 }]}>Loan History</Text>\r\n          <TouchableOpacity\r\n            style={styles.viewBtn}\r\n            onPress={() => navigation.navigate('LoanHistory', {\r\n              clientId: client.cid,\r\n              userRole: 'ops',\r\n              fromPendingDetail: true\r\n            })}\r\n          >\r\n            <Text style={{color: '#fff', fontWeight: '600', fontSize: 16}}>View History</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={[styles.loanDetails, isMobile && { marginTop: 8 }]}>\r\n            <Text style={styles.subTitle}>Approved by Loan Officer</Text>\r\n            <Text>{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Recommended Loan Amount (Based on Credit Score)</Text>\r\n            <Text>{loanData?.recommendedAmount?.toLocaleString() || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Purpose of Loan</Text>\r\n            <Text>{loanData?.purpose || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Description of Purpose</Text>\r\n            <Text>{loanData?.description || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Loan Term (in months)</Text>\r\n            <Text>{loanData?.term || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Repayment Method</Text>\r\n            <Text>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Interest Rate</Text>\r\n            <Text>{loanData?.interestRate || '5.0'}%</Text>\r\n\r\n            <Text style={styles.subTitle}>Amount Due</Text>\r\n            <Text>{loanData?.amountDue || '0'}</Text>\r\n          </View>\r\n\r\n          <View style={styles.creditBox}>\r\n            <Text style={[styles.subTitle, { marginBottom: 4 }]}>Credit Score</Text>\r\n            <Text style={styles.creditScore}>{loanData?.creditScore || calculateScore()}</Text>\r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Risk Category</Text>\r\n            <Text style={{\r\n              color: ['Exceptional', 'Very Good', 'Good'].includes(loanData?.riskCategory || getRiskCategory(calculateScore())) ? '#2ecc71' : '#e74c3c'\r\n            }}>{loanData?.riskCategory || getRiskCategory(calculateScore())}</Text>\r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Recommendation</Text>\r\n            <Text style={{\r\n              color: loanData?.recommendation === 'APPROVE' ? '#2ecc71' : '#e74c3c'\r\n            }}>{loanData?.recommendation || (calculateScore() >= 670 ? 'Approved' : 'Not Approved')}</Text>\r\n          </View>\r\n\r\n          {/* Action Buttons */}\r\n          <View style={[styles.actionRow, isMobile && styles.actionRowMobile]}>\r\n            <TouchableOpacity\r\n              style={[styles.backBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text> Back</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.editBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => {\r\n                const maxAmount = loanData?.approvedAmount?.toString() || '0';\r\n                setEditedAmount(maxAmount);\r\n                setShowEditModal(true);\r\n              }}\r\n            >\r\n              <Text>Edit</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.declineBtn, isMobile && styles.btnMobile]}\r\n              onPress={handleDecline}\r\n            >\r\n              <Text style={{ color: '#fff' }}>Decline</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.approveBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => navigation.navigate('SignatureAgreement', { client, loanData })}\r\n            >\r\n              <Text style={{ color: '#fff' }}>Sign Agreement</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Edit Modal */}\r\n      <Modal\r\n        visible={showEditModal}\r\n        transparent={true}\r\n        animationType=\"fade\"\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={[styles.modalContent, isMobile && styles.modalContentMobile]}>\r\n            <Text style={[styles.modalTitle, isMobile && styles.modalTitleMobile]}>Edit Loan Amount</Text>\r\n            <Text style={[styles.modalSubtitle, isMobile && styles.modalSubtitleMobile]}>\r\n              Maximum amount: {loanData?.approvedAmount?.toLocaleString() || '0'}\r\n            </Text>\r\n            \r\n            <TextInput\r\n              style={[styles.amountInput, isMobile && styles.amountInputMobile]}\r\n              value={editedAmount}\r\n              onChangeText={(text) => {\r\n                setEditedAmount(text.replace(/[^0-9]/g, ''));\r\n                setError('');\r\n              }}\r\n              keyboardType=\"numeric\"\r\n              placeholder=\"Enter amount\"\r\n              placeholderTextColor=\"#999\"\r\n            />\r\n            \r\n            {error ? <Text style={[styles.errorText, isMobile && styles.errorTextMobile]}>{error}</Text> : null}\r\n            \r\n            <View style={[styles.modalButtons, isMobile && styles.modalButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.cancelBtn, isMobile && styles.cancelBtnMobile]}\r\n                onPress={() => {\r\n                  setShowEditModal(false);\r\n                  setError('');\r\n                }}\r\n              >\r\n                <Text style={[styles.modalButtonText, isMobile && styles.modalButtonTextMobile]}>Cancel</Text>\r\n              </TouchableOpacity>\r\n              \r\n              <TouchableOpacity\r\n                style={[styles.saveBtn, isMobile && styles.saveBtnMobile]}\r\n                onPress={handleSaveEdit}\r\n              >\r\n                <Text style={[styles.modalButtonTextWhite, isMobile && styles.modalButtonTextWhiteMobile]}>Save Changes</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n\r\n      {/* Success/Error Messages */}\r\n      {success ? (\r\n        <View style={styles.successMessage}>\r\n          <Text style={styles.successText}>{success}</Text>\r\n        </View>\r\n      ) : null}\r\n      {error ? (\r\n        <View style={styles.errorMessage}>\r\n          <Text style={styles.errorText}>{error}</Text>\r\n        </View>\r\n      ) : null}\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Document Category Styles\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 16,\r\n    marginBottom: 10,\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: 15,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 4,\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n  },\r\n  // Modal Styles\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  modalContent: {\r\n    backgroundColor: 'white',\r\n    padding: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    width: Platform.select({ web: '80%', default: '90%' }),\r\n    maxWidth: 500,\r\n    maxHeight: '80%',\r\n  },\r\n  modalContentMobile: {\r\n    padding: 16,\r\n    width: '95%',\r\n    margin: 10,\r\n  },\r\n  modalTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  modalTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  modalSubtitle: {\r\n    marginBottom: 15,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  modalSubtitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 12,\r\n  },\r\n  amountInput: {\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 12,\r\n    marginBottom: 15,\r\n    fontSize: 16,\r\n  },\r\n  amountInputMobile: {\r\n    padding: 15,\r\n    fontSize: 16,\r\n    minHeight: 48,\r\n  },\r\n  modalButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 12,\r\n  },\r\n  modalButtonsMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n  },\r\n  cancelBtn: {\r\n    backgroundColor: '#ddd',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n  },\r\n  cancelBtnMobile: {\r\n    width: '100%',\r\n// Detail Styles\r\n  detailRow: {\r\n    marginBottom: 8,\r\n  },\r\n  detailLabel: {\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n    color: '#333',\r\n    marginBottom: 2,\r\n  },\r\n  detailLabelMobile: {\r\n    fontSize: 13,\r\n  },\r\n  detailValue: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    flexWrap: 'wrap',\r\n  },\r\n  detailValueMobile: {\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n  },\r\n  personalDetailsGrid: {\r\n    gap: 8,\r\n  },\r\n  personalDetailsGridMobile: {\r\n    gap: 6,\r\n  },\r\n  financialGrid: {\r\n    gap: 8,\r\n  },\r\n  employmentGrid: {\r\n    gap: 8,\r\n  },\r\n\r\n  // Loan Details\r\n  loanDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 16,\r\n    borderRadius: 8,\r\n    marginTop: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  loanDetailsMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  loanDetailRow: {\r\n    marginBottom: 12,\r\n  },\r\n  loanDetailValue: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    marginTop: 4,\r\n    fontWeight: '500',\r\n  },\r\n  loanDetailValueMobile: {\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n  },\r\n\r\n  // Loan History Section\r\n  loanHistorySection: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 16,\r\n    marginBottom: 8,\r\n  },\r\n  loanHistorySectionMobile: {\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    gap: 8,\r\n  },\r\n\r\n  // View Button\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 8,\r\n    borderRadius: 6,\r\n    alignSelf: 'flex-start',\r\n    minHeight: 36,\r\n    justifyContent: 'center',\r\n  },\r\n  viewBtnMobile: {\r\n    paddingHorizontal: 24,\r\n    paddingVertical: 14,\r\n    minHeight: 48,\r\n    alignSelf: 'stretch',\r\n    backgroundColor: '#0066ff',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: 8,\r\n  },\r\n  viewBtnText: {\r\n    fontSize: 14,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  viewBtnTextMobile: {\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n\r\n  // Section Titles\r\n  sectionTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  subTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n\r\n  // Details Container\r\n  detailsContainerMobile: {\r\n    padding: 12,\r\n    marginBottom: 12,\r\n  },\r\n\r\n  // Credit Box\r\n  creditBoxMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditScoreMobile: {\r\n    fontSize: 28,\r\n    marginBottom: 6,\r\n  },\r\n  riskCategoryMobile: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  recommendationMobile: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n\r\n  // Action Buttons\r\n  actionRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n    marginTop: 16,\r\n  },\r\n  backBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  editBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n    backgroundColor: '#6c757d',\r\n  },\r\n  declineBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  approveBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  buttonTextWhite: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextWhiteMobile: {\r\n    fontSize: 16,\r\n  },\r\n\r\n  // Error Text\r\n  errorTextMobile: {\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n    minHeight: 48,\r\n  },\r\n  saveBtn: {\r\n    backgroundColor: '#007bff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n  },\r\n  saveBtnMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  modalButtonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  modalButtonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  modalButtonTextWhite: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  modalButtonTextWhiteMobile: {\r\n    fontSize: 16,\r\n  },\r\n  documentButton: {\r\n    backgroundColor: '#ffffff',\r\n    padding: Platform.select({ web: 16, default: 14 }),\r\n    borderRadius: 8,\r\n    marginBottom: 12,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    elevation: 1,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n  },\r\n  documentButtonText: {\r\n    fontSize: Platform.select({ web: 16, default: 15 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  closeButton: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 16, default: 14 }),\r\n    borderRadius: 8,\r\n    marginTop: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#dee2e6',\r\n  },\r\n  closeButtonText: {\r\n    color: '#333',\r\n    fontSize: Platform.select({ web: 16, default: 15 }),\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  errorText: {\r\n    color: '#e74c3c',\r\n    marginBottom: 10,\r\n  },\r\n  successMessage: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    right: 20,\r\n    backgroundColor: '#2ecc71',\r\n    padding: 10,\r\n    borderRadius: 6,\r\n  },\r\n  successText: {\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n  },\r\n  errorMessage: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    right: 20,\r\n    backgroundColor: '#e74c3c',\r\n    padding: 10,\r\n    borderRadius: 6,\r\n  },\r\n  container: {\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#ddd',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    padding: 12,\r\n  },\r\n  logo: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold'\r\n  },\r\n  logoMobile: {\r\n    fontSize: 18,\r\n  },\r\n  role: {\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    flexWrap: Platform.select({ web: 'nowrap', default: 'wrap' })\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n    padding: 12,\r\n    gap: 0,\r\n  },\r\n  left: {\r\n    flex: Platform.select({ web: 1.1, default: 1 }),\r\n    paddingRight: Platform.select({ web: 20, default: 0 }),\r\n    borderRightWidth: Platform.select({ web: 1, default: 0 }),\r\n    borderColor: '#ccc',\r\n    minWidth: Platform.select({ web: 300, default: '100%' }),\r\n    marginBottom: Platform.select({ web: 0, default: 0 })\r\n  },\r\n  leftMobile: {\r\n    width: '100%',\r\n    paddingRight: 0,\r\n    borderRightWidth: 0,\r\n    marginBottom: 0,\r\n  },\r\n  right: {\r\n    flex: Platform.select({ web: 1.3, default: 1 }),\r\n    paddingLeft: Platform.select({ web: 20, default: 0 }),\r\n    minWidth: Platform.select({ web: 300, default: '100%' })\r\n  },\r\n  rightMobile: {\r\n    width: '100%',\r\n    paddingLeft: 0,\r\n    marginTop: 0,\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    marginBottom: 16,\r\n    width: '100%',\r\n    alignSelf: 'stretch',\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    marginTop: 10,\r\n    marginBottom: 6,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#eaeaea',\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 8,\r\n    marginBottom: 4,\r\n    borderRadius: 4,\r\n  },\r\n  docText: {\r\n    fontSize: 13,\r\n    color: '#333',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 32,\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    minWidth: 120,\r\n    justifyContent: 'center',\r\n  },\r\n  creditBox: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  creditScore: {\r\n    fontSize: 32,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 8,\r\n  },\r\n  loanBox: {\r\n    backgroundColor: '#f0f0f0',\r\n    padding: 12,\r\n    marginTop: 20,\r\n    borderRadius: 8,\r\n  },\r\n  actionRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 12, default: 8 }),\r\n    marginTop: 20,\r\n    flexWrap: 'wrap',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  actionRowMobile: {\r\n    justifyContent: 'space-between',\r\n    gap: 8,\r\n    flexDirection: Platform.select({ web: 'row', default: 'column' }),\r\n  },\r\n  btnMobile: {\r\n    width: '100%',\r\n    marginVertical: 4,\r\n    paddingVertical: 12,\r\n    alignItems: 'center',\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#ddd',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  editBtn: {\r\n    backgroundColor: '#bbb',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  declineBtn: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  approveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n});\r\n","import React, { useState, useRef, useContext, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform, useWindowDimensions, Alert } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\n// Import CSS for signature canvas enhancement (web only)\r\nif (Platform.OS === 'web') {\r\n  require('./signature-styles.css');\r\n}\r\n\r\n// Import signature canvas based on platform\r\nlet SignatureCanvas;\r\nif (Platform.OS === 'web') {\r\n  SignatureCanvas = require('react-signature-canvas').default;\r\n} else {\r\n  SignatureCanvas = require('react-native-signature-canvas').default;\r\n}\r\n\r\nexport default function SignatureAgreementScreen({ navigation, route }) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const signatureRef = useRef();\r\n  const [signature, setSignature] = useState('');\r\n  const [isSignatureCaptured, setIsSignatureCaptured] = useState(false);\r\n  const { currentUser } = useContext(AuthContext);\r\n  \r\n  const { client, loanData } = route.params;\r\n\r\n\r\n  const handleSignature = (signature) => {\r\n    console.log('Signature captured');\r\n    setSignature(signature);\r\n    setIsSignatureCaptured(true);\r\n  };\r\n\r\n  const handleEmpty = () => {\r\n    console.log('Signature is empty');\r\n    Alert.alert('Empty Signature', 'Please provide a signature before proceeding.');\r\n  };\r\n\r\n  const handleClear = () => {\r\n    console.log('Clearing signature');\r\n    if (Platform.OS === 'web') {\r\n      signatureRef.current.clear();\r\n    } else {\r\n      signatureRef.current.clearSignature();\r\n    }\r\n    setSignature('');\r\n    setIsSignatureCaptured(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (Platform.OS === 'web') {\r\n      const signatureData = signatureRef.current.toDataURL();\r\n      handleSignature(signatureData);\r\n    } else {\r\n      // For mobile, this will be handled by the canvas onOK callback\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    if (!isSignatureCaptured) {\r\n      Alert.alert('No Signature', 'Please provide a signature before proceeding.');\r\n      return;\r\n    }\r\n    \r\n    // Navigate to preview screen with signature data\r\n    navigation.navigate('SignedAgreementPreview', {\r\n      client,\r\n      loanData,\r\n      signature,\r\n      signerName: currentUser?.username || 'Operations Manager'\r\n    });\r\n  };\r\n\r\n  // Web-specific signature canvas styles - simplified for proper sizing\r\n  const canvasStyle = {\r\n    border: 'none', // Remove border since container has border\r\n    borderRadius: '6px',\r\n    backgroundColor: '#fff',\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'block'\r\n  };\r\n\r\n  // Canvas properties - let it fill container naturally\r\n  const canvasProps = {\r\n    style: canvasStyle,\r\n    className: 'signature-canvas'\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text style={styles.backText}> Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya - Agreement Signature\r\n          </Text>\r\n          <Text style={[styles.subtitle, isMobile && styles.subtitleMobile]}>\r\n            Client: {client.name} | Amount: {loanData?.approvedAmount?.toLocaleString() || '0'}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Agreement Summary */}\r\n      <View style={[styles.agreementSummary, isMobile && styles.agreementSummaryMobile]}>\r\n        <Text style={[styles.summaryTitle, isMobile && styles.summaryTitleMobile]}>\r\n          Loan Agreement Summary\r\n        </Text>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Client Name:</Text>\r\n          <Text style={styles.summaryValue}>{client.name}</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Loan Amount:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Interest Rate:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.interestRate || '5.0'}%</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Term:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.term || 'N/A'} months</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Repayment Method:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Signature Instructions */}\r\n      <View style={[styles.instructionsContainer, isMobile && styles.instructionsContainerMobile]}>\r\n        <Text style={[styles.instructionsTitle, isMobile && styles.instructionsTitleMobile]}>\r\n          Digital Signature Required\r\n        </Text>\r\n        <Text style={[styles.instructionsText, isMobile && styles.instructionsTextMobile]}>\r\n          As the Operations Manager, please sign below to approve this loan agreement. \r\n          Your signature will be embedded in the promissory note document.\r\n        </Text>\r\n      </View>\r\n\r\n      {/* Signature Canvas */}\r\n      <View style={[styles.signatureContainer, isMobile && styles.signatureContainerMobile]}>\r\n        <Text style={[styles.signatureLabel, isMobile && styles.signatureLabelMobile]}>\r\n          Operations Manager Signature:\r\n        </Text>\r\n        <View style={[styles.signatureCanvas, isMobile && styles.signatureCanvasMobile]}>\r\n          {Platform.OS === 'web' ? (\r\n            <div style={{ width: '100%', height: '100%', position: 'relative' }}>\r\n              <SignatureCanvas\r\n                ref={signatureRef}\r\n                canvasProps={canvasProps}\r\n                penColor=\"#000000\"\r\n                backgroundColor=\"#ffffff\"\r\n                dotSize={1.5}\r\n                minWidth={0.8}\r\n                maxWidth={2.5}\r\n                throttle={12}\r\n                velocityFilterWeight={0.8}\r\n                onEnd={() => {\r\n                  // Don't auto-capture to prevent clearing\r\n                  // User will need to manually capture like mobile\r\n                }}\r\n              />\r\n              {/* Manual capture button for web */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                bottom: '10px',\r\n                right: '10px'\r\n              }}>\r\n                <button\r\n                  onClick={() => {\r\n                    if (signatureRef.current && !signatureRef.current.isEmpty()) {\r\n                      // Capture at native canvas resolution for best quality\r\n                      const signatureData = signatureRef.current.toDataURL('image/png');\r\n                      handleSignature(signatureData);\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    backgroundColor: '#2ecc71',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    padding: '6px 12px',\r\n                    fontSize: '12px',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  Save\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <SignatureCanvas\r\n              ref={signatureRef}\r\n              onOK={handleSignature}\r\n              onEmpty={handleEmpty}\r\n              descriptionText=\"\"\r\n              clearText=\"Clear\"\r\n              confirmText=\"Save\"\r\n              autoClear={false}\r\n              imageType=\"image/png\"\r\n              penColor=\"#000000\"\r\n              backgroundColor=\"#ffffff\"\r\n              minWidth={1}\r\n              maxWidth={3}\r\n              webStyle={`\r\n                .m-signature-pad {\r\n                  position: relative;\r\n                  font-size: 10px;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  border: 2px solid #ddd;\r\n                  border-radius: 8px;\r\n                  background-color: #fff;\r\n                }\r\n                .m-signature-pad--body {\r\n                  position: relative;\r\n                  overflow: hidden;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                }\r\n                .m-signature-pad--body canvas {\r\n                  position: relative;\r\n                  left: 0;\r\n                  top: 0;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  touch-action: none;\r\n                  background-color: #fff;\r\n                }\r\n                .m-signature-pad--footer {\r\n                  position: absolute;\r\n                  left: 20px;\r\n                  right: 20px;\r\n                  bottom: 20px;\r\n                  height: 40px;\r\n                }\r\n                .m-signature-pad--footer .clear,\r\n                .m-signature-pad--footer .save {\r\n                  float: left;\r\n                  margin: 0 5px 5px 0;\r\n                  background: #0066ff;\r\n                  color: #fff;\r\n                  border: none;\r\n                  border-radius: 4px;\r\n                  padding: 8px 12px;\r\n                  cursor: pointer;\r\n                  font-size: 12px;\r\n                }\r\n                .m-signature-pad--footer .clear {\r\n                  background: #e74c3c;\r\n                }\r\n              `}\r\n            />\r\n          )}\r\n        </View>\r\n        \r\n        {/* Signature Status */}\r\n        {isSignatureCaptured && (\r\n          <Text style={[styles.signatureStatus, isMobile && styles.signatureStatusMobile]}>\r\n             Signature captured successfully\r\n          </Text>\r\n        )}\r\n      </View>\r\n\r\n      {/* Action Buttons */}\r\n      <View style={[styles.actionButtons, isMobile && styles.actionButtonsMobile]}>\r\n        <TouchableOpacity\r\n          style={[styles.clearButton, isMobile && styles.buttonMobile]}\r\n          onPress={handleClear}\r\n        >\r\n          <Text style={[styles.clearButtonText, isMobile && styles.buttonTextMobile]}>\r\n            Clear Signature\r\n          </Text>\r\n        </TouchableOpacity>\r\n\r\n        \r\n        <TouchableOpacity\r\n          style={[\r\n            styles.confirmButton,\r\n            isMobile && styles.buttonMobile,\r\n            !isSignatureCaptured && styles.disabledButton\r\n          ]}\r\n          onPress={handleConfirm}\r\n          disabled={!isSignatureCaptured}\r\n        >\r\n          <Text style={[\r\n            styles.confirmButtonText,\r\n            isMobile && styles.buttonTextMobile,\r\n            !isSignatureCaptured && styles.disabledButtonText\r\n          ]}>\r\n            Preview Agreement\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#e0e0e0',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  headerMobile: {\r\n    padding: 12,\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n  },\r\n  backBtn: {\r\n    marginRight: Platform.select({ web: 20, default: 12 }),\r\n    padding: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  backText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: 4,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 16,\r\n    marginTop: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n  },\r\n  subtitleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  agreementSummary: {\r\n    backgroundColor: '#fff',\r\n    margin: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  agreementSummaryMobile: {\r\n    margin: 12,\r\n    padding: 12,\r\n  },\r\n  summaryTitle: {\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    color: '#333',\r\n  },\r\n  summaryTitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 10,\r\n  },\r\n  summaryRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  summaryLabel: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#666',\r\n    fontWeight: '500',\r\n  },\r\n  summaryValue: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#333',\r\n    fontWeight: '600',\r\n  },\r\n  instructionsContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderLeftWidth: 4,\r\n    borderLeftColor: '#0066ff',\r\n  },\r\n  instructionsContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  instructionsTitle: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#0066ff',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  instructionsTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n  instructionsText: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#555',\r\n    lineHeight: Platform.select({ web: 20, default: 18 }),\r\n  },\r\n  instructionsTextMobile: {\r\n    fontSize: 12,\r\n    lineHeight: 16,\r\n  },\r\n  signatureContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  signatureContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  signatureLabel: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: Platform.select({ web: 12, default: 8 }),\r\n  },\r\n  signatureLabelMobile: {\r\n    fontSize: 14,\r\n  },\r\n  signatureCanvas: {\r\n    height: Platform.select({ web: 300, default: 200 }),\r\n    borderWidth: 2,\r\n    borderColor: '#ddd',\r\n    borderRadius: 8,\r\n    backgroundColor: '#fff',\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  signatureCanvasMobile: {\r\n    height: 180,\r\n  },\r\n  signatureStatus: {\r\n    marginTop: Platform.select({ web: 12, default: 8 }),\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#2ecc71',\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  signatureStatusMobile: {\r\n    fontSize: 12,\r\n  },\r\n  actionButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    paddingBottom: Platform.select({ web: 20, default: 16 }),\r\n    gap: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  actionButtonsMobile: {\r\n    flexDirection: 'column',\r\n    paddingHorizontal: 12,\r\n    gap: 10,\r\n  },\r\n  clearButton: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  saveButton: {\r\n    backgroundColor: '#3498db',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  confirmButton: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  disabledButton: {\r\n    backgroundColor: '#bdc3c7',\r\n  },\r\n  buttonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  clearButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  saveButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  confirmButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  disabledButtonText: {\r\n    color: '#95a5a6',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n});","import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform, useWindowDimensions, ActivityIndicator, Alert } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { clientAPI, API_BASE_URL } from '../../services/api';\r\n\r\nexport default function SignedAgreementPreview({ navigation, route }) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [loading, setLoading] = useState(false);\r\n  const [pdfUrl, setPdfUrl] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { updateLoan } = useLoan();\r\n  \r\n  const { client, loanData, signature, signerName } = route.params;\r\n\r\n  useEffect(() => {\r\n    generatePdfPreview();\r\n  }, []);\r\n\r\n  const generatePdfPreview = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      // Create the promissory note with signature\r\n      const response = await fetch(`${API_BASE_URL}/generate-promissory-note`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          clientData: {\r\n            name: client.name,\r\n            address: client.address,\r\n            cid: client.cid\r\n          },\r\n          loanData: {\r\n            approvedAmount: loanData?.approvedAmount || 0,\r\n            interestRate: loanData?.interestRate || 5.0,\r\n            term: loanData?.term || 12,\r\n            repaymentMethod: loanData?.repaymentMethod || 'Monthly'\r\n          },\r\n          signature: signature,\r\n          signerName: signerName || currentUser?.username || 'Operations Manager'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate PDF');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      setPdfUrl(url);\r\n      \r\n    } catch (err) {\r\n      console.error('Error generating PDF:', err);\r\n      setError('Failed to generate PDF preview. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const processApproval = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      console.log('Starting loan approval process...');\r\n      console.log('Client CID:', client.cid);\r\n      console.log('Loan Data:', loanData);\r\n      console.log('Signature present:', !!signature);\r\n      console.log('Signer name:', signerName);\r\n      \r\n      // First check if API is accessible\r\n      const healthCheck = await fetch(`${API_BASE_URL}/clients`);\r\n      if (!healthCheck.ok) {\r\n        throw new Error('API server is not responding properly');\r\n      }\r\n\r\n      console.log('API health check passed');\r\n\r\n      // Process the loan approval with signature\r\n      const { documents, ...clientWithoutDocuments } = client;\r\n      const approvalData = {\r\n        approvedAmount: loanData?.approvedAmount,\r\n        signature: signature,\r\n        signerName: signerName || currentUser?.username || 'Operations Manager',\r\n        ...clientWithoutDocuments\r\n      };\r\n\r\n      console.log('Sending approval data to API...');\r\n\r\n      const result = await clientAPI.processLoanDecision(client.cid, 'approved', approvalData);\r\n\r\n      console.log('API Response:', result);\r\n      \r\n      // Update local state\r\n      console.log('Updating local state...');\r\n      await updateLoan(client.cid, {\r\n        status: 'Approved',\r\n        decidedAt: new Date().toISOString(),\r\n        approvedAmount: loanData?.approvedAmount,\r\n        signedBy: signerName || currentUser?.username || 'Operations Manager',\r\n        signedAt: new Date().toISOString()\r\n      });\r\n\r\n      console.log('Local state updated successfully');\r\n\r\n      // Stop loading before showing success alert\r\n      setLoading(false);\r\n\r\n      console.log('About to show success alert...');\r\n\r\n      // Use custom modal instead of Alert for better web compatibility\r\n      setTimeout(() => {\r\n        console.log('Showing success dialog now...');\r\n        setShowSuccessDialog(true);\r\n      }, 100);\r\n\r\n    } catch (err) {\r\n      console.error('Error approving loan:', err);\r\n      setLoading(false);\r\n      setError(err.message || 'Failed to approve loan');\r\n      \r\n      // Show error alert\r\n      Alert.alert(\r\n        'Error',\r\n        err.message || 'Failed to approve loan. Please try again.',\r\n        [{ text: 'OK' }]\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleApprove = () => {\r\n    console.log('handleApprove called');\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirmApproval = () => {\r\n    console.log('User confirmed approval');\r\n    setShowConfirmDialog(false);\r\n    console.log('About to start processApproval...');\r\n    processApproval();\r\n  };\r\n\r\n  const handleCancelApproval = () => {\r\n    console.log('User cancelled approval');\r\n    setShowConfirmDialog(false);\r\n  };\r\n\r\n  const handleSuccessOK = () => {\r\n    console.log('Success dialog OK button pressed');\r\n    console.log('Navigating back to OpsPendingList...');\r\n    setShowSuccessDialog(false);\r\n    \r\n    // Navigate back to pending list with multiple fallback methods\r\n    try {\r\n      console.log('Attempting navigation reset...');\r\n      navigation.reset({\r\n        index: 0,\r\n        routes: [{ name: 'OpsPendingList' }],\r\n      });\r\n      console.log('Navigation reset successful');\r\n    } catch (err) {\r\n      console.error('Reset navigation failed, trying replace:', err);\r\n      try {\r\n        navigation.replace('OpsPendingList');\r\n        console.log('Navigation replace successful');\r\n      } catch (err2) {\r\n        console.error('Replace navigation failed, trying navigate:', err2);\r\n        navigation.navigate('OpsPendingList');\r\n        console.log('Navigation navigate attempted');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (pdfUrl) {\r\n      URL.revokeObjectURL(pdfUrl);\r\n    }\r\n    navigation.goBack();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={[styles.loadingText, isMobile && styles.loadingTextMobile]}>\r\n          {pdfUrl ? 'Processing loan approval...' : 'Generating PDF preview...'}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={handleBack}\r\n        >\r\n          <Text style={styles.backText}> Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya - Agreement Preview\r\n          </Text>\r\n          <Text style={[styles.subtitle, isMobile && styles.subtitleMobile]}>\r\n            Review and approve the signed loan agreement\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Agreement Details */}\r\n      <View style={[styles.agreementDetails, isMobile && styles.agreementDetailsMobile]}>\r\n        <Text style={[styles.detailsTitle, isMobile && styles.detailsTitleMobile]}>\r\n          Agreement Summary\r\n        </Text>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Client:</Text>\r\n          <Text style={styles.detailValue}>{client.name}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Amount:</Text>\r\n          <Text style={styles.detailValue}>{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Signed By:</Text>\r\n          <Text style={styles.detailValue}>{signerName || currentUser?.username || 'Operations Manager'}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Date:</Text>\r\n          <Text style={styles.detailValue}>{new Date().toLocaleDateString()}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* PDF Preview */}\r\n      <View style={[styles.pdfContainer, isMobile && styles.pdfContainerMobile]}>\r\n        <Text style={[styles.pdfTitle, isMobile && styles.pdfTitleMobile]}>\r\n          Signed Promissory Note Preview\r\n        </Text>\r\n        \r\n        {error ? (\r\n          <View style={styles.errorContainer}>\r\n            <Text style={[styles.errorText, isMobile && styles.errorTextMobile]}>{error}</Text>\r\n            <TouchableOpacity\r\n              style={styles.retryBtn}\r\n              onPress={generatePdfPreview}\r\n            >\r\n              <Text style={styles.retryText}>Retry</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ) : pdfUrl ? (\r\n          <View style={[styles.pdfPreview, isMobile && styles.pdfPreviewMobile]}>\r\n            {Platform.OS === 'web' ? (\r\n              isMobile ? (\r\n                // Mobile web - show open in new tab option\r\n                <View style={styles.mobilePdfContainer}>\r\n                  <Text style={styles.mobilePdfText}> PDF Generated Successfully</Text>\r\n                  <Text style={styles.mobilePdfSubtext}>\r\n                    Due to mobile browser limitations, please click below to view the signed agreement in a new tab.\r\n                  </Text>\r\n                  <TouchableOpacity\r\n                    style={styles.viewPdfBtn}\r\n                    onPress={() => window.open(pdfUrl, '_blank')}\r\n                  >\r\n                    <Text style={styles.viewPdfText}>Open Signed Agreement</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ) : (\r\n                // Desktop web - show iframe\r\n                <iframe\r\n                  src={pdfUrl}\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    border: 'none',\r\n                    borderRadius: '8px'\r\n                  }}\r\n                  title=\"Signed Agreement Preview\"\r\n                />\r\n              )\r\n            ) : (\r\n              <View style={styles.pdfPlaceholder}>\r\n                <Text style={styles.pdfPlaceholderText}>PDF Preview Available</Text>\r\n                <TouchableOpacity\r\n                  style={styles.viewPdfBtn}\r\n                  onPress={() => {\r\n                    if (Platform.OS === 'web') {\r\n                      window.open(pdfUrl, '_blank');\r\n                    }\r\n                  }}\r\n                >\r\n                  <Text style={styles.viewPdfText}>View PDF</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          </View>\r\n        ) : (\r\n          <View style={styles.pdfPlaceholder}>\r\n            <Text style={styles.pdfPlaceholderText}>Loading PDF preview...</Text>\r\n          </View>\r\n        )}\r\n      </View>\r\n\r\n      {/* Action Buttons */}\r\n      <View style={[styles.actionButtons, isMobile && styles.actionButtonsMobile]}>\r\n        <TouchableOpacity\r\n          style={[styles.backToSignBtn, isMobile && styles.buttonMobile]}\r\n          onPress={handleBack}\r\n        >\r\n          <Text style={[styles.backToSignText, isMobile && styles.buttonTextMobile]}>\r\n            Back to Signature\r\n          </Text>\r\n        </TouchableOpacity>\r\n        \r\n        <TouchableOpacity\r\n          style={[styles.approveBtn, isMobile && styles.buttonMobile]}\r\n          onPress={handleApprove}\r\n          disabled={loading || !pdfUrl}\r\n        >\r\n          <Text style={[styles.approveText, isMobile && styles.buttonTextMobile]}>\r\n            Approve & Complete\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Confirmation Dialog */}\r\n      {showConfirmDialog && (\r\n        <View style={styles.confirmOverlay}>\r\n          <View style={[styles.confirmDialog, isMobile && styles.confirmDialogMobile]}>\r\n            <Text style={[styles.confirmTitle, isMobile && styles.confirmTitleMobile]}>\r\n              Confirm Approval\r\n            </Text>\r\n            <Text style={[styles.confirmMessage, isMobile && styles.confirmMessageMobile]}>\r\n              This will approve the loan and generate the signed agreement. This action cannot be undone.\r\n            </Text>\r\n            <View style={[styles.confirmButtons, isMobile && styles.confirmButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.confirmCancelBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleCancelApproval}\r\n              >\r\n                <Text style={styles.confirmCancelText}>Cancel</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.confirmApproveBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleConfirmApproval}\r\n              >\r\n                <Text style={styles.confirmApproveText}>Approve</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      {/* Success Dialog */}\r\n      {showSuccessDialog && (\r\n        <View style={styles.confirmOverlay}>\r\n          <View style={[styles.confirmDialog, isMobile && styles.confirmDialogMobile]}>\r\n            <Text style={[styles.successTitle, isMobile && styles.confirmTitleMobile]}>\r\n              Success\r\n            </Text>\r\n            <Text style={[styles.confirmMessage, isMobile && styles.confirmMessageMobile]}>\r\n              Loan has been approved and signed agreement has been generated.\r\n            </Text>\r\n            <View style={[styles.confirmButtons, isMobile && styles.confirmButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.successOkBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleSuccessOK}\r\n              >\r\n                <Text style={styles.confirmApproveText}>OK</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#e0e0e0',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  headerMobile: {\r\n    padding: 12,\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n  },\r\n  backBtn: {\r\n    marginRight: Platform.select({ web: 20, default: 12 }),\r\n    padding: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  backText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: 4,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 16,\r\n    marginTop: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n  },\r\n  subtitleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  agreementDetails: {\r\n    backgroundColor: '#fff',\r\n    margin: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  agreementDetailsMobile: {\r\n    margin: 12,\r\n    padding: 12,\r\n  },\r\n  detailsTitle: {\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    color: '#333',\r\n  },\r\n  detailsTitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 10,\r\n  },\r\n  detailRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  detailLabel: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#666',\r\n    fontWeight: '500',\r\n  },\r\n  detailValue: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#333',\r\n    fontWeight: '600',\r\n  },\r\n  pdfContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n    flex: 1,\r\n  },\r\n  pdfContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  pdfTitle: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: Platform.select({ web: 12, default: 8 }),\r\n  },\r\n  pdfTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n  pdfPreview: {\r\n    flex: 1,\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    overflow: 'hidden',\r\n  },\r\n  pdfPreviewMobile: {\r\n    minHeight: 300,\r\n  },\r\n  pdfPlaceholder: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    minHeight: Platform.select({ web: 400, default: 200 }),\r\n  },\r\n  pdfPlaceholderText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n    marginBottom: 12,\r\n  },\r\n  mobilePdfContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    padding: 20,\r\n    minHeight: 300,\r\n  },\r\n  mobilePdfText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  mobilePdfSubtext: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    lineHeight: 20,\r\n  },\r\n  viewPdfBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 8,\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  viewPdfText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  errorContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    minHeight: Platform.select({ web: 400, default: 200 }),\r\n  },\r\n  errorText: {\r\n    color: '#e74c3c',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  errorTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  loadingText: {\r\n    marginTop: 12,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  loadingTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  actionButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    paddingBottom: Platform.select({ web: 20, default: 16 }),\r\n    gap: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  actionButtonsMobile: {\r\n    flexDirection: 'column',\r\n    paddingHorizontal: 12,\r\n    gap: 10,\r\n  },\r\n  backToSignBtn: {\r\n    backgroundColor: '#6c757d',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  approveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  buttonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  backToSignText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  approveText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  confirmOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  confirmDialog: {\r\n    backgroundColor: '#fff',\r\n    padding: 24,\r\n    borderRadius: 12,\r\n    width: '80%',\r\n    maxWidth: 400,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 8,\r\n    elevation: 8,\r\n  },\r\n  confirmDialogMobile: {\r\n    width: '90%',\r\n    padding: 20,\r\n  },\r\n  confirmTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  confirmTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  confirmMessage: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    lineHeight: 20,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  confirmMessageMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 16,\r\n  },\r\n  confirmButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 12,\r\n  },\r\n  confirmButtonsMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n  },\r\n  confirmCancelBtn: {\r\n    backgroundColor: '#6c757d',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n  confirmApproveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n  confirmButtonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  confirmCancelText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  confirmApproveText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  successTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  successOkBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nexport default function LoanOfficerNotifications({ navigation }) {\r\n  const { notifications, markNotificationsAsRead, loans, refreshClientData } = useLoan();\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Mark notifications as read when screen is opened\r\n    markNotificationsAsRead();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      console.log('LoanOfficerNotifications focused - refreshing data');\r\n      setIsRefreshing(true);\r\n      \r\n      // Refresh all loans to get latest status\r\n      Promise.all(loans.map(loan => refreshClientData(loan.cid)))\r\n        .catch(err => console.error('Error refreshing client data:', err))\r\n        .finally(() => setIsRefreshing(false));\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation, loans]);\r\n  const renderItem = ({ item }) => {\r\n    const isApproved = item.status === 'Approved';\r\n    \r\n    return (\r\n      <View style={styles.item}>\r\n        {item.type === 'status_change' ? (\r\n          <>\r\n            <Text style={[styles.icon, { color: isApproved ? 'green' : 'red' }]}>\r\n              {isApproved ? '' : ''}\r\n            </Text>\r\n            <Text style={styles.message}>\r\n              CID <Text style={styles.bold}>{item.cid}</Text> LOAN REQUEST HAS BEEN{' '}\r\n              <Text style={[styles.status, { color: isApproved ? 'green' : 'red' }]}>\r\n                {item.status.toUpperCase()}\r\n              </Text>{' '}\r\n              BY THE OPERATIONAL MANAGER\r\n            </Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Text style={[styles.icon, { color: '#007bff' }]}></Text>\r\n            <Text style={styles.message}>\r\n              Loan amount for client{' '}\r\n              <Text style={styles.bold}>{item.clientName}</Text> (CID: {item.cid})\r\n              has been updated to{' '}\r\n              <Text style={styles.bold}>{item.amount.toLocaleString()}</Text>\r\n            </Text>\r\n          </>\r\n        )}\r\n        <Text style={styles.timestamp}>\r\n          {new Date(item.timestamp).toLocaleString()}\r\n        </Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Top Header with Dashboard Button */}\r\n      <View style={styles.headerRow}>\r\n        <Text style={styles.header}>Hello Loan Officer!</Text>\r\n        <TouchableOpacity\r\n          style={styles.dashboardBtn}\r\n          onPress={() => navigation.navigate('LoanOfficerDashboard')}\r\n        >\r\n          <Text style={styles.btnText}>Go to Dashboard</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Section Title */}\r\n      <Text style={styles.subHeader}>Notifications</Text>\r\n\r\n      {/* Notification List */}\r\n      {isRefreshing && (\r\n        <View style={styles.refreshingContainer}>\r\n          <Text style={styles.refreshingText}>Refreshing...</Text>\r\n        </View>\r\n      )}\r\n      <FlatList\r\n        data={notifications}\r\n        keyExtractor={(item) => item.id.toString()}\r\n        renderItem={renderItem}\r\n        ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: 24,\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  header: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 14,\r\n    borderRadius: 6,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: 14,\r\n  },\r\n  subHeader: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    marginBottom: 16,\r\n  },\r\n  item: {\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    paddingVertical: 6,\r\n  },\r\n  icon: {\r\n    fontSize: 18,\r\n    marginRight: 10,\r\n    marginTop: 2,\r\n  },\r\n  message: {\r\n    flex: 1,\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  status: {\r\n    fontWeight: 'bold',\r\n    textTransform: 'uppercase',\r\n  },\r\n  separator: {\r\n    borderBottomWidth: 1,\r\n    borderColor: '#ccc',\r\n    marginVertical: 6,\r\n  },\r\n  timestamp: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4,\r\n    fontStyle: 'italic'\r\n  },\r\n  refreshingContainer: {\r\n    padding: 10,\r\n    backgroundColor: '#f0f0f0',\r\n    alignItems: 'center',\r\n  },\r\n  refreshingText: {\r\n    color: '#666',\r\n    fontSize: 14,\r\n  }\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, useWindowDimensions } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { calculateDueDate } from '../../utils/dateFormatters';\r\n\r\nconst BREAKPOINT_TABLET = 768;\r\nexport default function LoanHistoryScreen({ route, navigation }) {\r\n  const [search, setSearch] = useState('');\r\n  const [loanTermsData, setLoanTermsData] = useState(null);\r\n  const clientId = route.params?.clientId;\r\n  const userRole = route.params?.userRole; // 'ops' or 'loanofficer'\r\n  const fromPendingDetail = route.params?.fromPendingDetail;\r\n  const { loans } = useLoan();\r\n\r\n  // Find client's loan history\r\n  const client = loans.find(loan => loan.cid === clientId);\r\n  const loanHistory = client?.loans?.loanHistory || [];\r\n\r\n  // Fetch loan terms data for due date calculation\r\n  useEffect(() => {\r\n    const fetchLoanTerms = async () => {\r\n      if (!clientId) return;\r\n      \r\n      try {\r\n        const response = await fetch(`http://localhost:5600/client-loan-data/${clientId}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setLoanTermsData(data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching loan terms:', error);\r\n      }\r\n    };\r\n\r\n    fetchLoanTerms();\r\n  }, [clientId]);\r\n\r\n  const filteredData = loanHistory\r\n    .filter(\r\n      item =>\r\n        item.dateApplied.toLowerCase().includes(search.toLowerCase()) ||\r\n        item.purpose.toLowerCase().includes(search.toLowerCase()) ||\r\n        item.status.toLowerCase().includes(search.toLowerCase())\r\n    )\r\n    .sort((a, b) => {\r\n      // Convert dateApplied strings to Date objects for proper comparison\r\n      const dateA = new Date(a.dateApplied);\r\n      const dateB = new Date(b.dateApplied);\r\n      // Sort in descending order (latest first)\r\n      return dateB - dateA;\r\n    });\r\n\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < BREAKPOINT_TABLET;\r\n\r\n  const renderItem = ({ item }) => {\r\n    const isApproved = item.status === 'Approved';\r\n    const isDeclined = item.status === 'Declined';\r\n    \r\n    // Calculate due date based on loan terms from API\r\n    let dueDate = item.dueDate || 'N/A';\r\n    \r\n    if (isApproved && loanTermsData) {\r\n      // Use loan terms from API to calculate due date\r\n      dueDate = calculateDueDate(\r\n        item.dateApplied,\r\n        loanTermsData.term,\r\n        loanTermsData.repaymentMethod\r\n      );\r\n    }\r\n\r\n    if (isMobile) {\r\n      return (\r\n        <View style={styles.cardContainer}>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Date Applied:</Text>\r\n            <Text style={styles.cardValue}>{item.dateApplied}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Amount:</Text>\r\n            <Text style={styles.cardValue}>{item.amount.toLocaleString()}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Purpose:</Text>\r\n            <Text style={styles.cardValue}>{item.purpose}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Status:</Text>\r\n            <Text style={[styles.cardValue, { color: isApproved ? 'green' : isDeclined ? 'red' : 'black' }]}>\r\n              {item.status}\r\n            </Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Due Date:</Text>\r\n            <Text style={styles.cardValue}>{dueDate}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Paid:</Text>\r\n            <Text style={styles.cardValue}>{item.paid ? 'Yes' : 'No'}</Text>\r\n          </View>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <View style={styles.row}>\r\n        <Text style={[styles.cell, { flex: 2 }]}>{item.dateApplied}</Text>\r\n        <Text style={[styles.cell, { flex: 2 }]}>{item.amount.toLocaleString()}</Text>\r\n        <Text style={[styles.cell, { flex: 3 }]}>{item.purpose}</Text>\r\n        <Text\r\n          style={[\r\n            styles.cell,\r\n            { flex: 2, color: isApproved ? 'green' : isDeclined ? 'red' : 'black' },\r\n          ]}\r\n        >\r\n          {item.status}\r\n        </Text>\r\n        <Text style={[styles.cell, { flex: 2 }]}>{dueDate}</Text>\r\n        <Text style={[styles.cell, { flex: 1 }]}>{item.paid ? 'Yes' : 'No'}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  // Role-based navigation functions\r\n  const handleDashboardNav = () => {\r\n    const dashboardScreen = userRole === 'ops' ? 'OpsDashboard' : 'LoanOfficerDashboard';\r\n    navigation.navigate(dashboardScreen);\r\n  };\r\nconst handleProfileNav = () => {\r\n  if (fromPendingDetail) {\r\n    navigation.goBack(); // Go back to PendingLoanDetail regardless of role\r\n  } else {\r\n    const profileScreen = userRole === 'ops' ? 'OpsClientProfile' : 'ClientProfile';\r\n    navigation.navigate(profileScreen, {\r\n      client: {\r\n        cid: clientId\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\n  return (\r\n    <View style={[styles.container, isMobile && styles.containerMobile]}>\r\n      {/* Top Header */}\r\n      <View style={[styles.headerRow, isMobile && styles.headerRowMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n          Loan History of Client {clientId}\r\n        </Text>\r\n        <View style={[styles.buttonContainer, isMobile && styles.buttonContainerMobile]}>\r\n          <TouchableOpacity\r\n            style={[styles.btn, styles.backBtn, isMobile && styles.btnMobile]}\r\n            onPress={handleProfileNav}\r\n          >\r\n            <Text style={styles.btnText}>Back to Profile</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={[styles.btn, styles.dashboardBtn, isMobile && styles.btnMobile]}\r\n            onPress={handleDashboardNav}\r\n          >\r\n            <Text style={styles.btnText}>Go to Dashboard</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Search */}\r\n      <View style={[styles.searchBar, isMobile && styles.searchBarMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n      </View>\r\n\r\n      {/* Table Header - Only show on desktop */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Date Applied</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Amount</Text>\r\n          <Text style={[styles.headerCell, { flex: 3 }]}>Purpose</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Status</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Due Date</Text>\r\n          <Text style={[styles.headerCell, { flex: 1 }]}>Paid?</Text>\r\n        </View>\r\n      )}\r\n\r\n      {/* Loan List */}\r\n      <FlatList\r\n        data={filteredData}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        renderItem={renderItem}\r\n        ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Container styles\r\n  container: {\r\n    padding: 24,\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  containerMobile: {\r\n    padding: 16,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  headerRowMobile: {\r\n    flexDirection: 'column',\r\n    alignItems: 'stretch',\r\n    gap: 16,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    gap: 8,\r\n  },\r\n  buttonContainerMobile: {\r\n    flexDirection: 'column',\r\n    gap: 8,\r\n  },\r\n  btn: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  btnMobile: {\r\n    paddingVertical: 12,\r\n    alignItems: 'center',\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#6c757d',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  searchBar: {\r\n    marginBottom: 12,\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 16,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 10,\r\n  },\r\n  searchInputMobile: {\r\n    padding: 12,\r\n  },\r\n  // Table styles\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#dcdcdc',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 6,\r\n    marginBottom: 4,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  cell: {\r\n    fontSize: 13,\r\n    paddingHorizontal: 6,\r\n  },\r\n  separator: {\r\n    height: 1,\r\n    backgroundColor: '#ddd',\r\n  },\r\n\r\n  // Card styles for mobile\r\n  cardContainer: {\r\n    backgroundColor: 'white',\r\n    borderRadius: 8,\r\n    padding: 16,\r\n    marginBottom: 12,\r\n    elevation: 2,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  cardLabel: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n    color: '#666',\r\n    flex: 1,\r\n  },\r\n  cardValue: {\r\n    fontSize: 14,\r\n    flex: 2,\r\n    textAlign: 'right',\r\n  },\r\n});","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Image, ActivityIndicator } from 'react-native';\r\nimport { API_BASE_URL, clientAPI } from '../../services/api';\r\n\r\nexport default function DocumentPreviewScreen({ navigation, route }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const { cid, title, documents, latestDate } = route.params;\r\n\r\n  const renderDocumentPreview = (doc) => {\r\n    const isPDF = doc.name.toLowerCase().endsWith('.pdf');\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        key={doc.name}\r\n        style={styles.documentCard}\r\n        onPress={async () => {\r\n          try {\r\n            const { url, type } = await clientAPI.viewDocumentByFilename(cid, doc.name, latestDate);\r\n            window.open(url, '_blank');\r\n            setTimeout(() => URL.revokeObjectURL(url), 1000);\r\n          } catch (error) {\r\n            console.error('Error viewing document:', error);\r\n            alert('Error viewing document. Please try again.');\r\n          }\r\n        }}\r\n      >\r\n        <View style={styles.previewContainer}>\r\n          {isPDF ? (\r\n            <View style={styles.pdfPreview}>\r\n              <Text style={styles.pdfIcon}>PDF</Text>\r\n            </View>\r\n          ) : (\r\n            <Image\r\n              source={{ uri: `${API_BASE_URL}/documents/${cid}/thumbnail/${doc.name}?date=${encodeURIComponent(latestDate)}` }}\r\n              style={styles.imagePreview}\r\n              resizeMode=\"contain\"\r\n            />\r\n          )}\r\n        </View>\r\n        <Text style={styles.documentName}>{doc.displayName}</Text>\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={styles.loadingText}>Loading documents...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <Text style={styles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryBtn} onPress={() => navigation.goBack()}>\r\n          <Text style={styles.retryText}>Retry</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={styles.header}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text> Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={styles.title}>{title}</Text>\r\n          <Text style={styles.subtitle}>{latestDate}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Document Grid */}\r\n      <ScrollView style={styles.content}>\r\n        <View style={styles.grid}>\r\n          {documents.map(doc => renderDocumentPreview(doc))}\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n    backgroundColor: '#fff',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  backBtn: {\r\n    marginRight: 16,\r\n  },\r\n  title: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  grid: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 16,\r\n    justifyContent: 'space-between',\r\n    paddingBottom: 20\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n    marginLeft: 16\r\n  },\r\n  subtitle: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4\r\n  },\r\n  documentCard: {\r\n    width: '48%',\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    overflow: 'hidden',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  previewContainer: {\r\n    width: '100%',\r\n    height: 150,\r\n    backgroundColor: '#f5f5f5',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  imagePreview: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  pdfPreview: {\r\n    width: '100%',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#e0e0e0',\r\n  },\r\n  pdfIcon: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#666',\r\n  },\r\n  documentName: {\r\n    padding: 12,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n    fontSize: 16,\r\n    color: '#666',\r\n  },\r\n  errorText: {\r\n    color: '#dc3545',\r\n    fontSize: 16,\r\n    marginBottom: 15,\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n});","import React from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\n\r\n// Screens\r\nimport LoginScreen from './screens/auth/LoginScreen';\r\nimport ForgotPasswordScreen from './screens/auth/ForgotPasswordScreen';\r\nimport ITAdminDashboard from './screens/itadmin/DashboardScreen';\r\nimport OpsDashboard from './screens/ops/DashboardScreen';\r\nimport LoanOfficerDashboard from './screens/loanofficer/DashboardScreen';\r\nimport ClientListScreen from './screens/loanofficer/ClientListScreen';\r\nimport ClientProfileScreen from './screens/loanofficer/ClientProfileScreen';\r\nimport TotalLoanListScreen from './screens/loanofficer/TotalLoanListScreen';\r\nimport PendingLoanDetailScreen from './screens/loanofficer/PendingLoanDetailScreen';\r\nimport UserManagementScreen from './screens/itadmin/UserManagementScreen';\r\nimport AddEditUserScreen from './screens/itadmin/AddEditUserScreen';\r\nimport OpsClientListScreen from './screens/ops/OpsClientListScreen';\r\nimport OpsClientProfileScreen from './screens/ops/OpsClientProfileScreen';\r\nimport OpsPendingListScreen from './screens/ops/OpsPendingListScreen';\r\nimport OpsPendingLoanDetailScreen from './screens/ops/OpsPendingLoanDetailScreen';\r\nimport SignatureAgreementScreen from './screens/ops/SignatureAgreementScreen';\r\nimport SignedAgreementPreview from './screens/ops/SignedAgreementPreview';\r\nimport LoanOfficerNotifications from './screens/loanofficer/LoanOfficerNotifications';\r\nimport LoanHistoryScreen from './screens/shared/LoanHistoryScreen';\r\nimport DocumentPreviewScreen from './screens/shared/DocumentPreviewScreen';\r\n\r\n\r\n// Contexts\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport { UsersProvider } from './contexts/UsersContext';\r\nimport { LoanProvider } from './contexts/LoanContext';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <UsersProvider>\r\n        <LoanProvider>\r\n          <NavigationContainer>\r\n            <Stack.Navigator initialRouteName=\"Login\" screenOptions={{ headerShown: false }}>\r\n              <Stack.Screen name=\"Login\" component={LoginScreen} />\r\n              <Stack.Screen name=\"ForgotPassword\" component={ForgotPasswordScreen} />\r\n              <Stack.Screen name=\"Dashboard\" component={ITAdminDashboard} />\r\n              <Stack.Screen name=\"OpsDashboard\" component={OpsDashboard} />\r\n              <Stack.Screen name=\"UserManagement\" component={UserManagementScreen} />\r\n              <Stack.Screen name=\"AddEditUser\" component={AddEditUserScreen} />\r\n              <Stack.Screen name=\"LoanOfficerDashboard\" component={LoanOfficerDashboard} />\r\n              <Stack.Screen name=\"ClientList\" component={ClientListScreen} />\r\n              <Stack.Screen name=\"ClientProfile\" component={ClientProfileScreen} />\r\n              <Stack.Screen name=\"TotalLoanList\" component={TotalLoanListScreen} />\r\n              <Stack.Screen name=\"PendingLoanDetail\" component={PendingLoanDetailScreen} />\r\n              <Stack.Screen name=\"OpsClientList\" component={OpsClientListScreen} />\r\n              <Stack.Screen name=\"OpsClientProfile\" component={OpsClientProfileScreen} />\r\n              <Stack.Screen name=\"OpsPendingList\" component={OpsPendingListScreen} />\r\n              <Stack.Screen name=\"OpsPendingLoanDetail\" component={OpsPendingLoanDetailScreen} />\r\n              <Stack.Screen name=\"SignatureAgreement\" component={SignatureAgreementScreen} />\r\n              <Stack.Screen name=\"SignedAgreementPreview\" component={SignedAgreementPreview} />\r\n              <Stack.Screen name=\"LoanOfficerNotifications\" component={LoanOfficerNotifications} />\r\n              <Stack.Screen name=\"LoanHistory\" component={LoanHistoryScreen} />\r\n              <Stack.Screen\r\n                name=\"DocumentPreview\"\r\n                component={DocumentPreviewScreen}\r\n                options={({ route }) => ({\r\n                  headerShown: false,\r\n                })}\r\n              />\r\n            </Stack.Navigator>\r\n          </NavigationContainer>\r\n        </LoanProvider>\r\n      </UsersProvider>\r\n    </AuthProvider>\r\n  );\r\n}","import { registerRootComponent } from 'expo';\r\nimport App from './App';\r\n\r\n// Register the root component\r\nregisterRootComponent(App);","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [940], () => (__webpack_require__(4454)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["AuthContext","createContext","currentUser","setCurrentUser","resetPassword","logout","AuthProvider","_ref","children","_useState","useState","savedUser","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","useEffect","setItem","stringify","removeItem","_ref2","_asyncToGenerator","username","newPassword","Error","Promise","resolve","setTimeout","success","message","_x","_x2","apply","arguments","_jsx","Provider","value","API_BASE_URL","_Constants$expoConfig","_Constants$expoConfig2","_Constants$expoConfig3","_Constants$expoConfig4","console","log","NODE_ENV","process","REACT_APP_API_URL","expoConfig","Constants","extra","isProduction","getApiUrl","authAPI","login","_login","password","response","fetch","method","headers","body","ok","error","json","data","user","officer","fullName","role","status","userAPI","getAllUsers","_getAllUsers","updateUserStatus","_updateUserStatus","_x3","_x4","addUser","_addUser","userData","_x5","updateUser","_updateUser","_x6","_x7","DOCUMENT_TYPE_MAP","DOCUMENT_CATEGORIES","APPLICATION_DOCS","SIGNED_DOCS","clientAPI","getAllClients","_getAllClients","getClientById","_getClientById","cid","_x8","getClientScore","_getClientScore","_x9","processMetrics","_processMetrics","_x0","processLoanDecision","_processLoanDecision","decision","additionalData","length","undefined","_objectSpread","_x1","_x10","fetchClientLoanData","_fetchClientLoanData","_x11","updateLoanAmount","_updateLoanAmount","amount","_x12","_x13","notifications","getNotifications","_getNotifications","createNotification","_createNotification","notification","_x14","markAsRead","_markAsRead","notificationIds","_x15","viewDocumentByFilename","_viewDocumentByFilename","filename","date","paddedCid","toString","padStart","url","encodeURIComponent","errorData","contentType","get","blob","URL","createObjectURL","Blob","type","_x16","_x17","viewDocument","_viewDocument","documentType","internalType","encodedType","_x18","_x19","getLatestDocuments","_getLatestDocuments","documents","_x20","getDocumentDates","_getDocumentDates","dates","_x21","getDocumentsByDate","_getDocumentsByDate","_x22","_x23","LoginScreen","navigation","_useContext","useContext","navigate","isMobile","useWindowDimensions","width","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","isLoading","setIsLoading","handleLogin","alert","View","style","styles","container","_jsxs","card","cardMobile","Text","title","label","TextInput","input","onChangeText","secureTextEntry","TouchableOpacity","loginBtn","loginBtnDisabled","onPress","disabled","loginText","forgotText","StyleSheet","create","flex","backgroundColor","justifyContent","alignItems","padding","Platform","select","web","default","borderRadius","maxWidth","elevation","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","fontSize","fontWeight","textAlign","marginBottom","color","borderWidth","borderColor","paddingVertical","marginTop","opacity","errorText","textDecorationLine","ForgotPasswordScreen","step","setStep","email","setEmail","_useState7","_useState8","setNewPassword","_useState9","_useState0","confirmPassword","setConfirmPassword","_useState1","_useState10","setIsAdmin","users","handleSubmitUsername","find","u","handleResetPassword","subtitle","placeholder","submitBtn","submitText","keyboardType","marginVertical","UsersContext","loading","refreshUsers","UsersProvider","setUsers","setLoading","fetchedUsers","_ref3","_ref4","updatedUser","id","Object","keys","updateData","TopBar","showNotifications","unreadCount","topbar","leftSection","leftSectionMobile","brand","brandMobile","rightSection","rightSectionMobile","roleMobile","notificationContainer","icon","iconMobile","badge","badgeText","replace","logoutButton","logoutButtonMobile","logoutMobile","flexDirection","paddingHorizontal","gap","minWidth","position","top","right","DashboardCard","number","button","buttonText","DashboardScreen","officerCount","filter","roleType","opsCount","content","cardRow","cardRowMobile","viewListButton","viewListButtonMobile","buttonTextMobile","flexWrap","LoanContext","LoanProvider","loans","setLoans","setNotifications","setUnreadCount","setError","fetchClients","fetchNotifications","interval","setInterval","clearInterval","clientData","err","refreshClientData","updatedClient","prevLoans","map","loan","n","read","addNotification","_ref5","timestamp","Date","toISOString","markNotificationsAsRead","_ref6","unreadIds","updateLoan","_ref7","updates","l","clientName","name","toLowerCase","recipientRole","_ref8","newAmount","targetLoan","updatedHistory","_toConsumableArray","loanHistory","latestRequestIndex","findIndex","_","arr","dateApplied","getTime","Math","max","decidedAt","toLocaleString","clearNotifications","useLoan","context","OpsDashboardScreen","totalClients","totalPending","contentMobile","LoanOfficerDashboard","_useLoan","totalLoanClients","sharedStyles","flexGrow","containerDesktop","minHeight","alignSelf","section","marginHorizontal","sectionMobile","centerContent","loadingText","titleMobile","primaryButton","secondaryButton","buttonTextSecondary","modal","overlay","maxHeight","searchBar","inputMobile","header","titleContainer","ClientList","_ref$userRole","userRole","onClientPress","dashboardRoute","search","setSearch","filteredClients","client","includes","handleClientPress","screenName","age","address","financial","monthlyIncome","monthlyExpenses","assets","dti","ActivityIndicator","size","dashboardBtn","dashboardBtnMobile","btnText","btnTextMobile","searchBarMobile","tableHeader","rowContent","headerCell","cidCell","nameCell","actionCell","FlatList","keyExtractor","item","renderItem","row","rowMobile","mobileContent","mobileName","mobileCid","cell","viewBtn","viewBtnText","ListEmptyComponent","emptyContainer","emptyText","ClientListScreen","formatDateForDisplay","dateString","toLocaleDateString","year","month","day","loadApplicationDocumentDates","filteredDates","dateInfo","applicationDocs","doc","some","keyword","displayName","push","documentCount","loadSignedDocumentDates","datesWithSignedDocs","signedDocs","isPDF","endsWith","isPromissoryNote","getApplicationDocuments","selectedDate","getSignedDocuments","defaultClient","signedDocuments","employer","ClientProfile","_route$params","_route$params$client","route","setClient","showDateModal","setShowDateModal","documentDates","setDocumentDates","loadingDates","setLoadingDates","_useState11","_useState12","modalType","setModalType","params","loadClientData","_clientData$documents","_clientData$documents2","handleLoadDocumentDates","handleDateSelection","latestDate","retryBtn","retryText","ScrollView","scrollView","contentContainerStyle","sectionTitle","subTitle","detailsContainer","bold","documentCategory","categoryText","previewBtn","previewText","financialContainer","financialDetails","financialItem","employmentContainer","employmentDetails","employmentItem","loanHistoryContainer","clientId","actionRow","backBtn","goBack","backBtnText","refreshBtn","actionBtnText","Modal","visible","transparent","animationType","onRequestClose","index","dateButton","dateButtonText","documentCountText","noDataText","closeButton","closeButtonText","fontStyle","ClientProfileScreen","statuses","TotalLoanListScreen","setFilter","isRefreshing","setIsRefreshing","refreshAllLoans","all","addListener","formatDate","getMonth","getDate","getFullYear","getLatestLoanRequest","_item$loans","clientNotifications","sort","a","b","latestNotification","latest","dateUpdated","filteredLoans","matchesSearch","currentStatus","currentFilter","matchesFilter","isTablet","headerMobile","searchFilterRow","searchFilterRowMobile","searchInput","searchInputMobile","filterMobile","filterLabel","filterLabelMobile","Pressable","filterOption","activeFilter","filterOptionMobile","filterText","activeFilterText","filterTextMobile","headerContainer","tabletCell","tabletHeaderText","statusCell","centerText","updateCell","refreshingIndicator","refreshingText","rowTablet","backScreen","mobileStatusRow","mobileStatus","approvedStatus","declinedStatus","pendingStatus","charAt","toUpperCase","slice","mobileDate","_Fragment","cellContainer","numberOfLines","tabletUpdateText","lineHeight","paddingRight","borderBottomWidth","paymentHistory","creditUtilization","creditHistoryLength","creditMix","newInquiries","approved","pending","loanBalance","dueDate","PendingLoanDetailScreen","_route$params2","loanData","setLoanData","fetchLoanData","initialClient","calculateScore","weights","weightedSum","min","round","getRiskCategory","score","showsVerticalScrollIndicator","topbarMobile","logo","logoMobile","left","leftMobile","sectionTitleMobile","allDates","sortedDates","localeCompare","latestApplicationDocs","_doc$name","latestSignedDocs","_doc$name2","mappedDocs","rightMobile","viewBtnMobile","fromPendingDetail","loanDetails","loanDetailsMobile","approvedAmount","recommendedAmount","purpose","description","term","repaymentMethod","interestRate","amountDue","creditBox","creditBoxMobile","creditScore","riskCategory","recommendation","backText","borderRightWidth","zIndex","paddingLeft","UserManagementScreen","getRoleDisplayName","backButton","backButtonMobile","pageTitle","pageTitleMobile","addButton","addButtonMobile","addButtonText","addButtonTextMobile","table","mobileContainer","mobileCard","mobileCardHeader","mobileCardName","mobileCardStatus","activeStatus","disabledStatus","mobileCardContent","mobileCardLabel","mobileCardValue","mobileCardActions","newStatus","mobileActionButton","disableButtonMobile","enableButtonMobile","mobileActionButtonText","userCopy","editButtonMobile","tableRow","actionButtonContainer","actionButton","disableButton","enableButton","editButton","borderTopLeftRadius","borderTopRightRadius","borderBottomColor","loadingContainer","AddEditUserScreen","passedUser","getRoleForAPI","displayRole","apiRole","getDisplayRole","confirmNewPassword","formData","setFormData","handleSave","trimmedData","trim","setParams","mobileTitle","form","formMobile","labelMobile","text","editable","pickerContainer","pickerContainerMobile","Picker","selectedValue","onValueChange","Item","passwordSection","passwordSectionMobile","saveButton","saveButtonMobile","saveButtonText","saveButtonTextMobile","overflow","OpsClientListScreen","OpsClientProfileScreen","OpsPendingListScreen","filtered","headerRow","headerRowMobile","listContainer","OpsPendingLoanDetailScreen","_loanData$approvedAmo","_loanData$recommended","_loanData$approvedAmo3","showEditModal","setShowEditModal","editedAmount","setEditedAmount","setSuccess","setLatestRequest","_client$loans","_client$loans$loanHis","_route$params$client$","_route$params$client$2","handleDecline","result","handleSaveEdit","currentApprovedAmount","clientWithoutDocuments","_objectWithoutProperties","_excluded","_client$loans2","parseInt","maxAmount","total","updatedLatest","actionRowMobile","btnMobile","editBtn","_loanData$approvedAmo2","declineBtn","approveBtn","modalOverlay","modalContent","modalContentMobile","modalTitle","modalTitleMobile","modalSubtitle","modalSubtitleMobile","amountInput","amountInputMobile","placeholderTextColor","errorTextMobile","modalButtons","modalButtonsMobile","cancelBtn","cancelBtnMobile","modalButtonText","modalButtonTextMobile","saveBtn","saveBtnMobile","modalButtonTextWhite","modalButtonTextWhiteMobile","successMessage","successText","errorMessage","SignatureCanvas","margin","detailRow","detailLabel","detailLabelMobile","detailValue","detailValueMobile","personalDetailsGrid","personalDetailsGridMobile","financialGrid","employmentGrid","loanDetailRow","loanDetailValue","loanDetailValueMobile","loanHistorySection","loanHistorySectionMobile","viewBtnTextMobile","subTitleMobile","detailsContainerMobile","creditScoreMobile","riskCategoryMobile","recommendationMobile","backBtnMobile","editBtnMobile","declineBtnMobile","approveBtnMobile","buttonTextWhite","buttonTextWhiteMobile","documentButton","documentButtonText","documentRow","docText","loanBox","SignatureAgreementScreen","signatureRef","useRef","signature","setSignature","isSignatureCaptured","setIsSignatureCaptured","handleSignature","canvasProps","border","display","className","headerContent","subtitleMobile","agreementSummary","agreementSummaryMobile","summaryTitle","summaryTitleMobile","summaryRow","summaryLabel","summaryValue","instructionsContainer","instructionsContainerMobile","instructionsTitle","instructionsTitleMobile","instructionsText","instructionsTextMobile","signatureContainer","signatureContainerMobile","signatureLabel","signatureLabelMobile","signatureCanvas","signatureCanvasMobile","OS","ref","penColor","dotSize","throttle","velocityFilterWeight","onEnd","bottom","onClick","current","isEmpty","signatureData","toDataURL","cursor","onOK","onEmpty","Alert","descriptionText","clearText","confirmText","autoClear","imageType","webStyle","signatureStatus","signatureStatusMobile","actionButtons","actionButtonsMobile","clearButton","buttonMobile","clear","clearSignature","clearButtonText","confirmButton","disabledButton","signerName","confirmButtonText","disabledButtonText","require","marginRight","borderLeftWidth","borderLeftColor","paddingBottom","SignedAgreementPreview","pdfUrl","setPdfUrl","showConfirmDialog","setShowConfirmDialog","showSuccessDialog","setShowSuccessDialog","generatePdfPreview","processApproval","approvalData","signedBy","signedAt","handleBack","revokeObjectURL","loadingTextMobile","agreementDetails","agreementDetailsMobile","detailsTitle","detailsTitleMobile","pdfContainer","pdfContainerMobile","pdfTitle","pdfTitleMobile","errorContainer","pdfPreview","pdfPreviewMobile","mobilePdfContainer","mobilePdfText","mobilePdfSubtext","viewPdfBtn","window","open","viewPdfText","src","pdfPlaceholder","pdfPlaceholderText","backToSignBtn","backToSignText","approveText","confirmOverlay","confirmDialog","confirmDialogMobile","confirmTitle","confirmTitleMobile","confirmMessage","confirmMessageMobile","confirmButtons","confirmButtonsMobile","confirmCancelBtn","confirmButtonMobile","confirmCancelText","confirmApproveBtn","confirmApproveText","successTitle","successOkBtn","reset","routes","err2","LoanOfficerNotifications","catch","finally","subHeader","refreshingContainer","isApproved","ItemSeparatorComponent","separator","textTransform","LoanHistoryScreen","_route$params3","loanTermsData","setLoanTermsData","fetchLoanTerms","filteredData","dateA","containerMobile","buttonContainer","buttonContainerMobile","btn","profileScreen","dashboardScreen","isDeclined","termMonths","startDate","totalDays","setDate","totalWeeks","ceil","setMonth","calculateDueDate","cardContainer","cardLabel","cardValue","paid","DocumentPreviewScreen","grid","documentCard","_yield$clientAPI$view","previewContainer","pdfIcon","Image","source","uri","imagePreview","resizeMode","documentName","renderDocumentPreview","marginLeft","Stack","createNativeStackNavigator","registerRootComponent","NavigationContainer","Navigator","initialRouteName","screenOptions","headerShown","Screen","component","ITAdminDashboard","OpsDashboard","options","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","then","ns","def","indexOf","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","g","globalThis","Function","e","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}