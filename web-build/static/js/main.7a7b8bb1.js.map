{"version":3,"file":"static/js/main.7a7b8bb1.js","mappings":"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","sources":["webpack://web/./src/screens/ops/signature-styles.css?b4a3","src/contexts/AuthContext.js","src/services/api.js","src/screens/auth/LoginScreen.js","src/screens/auth/ForgotPasswordScreen.js","src/contexts/UsersContext.js","src/components/common/TopBar.js","src/components/common/DashboardCard.js","src/screens/itadmin/DashboardScreen.js","src/contexts/LoanContext.js","src/screens/ops/DashboardScreen.js","src/screens/loanofficer/DashboardScreen.js","src/styles/shared.js","src/components/clients/ClientList.js","src/screens/loanofficer/ClientListScreen.js","src/utils/dateFormatters.js","src/utils/documentHandlers.js","src/components/clients/ClientProfile.js","src/screens/loanofficer/ClientProfileScreen.js","src/screens/loanofficer/TotalLoanListScreen.js","src/screens/loanofficer/PendingLoanDetailScreen.js","src/screens/itadmin/UserManagementScreen.js","src/screens/itadmin/AddEditUserScreen.js","src/screens/ops/OpsClientListScreen.js","src/screens/ops/OpsClientProfileScreen.js","src/screens/ops/OpsPendingListScreen.js","src/screens/ops/OpsPendingLoanDetailScreen.js","src/screens/ops/SignatureAgreementScreen.js","src/screens/ops/SignedAgreementPreview.js","src/screens/loanofficer/LoanOfficerNotifications.js","src/screens/shared/LoanHistoryScreen.js","src/screens/shared/DocumentPreviewScreen.js","src/App.js","src/index.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { createContext, useState, useEffect } from 'react';\r\n\r\nexport const AuthContext = createContext({\r\n  currentUser: null,\r\n  setCurrentUser: () => {},\r\n  resetPassword: () => {},\r\n  logout: () => {},\r\n});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(() => {\r\n    // Try to get saved user from localStorage on init\r\n    const savedUser = localStorage.getItem('currentUser');\r\n    return savedUser ? JSON.parse(savedUser) : null;\r\n  });\r\n\r\n  // Update localStorage whenever currentUser changes\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n    } else {\r\n      localStorage.removeItem('currentUser');\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const resetPassword = async (username, newPassword) => {\r\n    // Validate inputs\r\n    if (!username || !newPassword) {\r\n      throw new Error('Username and new password are required');\r\n    }\r\n\r\n    // In a real app, this would make an API call to reset the password\r\n    // For now, we'll just simulate the process\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Simulate successful password reset\r\n        resolve({\r\n          success: true,\r\n          message: 'Password reset successful'\r\n        });\r\n      }, 1000);\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      currentUser,\r\n      setCurrentUser,\r\n      resetPassword,\r\n      logout,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","export const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5600';\r\n\r\n// Authentication API endpoints\r\nexport const authAPI = {\r\n  login: async (username, password) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/officers/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.message || 'Login failed');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      if (!data.success) {\r\n        throw new Error(data.message || 'Login failed');\r\n      }\r\n\r\n      // Map the officer data to the expected user format\r\n      return {\r\n        user: {\r\n          username: data.officer.username,\r\n          fullName: data.officer.fullName,\r\n          role: data.officer.role, // Use the role directly from backend\r\n          status: data.officer.status\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Login Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// User Management API endpoints\r\nexport const userAPI = {\r\n  // Get all users\r\n  getAllUsers: async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch users');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update user status\r\n  updateUserStatus: async (username, status) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/${username}/status`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ status })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update user status');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Add new user\r\n  addUser: async (userData) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to add user');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update user\r\n  updateUser: async (username, userData) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/${username}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n      if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'Failed to update user');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Document type mapping for API requests\r\nconst DOCUMENT_TYPE_MAP = {\r\n  'Valid Id': 'validid',\r\n  'ORCR': 'orcr',\r\n  'Land Title': 'landtitle',\r\n  'Deeds of Assignment': 'deed',\r\n  'Promissory Note': 'promissory-note'\r\n};\r\n\r\n// Document categories\r\nexport const DOCUMENT_CATEGORIES = {\r\n  APPLICATION_DOCS: ['Valid Id', 'ORCR', 'Land Title', 'Deeds of Assignment'],\r\n  SIGNED_DOCS: ['Promissory Note', 'Signed Agreement']\r\n};\r\n\r\nexport const clientAPI = {\r\n  // Get all clients from the Credit Scoring API\r\n  getAllClients: async () => {\r\n    try {\r\n      console.log('Fetching clients from:', API_BASE_URL);\r\n      const response = await fetch(`${API_BASE_URL}/clients`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch clients');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get single client by CID\r\n  getClientById: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/client/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch client');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get client score data\r\n  getClientScore: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/score/${cid}`, {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch client score');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Process client metrics\r\n  processMetrics: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/metrics/${cid}`, {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to process metrics');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Process loan decision (approve/decline)\r\n  processLoanDecision: async (cid, decision, additionalData = {}) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan/${cid}/decision`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ decision, ...additionalData })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to process loan decision');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Fetch client loan data\r\n  fetchClientLoanData: async (cid) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/client-loan-data/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch loan data');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update loan amount\r\n  updateLoanAmount: async (cid, amount) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan/${cid}/amount`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ amount })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update loan amount');\r\n      }\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Notification endpoints\r\n  notifications: {\r\n    // Get notifications for the current user\r\n    getNotifications: async () => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications`);\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch notifications');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Create a new notification\r\n    createNotification: async (notification) => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(notification)\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('Failed to create notification');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    // Mark notifications as read\r\n    markAsRead: async (notificationIds) => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/notifications/mark-read`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ notificationIds })\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('Failed to mark notifications as read');\r\n        }\r\n        return response.json();\r\n      } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw error;\r\n      }\r\n    }\r\n  },\r\n\r\n  // View client document by specific filename\r\n  viewDocumentByFilename: async (cid, filename, date = null) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n\r\n      // Use the new endpoint that takes specific filename\r\n      console.log('Fetching document file:', filename, 'for CID:', paddedCid, 'date:', date);\r\n      \r\n      // Build URL with optional date parameter\r\n      let url = `${API_BASE_URL}/documents/${paddedCid}/file/${encodeURIComponent(filename)}`;\r\n      if (date) {\r\n        url += `?date=${encodeURIComponent(date)}`;\r\n      }\r\n      \r\n      const response = await fetch(url);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document');\r\n      }\r\n      \r\n      // Get content type from response headers\r\n      const contentType = response.headers.get('content-type');\r\n      const blob = await response.blob();\r\n      \r\n      // Create object URL for preview\r\n      const objectUrl = URL.createObjectURL(new Blob([blob], { type: contentType }));\r\n      return {\r\n        url: objectUrl,\r\n        type: contentType\r\n      };\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // View client document with preview support (legacy - uses document type)\r\n  viewDocument: async (cid, documentType) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n\r\n      // Map document type to internal type\r\n      const internalType = DOCUMENT_TYPE_MAP[documentType];\r\n      if (!internalType) {\r\n        throw new Error(`Invalid document type: ${documentType}`);\r\n      }\r\n\r\n      // Encode the internal type for URL safety\r\n      const encodedType = encodeURIComponent(internalType);\r\n      console.log('Fetching document:', documentType, 'as', internalType, 'for CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/${encodedType}`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document');\r\n      }\r\n      \r\n      // Get content type from response headers\r\n      const contentType = response.headers.get('content-type');\r\n      const blob = await response.blob();\r\n      \r\n      // Create object URL for preview\r\n      const objectUrl = URL.createObjectURL(new Blob([blob], { type: contentType }));\r\n      return {\r\n        url: objectUrl,\r\n        type: contentType\r\n      };\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get all documents from latest folder\r\n  getLatestDocuments: async (cid) => {\r\n    try {\r\n      // Pad CID with leading zeros to match GCS folder structure (e.g., '1' -> '001')\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting documents for padded CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/all`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch documents');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.documents;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get all document dates for a client\r\n  getDocumentDates: async (cid) => {\r\n    try {\r\n      // Pad CID with leading zeros to match GCS folder structure\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting document dates for padded CID:', paddedCid);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/dates`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch document dates');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.dates;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get documents from specific date folder\r\n  getDocumentsByDate: async (cid, date) => {\r\n    try {\r\n      // Pad CID with leading zeros\r\n      const paddedCid = cid.toString().padStart(3, '0');\r\n      console.log('Getting documents for padded CID:', paddedCid, 'date:', date);\r\n      const response = await fetch(`${API_BASE_URL}/documents/${paddedCid}/date/${date}`);\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to fetch documents');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.documents;\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};","import React, { useState, useContext, useEffect } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { authAPI } from '../../services/api';\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const { setCurrentUser, currentUser } = useContext(AuthContext);\r\n  \r\n  // Check for saved user on component mount\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      // Navigate based on role\r\n      if (currentUser.role === 'IT_ADMIN') {\r\n        navigation.navigate('Dashboard');\r\n      } else if (currentUser.role === 'OPS_MANAGER') {\r\n        navigation.navigate('OpsDashboard');\r\n      } else if (currentUser.role === 'LOAN_OFFICER') {\r\n        navigation.navigate('LoanOfficerDashboard');\r\n      }\r\n    }\r\n  }, [currentUser, navigation]);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await authAPI.login(username, password);\r\n      \r\n      if (response.user) {\r\n        setCurrentUser(response.user);\r\n        \r\n        if (response.user.role === 'IT_ADMIN') {\r\n          navigation.navigate('Dashboard');\r\n        } else if (response.user.role === 'OPS_MANAGER') {\r\n          navigation.navigate('OpsDashboard');\r\n        } else if (response.user.role === 'LOAN_OFFICER') {\r\n          navigation.navigate('LoanOfficerDashboard');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      alert(error.message || 'Login failed. Please check your credentials.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.card, isMobile && styles.cardMobile]}>\r\n        <Text style={styles.title}>LoanSiya Log-in Portal</Text>\r\n        <Text style={styles.label}>Username</Text>\r\n        <TextInput style={styles.input} onChangeText={setUsername} value={username} />\r\n        <Text style={styles.label}>Password</Text>\r\n        <TextInput style={styles.input} secureTextEntry onChangeText={setPassword} value={password} />\r\n        <TouchableOpacity\r\n          style={[styles.loginBtn, isLoading && styles.loginBtnDisabled]}\r\n          onPress={handleLogin}\r\n          disabled={isLoading}\r\n        >\r\n          <Text style={styles.loginText}>{isLoading ? 'Logging in...' : 'Login'}</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => navigation.navigate('ForgotPassword')}>\r\n          <Text style={styles.forgotText}>Forgot Password?</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: Platform.select({ web: 40, default: 20 })\r\n  },\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 40, default: 24 }),\r\n    borderRadius: 12,\r\n    width: '100%',\r\n    maxWidth: 400,\r\n    elevation: 5,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  cardMobile: {\r\n    padding: 20,\r\n    width: '95%',\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 24, default: 20 }),\r\n    fontWeight: '700',\r\n    textAlign: 'center',\r\n    marginBottom: Platform.select({ web: 30, default: 20 }),\r\n    color: '#333'\r\n  },\r\n  label: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 8,\r\n    color: '#333',\r\n    fontWeight: '500'\r\n  },\r\n  input: {\r\n    backgroundColor: '#e1e1e1',\r\n    padding: Platform.select({ web: 14, default: 12 }),\r\n    borderRadius: 8,\r\n    marginBottom: 20,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    borderWidth: 1,\r\n    borderColor: '#ccc'\r\n  },\r\n  loginBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: Platform.select({ web: 14, default: 12 }),\r\n    borderRadius: 8,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    width: '100%'\r\n  },\r\n  loginBtnDisabled: {\r\n    backgroundColor: '#ccc',\r\n    opacity: 0.7\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center',\r\n    marginBottom: 10\r\n  },\r\n  loginBtnDisabled: {\r\n    backgroundColor: '#ccc',\r\n    opacity: 0.7\r\n  },\r\n  loginText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 })\r\n  },\r\n  forgotText: {\r\n    textAlign: 'center',\r\n    marginTop: 16,\r\n    color: '#007bff',\r\n    textDecorationLine: 'underline',\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  }\r\n});","import React, { useState, useContext } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\nexport default function ForgotPasswordScreen({ navigation }) {\r\n  const [step, setStep] = useState(1);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  // Sample user data - in real app this would come from a backend\r\n  const users = [\r\n    { username: 'admin', role: 'IT_ADMIN' },\r\n    { username: 'officer1', role: 'OFFICER' },\r\n  ];\r\n\r\n  const handleSubmitUsername = () => {\r\n    const user = users.find(u => u.username === username);\r\n    if (user) {\r\n      setIsAdmin(user.role === 'IT_ADMIN');\r\n      if (user.role === 'IT_ADMIN') {\r\n        setStep(2);\r\n      } else {\r\n        setStep(4); // Show contact admin message for non-admin users\r\n      }\r\n    } else {\r\n      alert('Username not found!');\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = () => {\r\n    if (newPassword !== confirmPassword) {\r\n      alert('Passwords do not match!');\r\n      return;\r\n    }\r\n    if (newPassword.length < 6) {\r\n      alert('Password must be at least 6 characters long!');\r\n      return;\r\n    }\r\n    // In a real app, this would make an API call to reset the password\r\n    setStep(3); // Show email confirmation message\r\n  };\r\n\r\n  const renderStep1 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Forgot Password</Text>\r\n      <Text style={styles.subtitle}>Enter your username (ex. officer1)</Text>\r\n      <Text style={styles.label}>Enter Username:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={username}\r\n        onChangeText={setUsername}\r\n        placeholder=\"Username\"\r\n      />\r\n      <TouchableOpacity style={styles.submitBtn} onPress={handleSubmitUsername}>\r\n        <Text style={styles.submitText}>Submit</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep2 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello Admin!</Text>\r\n      <Text style={styles.label}>Email:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={email}\r\n        onChangeText={setEmail}\r\n        placeholder=\"Enter your email\"\r\n        keyboardType=\"email-address\"\r\n      />\r\n      <Text style={styles.label}>New Password:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={newPassword}\r\n        onChangeText={setNewPassword}\r\n        secureTextEntry\r\n        placeholder=\"Enter new password\"\r\n      />\r\n      <Text style={styles.label}>Confirm Password:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={confirmPassword}\r\n        onChangeText={setConfirmPassword}\r\n        secureTextEntry\r\n        placeholder=\"Confirm new password\"\r\n      />\r\n      <TouchableOpacity style={styles.submitBtn} onPress={handleResetPassword}>\r\n        <Text style={styles.submitText}>Submit</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep3 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello Admin!</Text>\r\n      <Text style={styles.message}>\r\n        Please check your email, we have sent you a confirmation.\r\n      </Text>\r\n      <TouchableOpacity style={styles.submitBtn} onPress={() => navigation.navigate('Login')}>\r\n        <Text style={styles.submitText}>Back to Login</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  const renderStep4 = () => (\r\n    <View>\r\n      <Text style={styles.title}>Hello!</Text>\r\n      <Text style={styles.message}>\r\n        Please contact the IT Admin for password assistance!\r\n      </Text>\r\n      <TouchableOpacity style={styles.submitBtn} onPress={() => navigation.navigate('Login')}>\r\n        <Text style={styles.submitText}>Back to Login</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.card}>\r\n        {step === 1 && renderStep1()}\r\n        {step === 2 && renderStep2()}\r\n        {step === 3 && renderStep3()}\r\n        {step === 4 && renderStep4()}\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    padding: 30,\r\n    borderRadius: 10,\r\n    width: '90%',\r\n    maxWidth: 400,\r\n    elevation: 5,\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: '700',\r\n    textAlign: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  subtitle: {\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n    color: '#666',\r\n  },\r\n  label: {\r\n    fontSize: 14,\r\n    marginBottom: 6,\r\n    color: '#333',\r\n  },\r\n  input: {\r\n    backgroundColor: '#e1e1e1',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    marginBottom: 16,\r\n  },\r\n  submitBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: 12,\r\n    borderRadius: 6,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n  },\r\n  submitText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n  },\r\n  message: {\r\n    textAlign: 'center',\r\n    fontSize: 16,\r\n    marginVertical: 20,\r\n    color: '#666',\r\n  },\r\n});","import React, { createContext, useState, useEffect } from 'react';\r\nimport { userAPI } from '../services/api';\r\n\r\nexport const UsersContext = createContext({\r\n  users: [],\r\n  loading: false,\r\n  addUser: (user) => {},\r\n  updateUser: (user) => {},\r\n  refreshUsers: () => {},\r\n});\r\n\r\nexport const UsersProvider = ({ children }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch users from GCS on component mount\r\n  const refreshUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const fetchedUsers = await userAPI.getAllUsers();\r\n      setUsers(fetchedUsers);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      // Keep existing users if fetch fails\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshUsers();\r\n  }, []);\r\n\r\n  const addUser = async (user) => {\r\n    try {\r\n      // Validate required fields\r\n      if (!user.username || !user.fullName || !user.role || !user.password) {\r\n        throw new Error('Username, full name, role, and password are required');\r\n      }\r\n\r\n      setLoading(true);\r\n      const response = await userAPI.addUser(user);\r\n      \r\n      // Refresh users list to get updated data from GCS\r\n      await refreshUsers();\r\n      \r\n      return response.user;\r\n    } catch (error) {\r\n      console.error('Error adding user:', error);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateUser = async (updatedUser) => {\r\n    try {\r\n      if (!updatedUser.id && !updatedUser.username) {\r\n        throw new Error('User ID or username is required for updating');\r\n      }\r\n      \r\n      const username = updatedUser.username || updatedUser.id;\r\n      \r\n      setLoading(true);\r\n\r\n      // For simple status updates\r\n      if (Object.keys(updatedUser).length === 2 && updatedUser.status) {\r\n        await userAPI.updateUserStatus(username, updatedUser.status);\r\n      } else {\r\n        // For full user updates\r\n        const updateData = {};\r\n        if (updatedUser.fullName) updateData.fullName = updatedUser.fullName;\r\n        if (updatedUser.role) updateData.role = updatedUser.role;\r\n        if (updatedUser.status) updateData.status = updatedUser.status;\r\n        if (updatedUser.password) updateData.password = updatedUser.password;\r\n        \r\n        await userAPI.updateUser(username, updateData);\r\n      }\r\n      \r\n      // Refresh users list to get updated data from GCS\r\n      await refreshUsers();\r\n    } catch (error) {\r\n      console.error('Error updating user:', error);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <UsersContext.Provider value={{\r\n      users,\r\n      loading,\r\n      addUser,\r\n      updateUser,\r\n      refreshUsers,\r\n    }}>\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n};","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\nexport default function TopBar({ navigation, role, showNotifications, unreadCount }) {\r\n  const { logout } = useContext(AuthContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  return (\r\n    <View style={styles.topbar}>\r\n      <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n        <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        {!isMobile && <Text style={styles.title}>Dashboard</Text>}\r\n      </View>\r\n      <View style={[styles.rightSection, isMobile && styles.rightSectionMobile]}>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>{role}</Text>\r\n        {showNotifications && (\r\n          <TouchableOpacity\r\n            style={styles.notificationContainer}\r\n            onPress={() => navigation.navigate('LoanOfficerNotifications')}\r\n          >\r\n            <Text style={[styles.icon, isMobile && styles.iconMobile]}>🔔</Text>\r\n            {unreadCount > 0 && (\r\n              <View style={styles.badge}>\r\n                <Text style={styles.badgeText}>{unreadCount}</Text>\r\n              </View>\r\n            )}\r\n          </TouchableOpacity>\r\n        )}\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            logout();\r\n            navigation.replace('Login');\r\n          }}\r\n          style={[styles.logoutButton, isMobile && styles.logoutButtonMobile]}\r\n        >\r\n          <Text style={[styles.logout, isMobile && styles.logoutMobile]}>Logout</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: '5%', default: 16 }),\r\n    paddingVertical: Platform.select({ web: 15, default: 12 }),\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 15,\r\n  },\r\n  rightSectionMobile: {\r\n    gap: 8,\r\n  },\r\n  brand: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 16,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 20, default: 16 }),\r\n    fontWeight: '500',\r\n  },\r\n  role: {\r\n    fontSize: 16,\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  logoutButton: {\r\n    padding: Platform.select({ web: 8, default: 12 }),\r\n    backgroundColor: '#f0f0f0',\r\n    borderRadius: 6,\r\n    minWidth: Platform.select({ web: 80, default: 70 }),\r\n  },\r\n  logoutButtonMobile: {\r\n    padding: 10,\r\n    minWidth: 60,\r\n  },\r\n  logout: {\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    textAlign: 'center',\r\n  },\r\n  logoutMobile: {\r\n    fontSize: 14,\r\n  },\r\n  notificationContainer: {\r\n    position: 'relative',\r\n    padding: Platform.select({ web: 8, default: 12 }),\r\n  },\r\n  icon: {\r\n    fontSize: Platform.select({ web: 18, default: 20 }),\r\n  },\r\n  iconMobile: {\r\n    fontSize: 16,\r\n  },\r\n  badge: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    backgroundColor: '#e74c3c',\r\n    borderRadius: 10,\r\n    minWidth: 20,\r\n    height: 20,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 2,\r\n  },\r\n  badgeText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n  },\r\n});","import React from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform } from 'react-native';\r\n\r\nexport default function DashboardCard({ label, value, onPress }) {\r\n  return (\r\n    <View style={styles.card}>\r\n      <Text style={styles.label}>{label}</Text>\r\n      <Text style={styles.number}>{value}</Text>\r\n      {onPress && (\r\n        <TouchableOpacity style={styles.button} onPress={onPress}>\r\n          <Text style={styles.buttonText}>View List</Text>\r\n        </TouchableOpacity>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    backgroundColor: '#e2e2e2',\r\n    paddingVertical: Platform.select({ web: 30, default: 20 }),\r\n    paddingHorizontal: Platform.select({ web: 25, default: 15 }),\r\n    borderRadius: 12,\r\n    width: Platform.select({ web: 200, default: '45%' }),\r\n    minWidth: Platform.select({ web: 180, default: 150 }),\r\n    alignItems: 'center',\r\n    elevation: 3,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  label: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    textAlign: 'center',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  number: {\r\n    fontSize: Platform.select({ web: 28, default: 24 }),\r\n    fontWeight: 'bold',\r\n    color: '#111',\r\n    marginBottom: Platform.select({ web: 14, default: 10 }),\r\n  },\r\n  button: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 30, default: 20 }),\r\n    borderRadius: 8,\r\n    width: '90%',\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, useWindowDimensions } from 'react-native';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function DashboardScreen({ navigation }) {\r\n  const { users } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const officerCount = users.filter(user =>\r\n    (user.roleType === 'LOAN_OFFICER' || user.role === 'Loan Officer') && user.status === 'Active'\r\n  ).length;\r\n  \r\n  const opsCount = users.filter(user =>\r\n    (user.roleType === 'OPS_MANAGER' || user.role === 'OPS_MANAGER') && user.status === 'Active'\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"IT Admin\"\r\n        showNotifications={false}\r\n      />\r\n\r\n      <View style={styles.content}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Active Loan Officers\"\r\n            value={officerCount}\r\n          />\r\n          <DashboardCard\r\n            label=\"Total Active Operations Manager\"\r\n            value={opsCount}\r\n          />\r\n        </View>\r\n        <TouchableOpacity\r\n          style={[styles.viewListButton, isMobile && styles.viewListButtonMobile]}\r\n          onPress={() => navigation.navigate('UserManagement')}\r\n        >\r\n          <Text style={[styles.buttonText, isMobile && styles.buttonTextMobile]}>View List</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: 20,\r\n    marginBottom: 20,\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  cardRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 15,\r\n    alignItems: 'center',\r\n  },\r\n  viewListButton: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 40,\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    minWidth: 200,\r\n  },\r\n  viewListButtonMobile: {\r\n    paddingVertical: 14,\r\n    paddingHorizontal: 30,\r\n    marginTop: 25,\r\n    width: '80%',\r\n    maxWidth: 300,\r\n  },\r\n  buttonText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 15,\r\n  },\r\n});","import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { clientAPI } from '../services/api';\r\n\r\nconst LoanContext = createContext();\r\n\r\nconst POLLING_INTERVAL = 30000; // 30 seconds\r\n\r\nexport function LoanProvider({ children }) {\r\n  const [loans, setLoans] = useState([]);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch clients when component mounts\r\n  useEffect(() => {\r\n    fetchClients();\r\n  }, []);\r\n\r\n  // Set up polling for notifications\r\n  useEffect(() => {\r\n    fetchNotifications(); // Initial fetch\r\n\r\n    const interval = setInterval(() => {\r\n      fetchNotifications();\r\n    }, POLLING_INTERVAL);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchClients = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const clientData = await clientAPI.getAllClients();\r\n      setLoans(clientData);\r\n    } catch (err) {\r\n      setError(`Failed to fetch clients: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshClientData = async (cid) => {\r\n    try {\r\n      const updatedClient = await clientAPI.getClientById(cid);\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(loan =>\r\n          loan.cid === cid ? updatedClient : loan\r\n        )\r\n      );\r\n      return updatedClient;\r\n    } catch (err) {\r\n      setError(`Failed to refresh client: ${err.message}`);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Fetch notifications from the server\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const response = await clientAPI.notifications.getNotifications();\r\n      setNotifications(response);\r\n      setUnreadCount(response.filter(n => !n.read).length);\r\n    } catch (err) {\r\n      console.error('Failed to fetch notifications:', err);\r\n    }\r\n  };\r\n\r\n  const addNotification = async (notification) => {\r\n    try {\r\n      await clientAPI.notifications.createNotification({\r\n        timestamp: new Date().toISOString(),\r\n        read: false,\r\n        ...notification\r\n      });\r\n      await fetchNotifications(); // Refresh notifications\r\n    } catch (err) {\r\n      console.error('Failed to create notification:', err);\r\n    }\r\n  };\r\n\r\n  const markNotificationsAsRead = async () => {\r\n    try {\r\n      const unreadIds = notifications.filter(n => !n.read).map(n => n.id);\r\n      if (unreadIds.length > 0) {\r\n        await clientAPI.notifications.markAsRead(unreadIds);\r\n        await fetchNotifications(); // Refresh notifications\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to mark notifications as read:', err);\r\n    }\r\n  };\r\n\r\n  const clearNotifications = () => {\r\n    // Note: This is now just a visual clear, as we're keeping notifications in the backend\r\n    setNotifications([]);\r\n    setUnreadCount(0);\r\n  };\r\n\r\n  const updateLoan = async (cid, updates) => {\r\n    try {\r\n      const loan = loans.find(l => l.cid === cid);\r\n      if (!loan) {\r\n        throw new Error(`Loan not found for CID: ${cid}`);\r\n      }\r\n\r\n      // Update local state\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(l =>\r\n          l.cid === cid\r\n            ? { ...l, ...updates }\r\n            : l\r\n        )\r\n      );\r\n\r\n      // Create notification in backend if status changed\r\n      if (updates.status === 'Approved' || updates.status === 'Declined') {\r\n        await addNotification({\r\n          cid,\r\n          clientName: loan.name,\r\n          type: 'status_change',\r\n          status: updates.status,\r\n          message: `Loan request for client ${loan.name} has been ${updates.status.toLowerCase()} by Operations Manager`,\r\n          recipientRole: 'loan_officer' // Specify that this is for loan officers\r\n        });\r\n      }\r\n\r\n      // Refresh client data to ensure consistency\r\n      const updatedClient = await refreshClientData(cid);\r\n      return updatedClient;\r\n    } catch (err) {\r\n      console.error('Failed to update loan:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const updateLoanAmount = async (cid, newAmount) => {\r\n    try {\r\n      const targetLoan = loans.find(l => l.cid === cid);\r\n      if (!targetLoan) throw new Error('Client not found');\r\n\r\n      // Update amount in the API\r\n      await clientAPI.updateLoanAmount(cid, newAmount);\r\n\r\n      // Update local state after API success\r\n      setLoans(prevLoans =>\r\n        prevLoans.map(loan => {\r\n          if (loan.cid === cid) {\r\n            const updatedHistory = [...loan.loans.loanHistory];\r\n            const latestRequestIndex = updatedHistory.findIndex(\r\n              (loan, _, arr) =>\r\n                new Date(loan.dateApplied).getTime() ===\r\n                Math.max(...arr.map(l => new Date(l.dateApplied).getTime()))\r\n            );\r\n\r\n            if (latestRequestIndex !== -1) {\r\n              updatedHistory[latestRequestIndex] = {\r\n                ...updatedHistory[latestRequestIndex],\r\n                amount: newAmount,\r\n                decidedAt: new Date().toISOString()\r\n              };\r\n            }\r\n\r\n            return {\r\n              ...loan,\r\n              loans: {\r\n                ...loan.loans,\r\n                loanHistory: updatedHistory\r\n              }\r\n            };\r\n          }\r\n          return loan;\r\n        })\r\n      );\r\n\r\n      // Create notification in backend\r\n      await addNotification({\r\n        cid,\r\n        clientName: targetLoan.name,\r\n        type: 'amount_change',\r\n        amount: newAmount,\r\n        message: `Loan amount for client ${targetLoan.name} has been updated to ₱${newAmount.toLocaleString()} by Operations Manager`,\r\n        recipientRole: 'loan_officer'\r\n      });\r\n\r\n      return await refreshClientData(cid);\r\n    } catch (err) {\r\n      console.error('Failed to update loan amount:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoanContext.Provider value={{\r\n      loans,\r\n      loading,\r\n      error,\r\n      updateLoan,\r\n      updateLoanAmount,\r\n      refreshClientData,\r\n      notifications,\r\n      unreadCount,\r\n      markNotificationsAsRead,\r\n      clearNotifications,\r\n      fetchNotifications // Export this so components can manually refresh if needed\r\n    }}>\r\n      {children}\r\n    </LoanContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useLoan() {\r\n  const context = useContext(LoanContext);\r\n  if (!context) {\r\n    throw new Error('useLoan must be used within a LoanProvider');\r\n  }\r\n  return context;\r\n}","import React from 'react';\r\nimport { View, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function OpsDashboardScreen({ navigation }) {\r\n  const { loans } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const totalClients = loans.length;\r\n  const totalPending = loans.filter(loan =>\r\n    loan.status === 'Pending' ||\r\n    !loan.status\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"Operations Manager\"\r\n        showNotifications={false}\r\n      />\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Loan Clients\"\r\n            value={totalClients}\r\n            onPress={() => navigation.navigate('OpsClientList')}\r\n          />\r\n          <DashboardCard\r\n            label=\"Total Loan Pending\"\r\n            value={totalPending}\r\n            onPress={() => navigation.navigate('OpsPendingList')}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 40, default: 20 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  contentMobile: {\r\n    padding: 16,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 30, default: 15 }),\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    maxWidth: 1200,\r\n    width: '100%',\r\n  },\r\n  cardRowMobile: {\r\n    gap: 12,\r\n    paddingHorizontal: 10,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport { View, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport TopBar from '../../components/common/TopBar';\r\nimport DashboardCard from '../../components/common/DashboardCard';\r\n\r\nexport default function LoanOfficerDashboard({ navigation }) {\r\n  const { loans, unreadCount } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const totalLoanClients = loans.length;\r\n  const totalLoanPending = loans.filter(loan =>\r\n    loan.status === 'Pending' ||\r\n    !loan.status\r\n  ).length;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TopBar\r\n        navigation={navigation}\r\n        role=\"Loan Officer\"\r\n        showNotifications={true}\r\n        unreadCount={unreadCount}\r\n      />\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.cardRow, isMobile && styles.cardRowMobile]}>\r\n          <DashboardCard\r\n            label=\"Total Loan Client\"\r\n            value={totalLoanClients}\r\n            onPress={() => navigation.navigate('ClientList')}\r\n          />\r\n        <DashboardCard\r\n          label=\"Total Loan List\"\r\n          value={totalLoanClients}\r\n          onPress={() => navigation.navigate('TotalLoanList')}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 40, default: 20 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  contentMobile: {\r\n    padding: 16,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 30, default: 15 }),\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    maxWidth: 1200,\r\n    width: '100%',\r\n  },\r\n  cardRowMobile: {\r\n    gap: 12,\r\n    paddingHorizontal: 10,\r\n  },\r\n});\r\n","import { Platform } from 'react-native';\r\n\r\nexport const sharedStyles = {\r\n  container: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: '#f6f6f6',\r\n    padding: Platform.select({ web: 24, default: 16 }),\r\n  },\r\n  containerDesktop: {\r\n    minHeight: '100vh',\r\n    justifyContent: 'center',\r\n    paddingVertical: 40,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    width: '100%',\r\n    maxWidth: 1400,\r\n    alignSelf: 'center',\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n  },\r\n  section: {\r\n    flex: 1,\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 10, default: 8 }),\r\n    marginVertical: Platform.select({ web: 0, default: 8 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  sectionMobile: {\r\n    padding: 12,\r\n    marginBottom: 20,\r\n    marginHorizontal: 0,\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n  },\r\n  errorText: {\r\n    color: '#dc3545',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 15,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  button: {\r\n    primaryButton: {\r\n      backgroundColor: '#007bff',\r\n      paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n      paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n      borderRadius: 8,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    secondaryButton: {\r\n      backgroundColor: '#e9ecef',\r\n      paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n      paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n      borderRadius: 8,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    buttonText: {\r\n      color: '#fff',\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      fontWeight: '600',\r\n      textAlign: 'center',\r\n    },\r\n    buttonTextSecondary: {\r\n      color: '#333',\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      fontWeight: '600',\r\n      textAlign: 'center',\r\n    },\r\n  },\r\n  modal: {\r\n    overlay: {\r\n      flex: 1,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    content: {\r\n      backgroundColor: 'white',\r\n      padding: Platform.select({ web: 24, default: 16 }),\r\n      borderRadius: 12,\r\n      width: '80%',\r\n      maxWidth: 500,\r\n      maxHeight: '80%',\r\n    },\r\n    contentMobile: {\r\n      width: '90%',\r\n      padding: 16,\r\n    },\r\n    title: {\r\n      fontSize: Platform.select({ web: 18, default: 16 }),\r\n      fontWeight: 'bold',\r\n      marginBottom: 15,\r\n      textAlign: 'center',\r\n      color: '#333',\r\n    },\r\n  },\r\n  searchBar: {\r\n    container: {\r\n      flexDirection: 'row',\r\n      marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    },\r\n    input: {\r\n      backgroundColor: '#fff',\r\n      borderRadius: 8,\r\n      padding: Platform.select({ web: 12, default: 10 }),\r\n      flex: 1,\r\n      fontSize: Platform.select({ web: 16, default: 14 }),\r\n      borderWidth: 1,\r\n      borderColor: '#ddd',\r\n    },\r\n    inputMobile: {\r\n      padding: 8,\r\n      fontSize: 14,\r\n    },\r\n  },\r\n  header: {\r\n    marginBottom: Platform.select({ web: 24, default: 16 }),\r\n  },\r\n  titleContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, ActivityIndicator, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { sharedStyles } from '../../styles/shared';\r\n\r\nexport default function ClientList({ \r\n  navigation, \r\n  userRole = 'loanofficer',\r\n  onClientPress,\r\n  dashboardRoute\r\n}) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  \r\n  const [search, setSearch] = useState('');\r\n  const { loans, loading, error } = useLoan();\r\n\r\n  const filteredClients = loans.filter(client =>\r\n    client.name.toLowerCase().includes(search.toLowerCase()) || client.cid.includes(search)\r\n  );\r\n\r\n  const handleClientPress = (client) => {\r\n    if (onClientPress) {\r\n      onClientPress(client);\r\n    } else {\r\n      const screenName = userRole === 'ops' ? 'OpsClientProfile' : 'ClientProfile';\r\n      navigation.navigate(screenName, {\r\n        client: {\r\n          ...client,\r\n          cid: client.cid,\r\n          name: client.name || 'N/A',\r\n          age: client.age || 0,\r\n          email: client.email || 'N/A',\r\n          number: client.number || 'N/A',\r\n          address: client.address || 'N/A',\r\n          financial: client.financial || {\r\n            monthlyIncome: 0,\r\n            monthlyExpenses: 0,\r\n            assets: 0,\r\n            dti: 0\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[styles.row, isMobile && styles.rowMobile]}\r\n      onPress={() => isMobile && handleClientPress(item)}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n        </View>\r\n      ) : (\r\n        // Desktop layout\r\n        <View style={styles.rowContent}>\r\n          <Text style={[styles.cell, styles.cidCell]}>{item.cid}</Text>\r\n          <Text style={[styles.cell, styles.nameCell]}>{item.name}</Text>\r\n          <View style={styles.actionCell}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => handleClientPress(item)}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={sharedStyles.loadingText}>Loading clients...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>{error}</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={sharedStyles.container}>\r\n      <View style={styles.header}>\r\n        <View style={styles.titleContainer}>\r\n          <Text style={[sharedStyles.title, isMobile && sharedStyles.titleMobile]}>Client List</Text>\r\n          <TouchableOpacity\r\n            style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n            onPress={() => navigation.navigate(dashboardRoute)}\r\n          >\r\n            <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>Go to Dashboard</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={[sharedStyles.searchBar.container, isMobile && styles.searchBarMobile]}>\r\n          <TextInput\r\n            style={[sharedStyles.searchBar.input, isMobile && sharedStyles.searchBar.inputMobile]}\r\n            placeholder=\"Search by name or CID\"\r\n            value={search}\r\n            onChangeText={setSearch}\r\n          />\r\n        </View>\r\n      </View>\r\n\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <View style={styles.rowContent}>\r\n            <Text style={[styles.headerCell, styles.cidCell]}>CID</Text>\r\n            <Text style={[styles.headerCell, styles.nameCell]}>Full Name</Text>\r\n            <View style={styles.actionCell}>\r\n              <Text style={styles.headerCell}></Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      <FlatList\r\n        data={filteredClients}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n        ListEmptyComponent={() => (\r\n          <View style={styles.emptyContainer}>\r\n            <Text style={styles.emptyText}>\r\n              {search ? 'No clients match your search' : 'No clients found'}\r\n            </Text>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    marginBottom: 20,\r\n  },\r\n  titleContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 10,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    marginBottom: 4,\r\n    borderRadius: 8,\r\n    alignItems: 'flex-start',\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    color: '#495057',\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    marginBottom: 8,\r\n    borderRadius: 8,\r\n    alignItems: 'flex-start',\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n  },\r\n  rowContent: {\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  cell: {\r\n    paddingHorizontal: 6,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#212529',\r\n  },\r\n  cidCell: {\r\n    width: '25%',\r\n    textAlign: 'left',\r\n  },\r\n  nameCell: {\r\n    width: '50%',\r\n    textAlign: 'left',\r\n  },\r\n  actionCell: {\r\n    width: '25%',\r\n    alignItems: 'flex-end',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  emptyContainer: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  emptyText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#6c757d',\r\n  },\r\n});","import React from 'react';\r\nimport ClientList from '../../components/clients/ClientList';\r\n\r\nexport default function ClientListScreen({ navigation }) {\r\n  return (\r\n    <ClientList\r\n      navigation={navigation}\r\n      userRole=\"loanofficer\"\r\n      dashboardRoute=\"LoanOfficerDashboard\"\r\n    />\r\n  );\r\n}\r\n","export const formatDateForDisplay = (dateString) => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\n// Helper function to calculate due date based on loan terms\r\nexport const calculateDueDate = (dateApplied, termMonths, repaymentMethod = 'monthly') => {\r\n  if (!dateApplied || !termMonths) return 'N/A';\r\n  \r\n  const startDate = new Date(dateApplied);\r\n  \r\n  if (repaymentMethod.toLowerCase() === 'daily') {\r\n    // For daily payments: start date + (term * 30) days\r\n    const totalDays = termMonths * 30;\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setDate(dueDate.getDate() + totalDays);\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  } else if (repaymentMethod.toLowerCase() === 'weekly') {\r\n    // For weekly payments: start date + (term * 4.33) weeks\r\n    const totalWeeks = Math.ceil(termMonths * 4.33);\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setDate(dueDate.getDate() + (totalWeeks * 7));\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long', \r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  } else {\r\n    // For monthly payments: start date + term months\r\n    const dueDate = new Date(startDate);\r\n    dueDate.setMonth(dueDate.getMonth() + parseInt(termMonths));\r\n    \r\n    return dueDate.toLocaleDateString('en-US', {\r\n      month: 'long',\r\n      day: 'numeric', \r\n      year: 'numeric'\r\n    });\r\n  }\r\n};\r\n\r\n// Helper function to get next day's date (for first payment)\r\nexport const getNextDay = (currentDate) => {\r\n  const date = new Date(currentDate);\r\n  date.setDate(date.getDate() + 1);\r\n  return date.toLocaleDateString('en-US', {\r\n    month: 'long',\r\n    day: 'numeric',\r\n    year: 'numeric'\r\n  });\r\n};","import { clientAPI } from '../services/api';\r\n\r\nexport const loadApplicationDocumentDates = async (cid) => {\r\n  try {\r\n    const dates = await clientAPI.getDocumentDates(cid);\r\n    const filteredDates = [];\r\n    \r\n    for (const dateInfo of dates) {\r\n      const documents = await clientAPI.getDocumentsByDate(cid, dateInfo.date);\r\n      const applicationDocs = documents.filter(doc =>\r\n        !['pdf', 'signed-promissory-note'].some(keyword =>\r\n          doc.type.includes(keyword) ||\r\n          doc.name.toLowerCase().includes(keyword) ||\r\n          doc.displayName.toLowerCase().includes(keyword)\r\n        )\r\n      );\r\n    \r\n      if (applicationDocs.length > 0) {\r\n        filteredDates.push({\r\n          ...dateInfo,\r\n          documentCount: applicationDocs.length\r\n        });\r\n      }\r\n    }\r\n    return filteredDates;\r\n  } catch (error) {\r\n    console.error('Error loading document dates:', error);\r\n    throw new Error('Failed to load document dates');\r\n  }\r\n};\r\n\r\nexport const loadSignedDocumentDates = async (cid) => {\r\n  try {\r\n    const dates = await clientAPI.getDocumentDates(cid);\r\n    const datesWithSignedDocs = [];\r\n    \r\n    for (const dateInfo of dates) {\r\n      const documents = await clientAPI.getDocumentsByDate(cid, dateInfo.date);\r\n      const signedDocs = documents.filter(doc => {\r\n        const name = (doc.name || '').toLowerCase();\r\n        const displayName = (doc.displayName || '').toLowerCase();\r\n        const type = (doc.type || '').toLowerCase();\r\n        \r\n        const isPDF = type.includes('pdf') ||\r\n          name.endsWith('.pdf') ||\r\n          displayName.endsWith('.pdf');\r\n          \r\n        const isPromissoryNote = name.includes('signed-promissory-note') ||\r\n          displayName.includes('signed-promissory note');\r\n        \r\n        return isPDF || isPromissoryNote;\r\n      });\r\n      \r\n      if (signedDocs.length > 0) {\r\n        datesWithSignedDocs.push({\r\n          ...dateInfo,\r\n          documentCount: signedDocs.length\r\n        });\r\n      }\r\n    }\r\n    return datesWithSignedDocs;\r\n  } catch (error) {\r\n    console.error('Error loading signed document dates:', error);\r\n    throw new Error('Failed to load signed document dates');\r\n  }\r\n};\r\n\r\nexport const getApplicationDocuments = async (cid, selectedDate) => {\r\n  try {\r\n    const documents = await clientAPI.getDocumentsByDate(cid, selectedDate);\r\n    return documents.filter(doc =>\r\n      !['pdf', 'signed-promissory-note'].some(keyword =>\r\n        doc.type.includes(keyword) ||\r\n        doc.name.toLowerCase().includes(keyword) ||\r\n        doc.displayName.toLowerCase().includes(keyword)\r\n      )\r\n    );\r\n  } catch (error) {\r\n    console.error('Error loading documents:', error);\r\n    throw new Error('Failed to load application documents');\r\n  }\r\n};\r\n\r\nexport const getSignedDocuments = async (cid, selectedDate) => {\r\n  try {\r\n    const documents = await clientAPI.getDocumentsByDate(cid, selectedDate);\r\n    return documents.filter(doc => {\r\n      const name = (doc.name || '').toLowerCase();\r\n      const displayName = (doc.displayName || '').toLowerCase();\r\n      const type = (doc.type || '').toLowerCase();\r\n      \r\n      const isPDF = type.includes('pdf') ||\r\n        name.endsWith('.pdf') ||\r\n        displayName.endsWith('.pdf');\r\n        \r\n      const isPromissoryNote = name.includes('signed-promissory-note') ||\r\n        displayName.includes('signed-promissory note');\r\n      \r\n      return isPDF || isPromissoryNote;\r\n    });\r\n  } catch (error) {\r\n    console.error('Error loading signed documents:', error);\r\n    throw new Error('Failed to load signed documents');\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, ScrollView, ActivityIndicator, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { DOCUMENT_CATEGORIES } from '../../services/api';\r\nimport { sharedStyles } from '../../styles/shared';\r\nimport { formatDateForDisplay } from '../../utils/dateFormatters';\r\nimport { loadApplicationDocumentDates, loadSignedDocumentDates, getApplicationDocuments, getSignedDocuments } from '../../utils/documentHandlers';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  documents: {\r\n    applicationDocs: DOCUMENT_CATEGORIES.APPLICATION_DOCS,\r\n    signedDocuments: []\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A'\r\n};\r\n\r\nexport default function ClientProfile({ \r\n  navigation, \r\n  route,\r\n  userRole = 'loanofficer' \r\n}) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const [client, setClient] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDateModal, setShowDateModal] = useState(false);\r\n  const [documentDates, setDocumentDates] = useState([]);\r\n  const [loadingDates, setLoadingDates] = useState(false);\r\n  const [modalType, setModalType] = useState('application');\r\n  const { refreshClientData } = useLoan();\r\n  const cid = route.params?.client?.cid;\r\n\r\n  useEffect(() => {\r\n    if (cid) {\r\n      loadClientData();\r\n    }\r\n  }, [cid]);\r\n\r\n  const loadClientData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const clientData = await refreshClientData(cid);\r\n      \r\n      const documents = {\r\n        applicationDocs: clientData.documents?.applicationDocs || defaultClient.documents.applicationDocs,\r\n        signedDocuments: clientData.documents?.signedDocuments || []\r\n      };\r\n\r\n      setClient({\r\n        ...defaultClient,\r\n        ...clientData,\r\n        documents\r\n      });\r\n    } catch (err) {\r\n      console.error('Error loading client:', err);\r\n      setError('Failed to load client data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLoadDocumentDates = async (type) => {\r\n    try {\r\n      setLoadingDates(true);\r\n      setModalType(type);\r\n      const dates = type === 'application' \r\n        ? await loadApplicationDocumentDates(cid)\r\n        : await loadSignedDocumentDates(cid);\r\n      setDocumentDates(dates);\r\n      setShowDateModal(true);\r\n    } catch (error) {\r\n      alert(`Error loading ${type} document dates. Please try again.`);\r\n    } finally {\r\n      setLoadingDates(false);\r\n    }\r\n  };\r\n\r\n  const handleDateSelection = async (selectedDate) => {\r\n    try {\r\n      setShowDateModal(false);\r\n      const documents = modalType === 'application'\r\n        ? await getApplicationDocuments(client.cid, selectedDate)\r\n        : await getSignedDocuments(client.cid, selectedDate);\r\n\r\n      if (documents.length > 0) {\r\n        navigation.navigate('DocumentPreview', {\r\n          cid: client.cid,\r\n          title: `${modalType === 'application' ? 'Application' : 'Signed'} Documents - ${formatDateForDisplay(selectedDate)}`,\r\n          documents,\r\n          latestDate: selectedDate\r\n        });\r\n      } else {\r\n        alert(`No ${modalType} documents found for the selected date`);\r\n      }\r\n    } catch (error) {\r\n      alert(`Error loading ${modalType} documents. Please try again.`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={sharedStyles.loadingText}>Loading client data...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryBtn} onPress={loadClientData}>\r\n          <Text style={styles.retryText}>Retry</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={[sharedStyles.container, sharedStyles.centerContent]}>\r\n        <Text style={sharedStyles.errorText}>Client not found</Text>\r\n        <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n          <Text style={styles.backBtnText}>← Back to List</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ScrollView style={styles.scrollView} contentContainerStyle={[sharedStyles.container, !isMobile && sharedStyles.containerDesktop]}>\r\n      <View style={[sharedStyles.content, isMobile && sharedStyles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[sharedStyles.section, isMobile && sharedStyles.sectionMobile]}>\r\n          <Text style={styles.sectionTitle}>Client Profile</Text>\r\n          <Text style={styles.subTitle}>Personal Details</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: 16 }]}>Uploaded Documents</Text>\r\n          \r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={() => handleLoadDocumentDates('application')}\r\n              disabled={loadingDates}\r\n            >\r\n              <Text style={styles.previewText}>\r\n                {loadingDates ? 'Loading...' : 'View'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={() => handleLoadDocumentDates('signed')}\r\n              disabled={loadingDates}\r\n            >\r\n              <Text style={styles.previewText}>\r\n                {loadingDates ? 'Loading...' : 'View'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[sharedStyles.section, isMobile && sharedStyles.sectionMobile]}>\r\n          <View style={styles.financialContainer}>\r\n            <Text style={styles.sectionTitle}>Financial Record</Text>\r\n            <View style={styles.financialDetails}>\r\n              <Text style={styles.financialItem}>Monthly Income ₱{client.financial.monthlyIncome.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Monthly Expenses ₱{client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Saving and Assets ₱{client.financial.assets.toLocaleString()}</Text>\r\n              <Text style={styles.financialItem}>Debt to Income Ratio {client.financial.dti}%</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={styles.employmentContainer}>\r\n            <Text style={[styles.sectionTitle, { marginTop: 16 }]}>Employment or Business info</Text>\r\n            <View style={styles.employmentDetails}>\r\n              <Text style={styles.employmentItem}>{client.employer}</Text>\r\n              <Text style={styles.employmentItem}>{client.position}</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={styles.loanHistoryContainer}>\r\n            <Text style={[styles.sectionTitle, { marginTop: 16 }]}>Loan History</Text>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => navigation.navigate('LoanHistory', {\r\n                clientId: client.cid,\r\n                userRole\r\n              })}\r\n            >\r\n              <Text style={styles.viewBtnText}>View History</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.actionRow}>\r\n            <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n              <Text style={styles.backBtnText}>← Back to List</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.refreshBtn} onPress={loadClientData}>\r\n              <Text style={styles.actionBtnText}>↻ Refresh</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Date Selection Modal */}\r\n      <Modal\r\n        visible={showDateModal}\r\n        transparent={true}\r\n        animationType=\"fade\"\r\n        onRequestClose={() => setShowDateModal(false)}\r\n      >\r\n        <View style={sharedStyles.modal.overlay}>\r\n          <View style={[sharedStyles.modal.content, isMobile && sharedStyles.modal.contentMobile]}>\r\n            <Text style={sharedStyles.modal.title}>\r\n              Select {modalType === 'application' ? 'Application' : 'Signed'} Document Date\r\n            </Text>\r\n            \r\n            {documentDates.length > 0 ? (\r\n              documentDates.map((dateInfo, index) => (\r\n                <TouchableOpacity\r\n                  key={index}\r\n                  style={styles.dateButton}\r\n                  onPress={() => handleDateSelection(dateInfo.date)}\r\n                >\r\n                  <Text style={styles.dateButtonText}>\r\n                    📅 {formatDateForDisplay(dateInfo.date)}\r\n                  </Text>\r\n                  <Text style={styles.documentCountText}>\r\n                    ({dateInfo.documentCount} documents)\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            ) : (\r\n              <Text style={styles.noDataText}>No document dates found</Text>\r\n            )}\r\n            \r\n            <TouchableOpacity\r\n              style={styles.closeButton}\r\n              onPress={() => setShowDateModal(false)}\r\n            >\r\n              <Text style={styles.closeButtonText}>Cancel</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    marginBottom: 10,\r\n    color: '#333',\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginTop: 10,\r\n    marginBottom: 6,\r\n    color: '#444',\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n    marginTop: 8,\r\n    gap: 8,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: Platform.select({ web: 16, default: 12 }),\r\n    marginVertical: 8,\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  financialContainer: {\r\n    marginBottom: 16,\r\n  },\r\n  financialDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    gap: 8,\r\n  },\r\n  financialItem: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    paddingVertical: 2,\r\n  },\r\n  employmentContainer: {\r\n    marginBottom: 16,\r\n  },\r\n  employmentDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    gap: 6,\r\n    marginTop: 8,\r\n  },\r\n  employmentItem: {\r\n    fontSize: Platform.select({ web: 15, default: 14 }),\r\n    color: '#333',\r\n    paddingVertical: 2,\r\n  },\r\n  loanHistoryContainer: {\r\n    marginBottom: 20,\r\n  },\r\n  viewBtn: {\r\n    ...sharedStyles.button.primaryButton,\r\n    marginTop: 8,\r\n  },\r\n  viewBtnText: {\r\n    ...sharedStyles.button.buttonText,\r\n  },\r\n  actionRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 20,\r\n    gap: 10,\r\n    flexWrap: 'wrap',\r\n  },\r\n  backBtn: {\r\n    ...sharedStyles.button.secondaryButton,\r\n    flex: 1,\r\n    maxWidth: Platform.select({ web: 'auto', default: '48%' }),\r\n    alignItems: 'center',\r\n  },\r\n  refreshBtn: {\r\n    backgroundColor: '#28a745',\r\n    paddingVertical: Platform.select({ web: 10, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 16 }),\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    maxWidth: Platform.select({ web: 'auto', default: '48%' }),\r\n    alignItems: 'center',\r\n  },\r\n  backBtnText: {\r\n    ...sharedStyles.button.buttonTextSecondary,\r\n  },\r\n  actionBtnText: {\r\n    ...sharedStyles.button.buttonText,\r\n  },\r\n  dateButton: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 15, default: 12 }),\r\n    borderRadius: 8,\r\n    marginBottom: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  dateButtonText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  documentCountText: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n    fontStyle: 'italic',\r\n  },\r\n  noDataText: {\r\n    textAlign: 'center',\r\n    color: '#666',\r\n    fontSize: 16,\r\n    marginVertical: 20,\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    fontWeight: '500',\r\n  },\r\n  closeButton: {\r\n    backgroundColor: '#dc3545',\r\n    padding: Platform.select({ web: 12, default: 10 }),\r\n    borderRadius: 8,\r\n    marginTop: 15,\r\n  },\r\n  closeButtonText: {\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  }\r\n});","import React from 'react';\r\nimport ClientProfile from '../../components/clients/ClientProfile';\r\n\r\nexport default function ClientProfileScreen({ navigation, route }) {\r\n  return (\r\n    <ClientProfile\r\n      navigation={navigation}\r\n      route={route}\r\n      userRole=\"loanofficer\"\r\n    />\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, Pressable, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nconst statuses = ['Pending', 'Approved', 'Declined'];\r\nconst BREAKPOINT_MOBILE = 600;\r\nconst BREAKPOINT_TABLET = 1024;\r\n\r\nexport default function TotalLoanListScreen({ navigation, route }) {\r\n  const [search, setSearch] = useState('');\r\n  const [filter, setFilter] = useState('Pending');\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const { loans, refreshClientData, notifications } = useLoan();\r\n\r\n  const refreshAllLoans = async () => {\r\n    setIsRefreshing(true);\r\n    try {\r\n      await Promise.all(loans.map(loan => refreshClientData(loan.cid)));\r\n    } catch (err) {\r\n      console.error('Error refreshing loans:', err);\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n  \r\n  // Refresh loans list when screen comes into focus\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', refreshAllLoans);\r\n    return unsubscribe;\r\n  }, [navigation, loans]);\r\n\r\n  // Initial data load\r\n  useEffect(() => {\r\n    refreshAllLoans();\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const months = [\r\n      'January', 'February', 'March', 'April', 'May', 'June',\r\n      'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n    return `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\r\n  };\r\n\r\n  const getLatestLoanRequest = (item) => {\r\n    // Find most recent notification for this client's loan from ops manager\r\n    const clientNotifications = notifications\r\n      .filter(n => n.cid === item.cid &&\r\n                  (n.type === 'status_change' || n.type === 'amount_change'))\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n\r\n    // If we have a notification from ops manager, use that\r\n    if (clientNotifications.length > 0) {\r\n      const latestNotification = clientNotifications[0];\r\n      const formattedDate = formatDate(latestNotification.timestamp);\r\n      return `${formattedDate} (${latestNotification.status || 'Amount updated'} by Ops Manager)`;\r\n    }\r\n    \r\n    // Fall back to loan history if no ops manager notifications\r\n    if (item.loans?.loanHistory && item.loans.loanHistory.length > 0) {\r\n      const sortedHistory = [...item.loans.loanHistory].sort((a, b) =>\r\n        new Date(b.dateUpdated || b.dateApplied) - new Date(a.dateUpdated || a.dateApplied)\r\n      );\r\n      \r\n      const latest = sortedHistory[0];\r\n      const date = latest.dateUpdated || latest.dateApplied;\r\n      const formattedDate = formatDate(date);\r\n      const action = latest.status ? ` (${latest.status})` : '';\r\n      return `${formattedDate}${action}`;\r\n    }\r\n    \r\n    return 'No date';\r\n  };\r\n\r\n  const filteredLoans = loans.filter((loan) => {\r\n    const matchesSearch =\r\n      loan.name.toLowerCase().includes(search.toLowerCase()) ||\r\n      loan.cid.includes(search);\r\n\r\n    const currentStatus = loan.status ? loan.status.toLowerCase() : 'pending';\r\n    const currentFilter = filter.toLowerCase();\r\n\r\n    const matchesFilter =\r\n      (currentFilter === 'pending' && (!loan.status || currentStatus === 'pending')) ||\r\n      (currentStatus === currentFilter);\r\n\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < BREAKPOINT_MOBILE;\r\n  const isTablet = width >= BREAKPOINT_MOBILE && width < BREAKPOINT_TABLET;\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[\r\n        styles.row,\r\n        isMobile && styles.rowMobile,\r\n        isTablet && styles.rowTablet\r\n      ]}\r\n      onPress={() => isMobile && navigation.navigate('PendingLoanDetail', {\r\n        client: item,\r\n        backScreen: 'TotalLoanList'\r\n      })}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n          <View style={styles.mobileStatusRow}>\r\n            <Text style={[\r\n              styles.mobileStatus,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]}>\r\n              Status: {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n            </Text>\r\n            <Text style={styles.mobileDate}>Latest Updated: {getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n        </View>\r\n      ) : (\r\n        // Desktop/Tablet layout\r\n        <>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.cidCell]}>\r\n            <Text style={styles.cell} numberOfLines={1}>{item.cid}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 3 }, styles.nameCell]}>\r\n            <Text style={styles.cell} numberOfLines={1}>{item.name}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.statusCell]}>\r\n            <Text style={[\r\n              styles.cell,\r\n              styles.centerText,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]} numberOfLines={1}>\r\n              {item.status ?\r\n                item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase()\r\n                : 'Pending'}\r\n            </Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.updateCell]}>\r\n            <Text style={[styles.cell, isTablet && styles.tabletUpdateText]}>{getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n          <View style={[styles.cellContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.actionCell]}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => navigation.navigate('PendingLoanDetail', {\r\n                client: item,\r\n                backScreen: 'TotalLoanList'\r\n              })}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>Total Loan List</Text>\r\n        <TouchableOpacity\r\n          style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n          onPress={() => navigation.navigate('LoanOfficerDashboard')}\r\n        >\r\n          <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>Go to Dashboard</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Search + Filter */}\r\n      <View style={[styles.searchFilterRow, isMobile && styles.searchFilterRowMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search by name or CID\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n\r\n        <View style={[styles.filter, isMobile && styles.filterMobile]}>\r\n          <Text style={[styles.filterLabel, isMobile && styles.filterLabelMobile]}>Filter:</Text>\r\n          {statuses.map((status) => (\r\n            <Pressable\r\n              key={status}\r\n              style={[\r\n                styles.filterOption,\r\n                filter === status && styles.activeFilter,\r\n                isMobile && styles.filterOptionMobile\r\n              ]}\r\n              onPress={() => setFilter(status)}\r\n            >\r\n              <Text style={[\r\n                styles.filterText,\r\n                filter === status && styles.activeFilterText,\r\n                isMobile && styles.filterTextMobile\r\n              ]}>{status}</Text>\r\n            </Pressable>\r\n          ))}\r\n        </View>\r\n      </View>\r\n\r\n      {/* Table Headers - Only show on desktop/tablet */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.cidCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>CID</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 3 }, styles.nameCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>Full Name</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.statusCell]}>\r\n            <Text style={[styles.headerCell, styles.centerText, isTablet && styles.tabletHeaderText]}>Loan Status</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 2 }, styles.updateCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}>Latest Update</Text>\r\n          </View>\r\n          <View style={[styles.headerContainer, isTablet ? styles.tabletCell : { flex: 1 }, styles.actionCell]}>\r\n            <Text style={[styles.headerCell, isTablet && styles.tabletHeaderText]}></Text>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      {/* List */}\r\n      {isRefreshing && (\r\n        <View style={styles.refreshingIndicator}>\r\n          <Text style={styles.refreshingText}>Refreshing loan data...</Text>\r\n        </View>\r\n      )}\r\n      <FlatList\r\n        data={filteredLoans}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Tablet specific styles\r\n  rowTablet: {\r\n    paddingVertical: 16,\r\n  },\r\n  tabletCell: {\r\n    paddingHorizontal: 8,\r\n  },\r\n  tabletUpdateText: {\r\n    fontSize: 13,\r\n    lineHeight: 18,\r\n    flexWrap: 'wrap',\r\n    textAlign: 'left',\r\n    paddingRight: 4,\r\n    width: '100%',\r\n  },\r\n  // Cell width styles\r\n  cidCell: {\r\n    width: '15%',\r\n  },\r\n  nameCell: {\r\n    width: '25%',\r\n  },\r\n  statusCell: {\r\n    width: '15%',\r\n  },\r\n  updateCell: {\r\n    width: '35%',\r\n    paddingRight: 12,\r\n  },\r\n  actionCell: {\r\n    width: '10%',\r\n    alignItems: 'center',\r\n  },\r\n  // Mobile specific styles\r\n  headerMobile: {\r\n    flexDirection: 'column',\r\n    gap: 12,\r\n    alignItems: 'flex-start',\r\n    marginBottom: 16,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  searchFilterRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 12,\r\n  },\r\n  searchInputMobile: {\r\n    minWidth: '100%',\r\n    padding: 8,\r\n    fontSize: 14,\r\n  },\r\n  filterMobile: {\r\n    flexWrap: 'wrap',\r\n    gap: 8,\r\n  },\r\n  filterLabelMobile: {\r\n    fontSize: 14,\r\n  },\r\n  filterOptionMobile: {\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 8,\r\n  },\r\n  filterTextMobile: {\r\n    fontSize: 12,\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n    marginBottom: 8,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n    marginBottom: 6,\r\n  },\r\n  mobileStatusRow: {\r\n    flexDirection: 'column',\r\n    gap: 8,\r\n  },\r\n  mobileStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  mobileDate: {\r\n    fontSize: 12,\r\n    color: '#6c757d',\r\n    flexWrap: 'wrap',\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  cellContainer: {\r\n    paddingHorizontal: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  headerContainer: {\r\n    paddingHorizontal: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  centerText: {\r\n    textAlign: 'center',\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  approvedStatus: {\r\n    color: '#2ecc71', // Green color for approved\r\n    fontWeight: 'bold'\r\n  },\r\n  pendingStatus: {\r\n    color: '#000000', // Black color for pending\r\n    fontWeight: 'bold'\r\n  },\r\n  declinedStatus: {\r\n    color: '#e74c3c', // Red color for declined\r\n    fontWeight: 'bold'\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007AFF',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n  },\r\n  searchFilterRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 10,\r\n    marginBottom: 10,\r\n    flexWrap: 'wrap',\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 10,\r\n    flex: 1,\r\n    minWidth: 150,\r\n  },\r\n  filter: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 6,\r\n  },\r\n  filterLabel: {\r\n    fontWeight: '600',\r\n  },\r\n  filterOption: {\r\n    backgroundColor: '#eee',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 6,\r\n  },\r\n  activeFilter: {\r\n    backgroundColor: '#007AFF',\r\n  },\r\n  filterText: {\r\n    color: '#000',\r\n  },\r\n  activeFilterText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n  refreshingIndicator: {\r\n    padding: 10,\r\n    backgroundColor: '#e8f5e9',\r\n    marginBottom: 10,\r\n  },\r\n  refreshingText: {\r\n    color: '#2ecc71',\r\n    textAlign: 'center',\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#dcdcdc',\r\n    paddingVertical: 10,\r\n    marginBottom: 4,\r\n    alignItems: 'center',\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 15,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderColor: '#ccc',\r\n    alignItems: 'center',\r\n    minHeight: 50,\r\n  },\r\n  cell: {\r\n    fontSize: 14,\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#ccc',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n});","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { clientAPI, API_BASE_URL } from '../../services/api';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  input: {\r\n    paymentHistory: 0,\r\n    creditUtilization: 0,\r\n    creditHistoryLength: 0,\r\n    creditMix: 0,\r\n    newInquiries: 0\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A',\r\n  loans: {\r\n    approved: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    pending: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    loanHistory: []\r\n  },\r\n  loanBalance: {\r\n    amount: 0,\r\n    dueDate: 'N/A'\r\n  }\r\n};\r\n\r\nexport default function PendingLoanDetailScreen({ navigation, route }) {\r\n  const [client, setClient] = useState(null);\r\n  const [loanData, setLoanData] = useState(null);\r\n  const [showDocumentModal, setShowDocumentModal] = useState(false);\r\n  const [selectedDocumentType, setSelectedDocumentType] = useState(null);\r\n  const { loans, refreshClientData } = useLoan();\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const fetchLoanData = async (cid) => {\r\n    try {\r\n      // First check if API is accessible\r\n      try {\r\n        const healthCheck = await fetch('http://localhost:5600/clients');\r\n        if (!healthCheck.ok) {\r\n          throw new Error('API server is not responding properly');\r\n        }\r\n      } catch (err) {\r\n        throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n      }\r\n\r\n      // Use clientAPI to fetch loan data\r\n      const data = await clientAPI.fetchClientLoanData(cid);\r\n      setLoanData(data);\r\n    } catch (err) {\r\n      console.error('Error fetching loan data:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (route.params?.client) {\r\n      const initialClient = {\r\n        ...defaultClient,\r\n        ...route.params.client\r\n      };\r\n      setClient(initialClient);\r\n      if (initialClient.cid) {\r\n        fetchLoanData(initialClient.cid);\r\n        refreshClientData(initialClient.cid); // Refresh to get latest data\r\n      }\r\n    }\r\n  }, [route.params?.client]);\r\n\r\n  // Refresh when screen comes into focus\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      if (client?.cid) {\r\n        fetchLoanData(client.cid);\r\n        refreshClientData(client.cid);\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation, client]);\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text>Loading...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const calculateScore = () => {\r\n    const weights = {\r\n      paymentHistory: 0.35,\r\n      creditUtilization: 0.30,\r\n      creditHistoryLength: 0.15,\r\n      creditMix: 0.10,\r\n      newInquiries: 0.10,\r\n    };\r\n\r\n    const input = client.input;\r\n    \r\n    // Normalize inputs to 0-1 scale\r\n    const normalized = {\r\n      paymentHistory: input.paymentHistory / 100,\r\n      creditUtilization: 1 - (input.creditUtilization / 100),\r\n      creditHistoryLength: Math.min(input.creditHistoryLength / 60, 1),\r\n      creditMix: input.creditMix / 100,\r\n      newInquiries: 1 - (input.newInquiries / 100),\r\n    };\r\n\r\n    const weightedSum =\r\n      weights.paymentHistory * normalized.paymentHistory +\r\n      weights.creditUtilization * normalized.creditUtilization +\r\n      weights.creditHistoryLength * normalized.creditHistoryLength +\r\n      weights.creditMix * normalized.creditMix +\r\n      weights.newInquiries * normalized.newInquiries;\r\n\r\n    // Scale to 300-850 range\r\n    return Math.round(300 + weightedSum * 550);\r\n  };\r\n\r\n  const getRiskCategory = (score) => {\r\n    if (score >= 800) return 'Exceptional';\r\n    if (score >= 740) return 'Very Good';\r\n    if (score >= 670) return 'Good';\r\n    if (score >= 580) return 'Fair';\r\n    return 'Poor';\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\r\n      {/* Topbar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <Text style={[styles.logo, isMobile && styles.logoMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>Loan Officer</Text>\r\n      </View>\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[styles.left, isMobile && styles.leftMobile, isMobile && { marginBottom: '20%' }]}>\r\n          <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Client Profile</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Personal Details</Text>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 12, marginBottom: isMobile ? 4 : 6 }]}>\r\n            Uploaded Documents\r\n          </Text>\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  if (!client.cid) {\r\n                    console.error('No client CID available');\r\n                    alert('Error: Client ID not found');\r\n                    return;\r\n                  }\r\n\r\n                  // Get all document dates and find the latest one with application documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestApplicationDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has application documents (non-PDF files)\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const applicationDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return !name.endsWith('.pdf'); // Non-PDF files are application documents\r\n                    });\r\n\r\n                    if (applicationDocs.length > 0) {\r\n                      latestApplicationDocs = applicationDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestApplicationDocs.length > 0) {\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Application Documents',\r\n                      documents: latestApplicationDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No application documents found');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  // Get all document dates and find the latest one with signed documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestSignedDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has signed documents\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const signedDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return name.endsWith('.pdf');\r\n                    });\r\n\r\n                    if (signedDocs.length > 0) {\r\n                      latestSignedDocs = signedDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestSignedDocs.length > 0) {\r\n                    // Map documents with proper display names\r\n                    const mappedDocs = latestSignedDocs.map(doc => ({\r\n                      ...doc,\r\n                      displayName: doc.name.includes('promissory-note') ? 'Promissory Note' : 'Signed Agreement'\r\n                    }));\r\n\r\n                    // Navigate to DocumentPreview screen\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Signed Documents',\r\n                      documents: mappedDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No signed documents found. Documents will be available after loan approval.');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[styles.right, isMobile && styles.rightMobile, isMobile && { marginTop: '-370px' }]}>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Financial Record</Text>\r\n            <Text>Monthly Income: ₱{client.financial.monthlyIncome.toLocaleString()}</Text>\r\n            <Text>Monthly Expenses: ₱{client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n            <Text>Saving and Assets: ₱{client.financial.assets.toLocaleString()}</Text>\r\n            <Text>Debt to Income Ratio: {client.financial.dti}%</Text>\r\n          </View>\r\n\r\n          <View style={[styles.detailsContainer, { marginTop: 16 }]}>\r\n            <Text style={styles.subTitle}>Employment or Business info</Text>\r\n            <Text>{client.employer}</Text>\r\n            <Text>{client.position}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 16, marginBottom: isMobile ? 4 : 6 }]}>\r\n            Loan History\r\n          </Text>\r\n          <TouchableOpacity\r\n            style={[styles.viewBtn, isMobile && styles.viewBtnMobile]}\r\n            onPress={() => navigation.navigate('LoanHistory', {\r\n              clientId: client.cid,\r\n              userRole: 'loanofficer',\r\n              fromPendingDetail: true\r\n            })}\r\n          >\r\n            <Text style={{color: '#fff', fontWeight: '600', fontSize: 16}}>View History</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={[styles.loanDetails, isMobile && styles.loanDetailsMobile]}>\r\n            <Text style={styles.subTitle}>Approved by Loan Officer</Text>\r\n            <Text>₱{loanData?.approvedAmount || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Recommended Loan Amount</Text>\r\n            <Text>₱{loanData?.recommendedAmount || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Purpose of Loan</Text>\r\n            <Text>{loanData?.purpose || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Description of Purpose</Text>\r\n            <Text>{loanData?.description || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Loan Term (in months)</Text>\r\n            <Text>{loanData?.term || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Repayment Method</Text>\r\n            <Text>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Interest Rate</Text>\r\n            <Text>{loanData?.interestRate || '5.0'}%</Text>\r\n\r\n            <Text style={styles.subTitle}>Amount Due</Text>\r\n            <Text>₱{loanData?.amountDue || '0'}</Text>\r\n          </View>\r\n\r\n          <View style={[styles.creditBox, isMobile && styles.creditBoxMobile]}>\r\n            <Text style={[styles.subTitle, { marginBottom: 4 }]}>Credit Score</Text>\r\n            <Text style={styles.creditScore}>{loanData?.creditScore || calculateScore()}</Text>\r\n            \r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Risk Category</Text>\r\n            <Text style={{\r\n              color: ['Exceptional', 'Very Good', 'Good'].includes(\r\n                loanData?.riskCategory || getRiskCategory(calculateScore())\r\n              ) ? '#2ecc71' : '#e74c3c'\r\n            }}>\r\n              {loanData?.riskCategory || getRiskCategory(calculateScore())}\r\n            </Text>\r\n            \r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Recommendation</Text>\r\n            <Text style={{\r\n              color: loanData?.recommendation === 'APPROVE' ? '#2ecc71' : '#e74c3c'\r\n            }}>\r\n              {loanData?.recommendation || (calculateScore() >= 670 ? 'Approved' : 'Not Approved')}\r\n            </Text>\r\n          </View>\r\n\r\n          <TouchableOpacity style={styles.backBtn} onPress={() => navigation.goBack()}>\r\n            <Text style={styles.backText}>Back</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { \r\n    backgroundColor: '#f6f6f6', \r\n    flex: 1 \r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#ddd',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    padding: 12,\r\n  },\r\n  logo: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold'\r\n  },\r\n  logoMobile: {\r\n    fontSize: 18,\r\n  },\r\n  role: {\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    flexWrap: Platform.select({ web: 'nowrap', default: 'wrap' })\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n    padding: 12,\r\n    gap: 0,\r\n    position: 'relative',\r\n  },\r\n  left: {\r\n    flex: Platform.select({ web: 1.1, default: 1 }),\r\n    paddingRight: Platform.select({ web: 20, default: 0 }),\r\n    borderRightWidth: Platform.select({ web: 1, default: 0 }),\r\n    borderColor: '#ccc',\r\n    minWidth: Platform.select({ web: 300, default: '100%' }),\r\n    marginBottom: Platform.select({ web: 0, default: 0 })\r\n  },\r\n  leftMobile: {\r\n    width: '100%',\r\n    paddingRight: 0,\r\n    borderRightWidth: 0,\r\n    marginBottom: '25%',\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  right: {\r\n    flex: Platform.select({ web: 1.3, default: 1 }),\r\n    paddingLeft: Platform.select({ web: 20, default: 0 }),\r\n    minWidth: Platform.select({ web: 300, default: '100%' })\r\n  },\r\n  rightMobile: {\r\n    width: '100%',\r\n    paddingLeft: 0,\r\n    marginTop: '-40%',\r\n    position: 'relative',\r\n    zIndex: 0,\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    marginBottom: 16,\r\n    width: '100%',\r\n    alignSelf: 'stretch',\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  sectionTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    marginTop: 10,\r\n    marginBottom: 4,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 16,\r\n    marginBottom: 10,\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: 15,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 4,\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 32,\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    minWidth: 120,\r\n    justifyContent: 'center',\r\n  },\r\n  viewBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 14,\r\n    minHeight: 48,\r\n  },\r\n  loanDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  loanDetailsMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditBox: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  creditBoxMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditScore: {\r\n    fontSize: 32,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 8,\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#ddd',\r\n    paddingVertical: Platform.select({ web: 10, default: 12 }),\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 6,\r\n    marginTop: 20,\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  backText: {\r\n    fontSize: 16,\r\n    color: '#333',\r\n  },\r\n});\r\n","import React, { useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, ScrollView, useWindowDimensions } from 'react-native';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\n\r\nexport default function UserManagementScreen({ navigation }) {\r\n  const { users, loading, updateUser, refreshUsers } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  // Map role types to display names\r\n  const getRoleDisplayName = (user) => {\r\n    if (user.roleType) {\r\n      switch (user.roleType) {\r\n        case 'LOAN_OFFICER': return 'Loan Officer';\r\n        case 'OPS_MANAGER': return 'Operations Manager';\r\n        case 'IT_ADMIN': return 'IT Administrator';\r\n        default: return user.role || 'Unknown';\r\n      }\r\n    }\r\n    return user.role || 'Unknown';\r\n  };\r\n\r\n  const renderMobileUserCard = (user) => (\r\n    <View key={user.id} style={styles.mobileCard}>\r\n      <View style={styles.mobileCardHeader}>\r\n        <Text style={styles.mobileCardName}>{user.fullName}</Text>\r\n        <Text style={[\r\n          styles.mobileCardStatus,\r\n          user.status === 'Active' ? styles.activeStatus : styles.disabledStatus\r\n        ]}>\r\n          {user.status}\r\n        </Text>\r\n      </View>\r\n      <View style={styles.mobileCardContent}>\r\n        <Text style={styles.mobileCardLabel}>Username: <Text style={styles.mobileCardValue}>{user.username}</Text></Text>\r\n        <Text style={styles.mobileCardLabel}>Role: <Text style={styles.mobileCardValue}>{getRoleDisplayName(user)}</Text></Text>\r\n      </View>\r\n      <View style={styles.mobileCardActions}>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            try {\r\n              const newStatus = user.status === 'Active' ? 'Disabled' : 'Active';\r\n              updateUser({\r\n                id: user.id,\r\n                status: newStatus\r\n              });\r\n            } catch (error) {\r\n              alert(`Error updating user: ${error.message}`);\r\n            }\r\n          }}\r\n          style={[styles.mobileActionButton,\r\n            user.status === 'Active' ? styles.disableButtonMobile : styles.enableButtonMobile\r\n          ]}\r\n        >\r\n          <Text style={styles.mobileActionButtonText}>\r\n            {user.status === 'Active' ? 'Disable' : 'Enable'}\r\n          </Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          onPress={() => {\r\n            const userCopy = JSON.parse(JSON.stringify(user));\r\n            navigation.navigate('AddEditUser', { user: userCopy });\r\n          }}\r\n          style={[styles.mobileActionButton, styles.editButtonMobile]}\r\n        >\r\n          <Text style={styles.mobileActionButtonText}>Edit</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Top bar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n          <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n          </Text>\r\n          {!isMobile && <Text style={styles.title}>User Management</Text>}\r\n        </View>\r\n        <View style={styles.rightSection}>\r\n          <TouchableOpacity onPress={() => navigation.navigate('Dashboard')}>\r\n            <Text style={[styles.backButton, isMobile && styles.backButtonMobile]}>\r\n              {isMobile ? 'Back' : 'Back to Dashboard'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Content */}\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n          <Text style={[styles.pageTitle, isMobile && styles.pageTitleMobile]}>\r\n            {isMobile ? 'Users' : 'Users List'}\r\n          </Text>\r\n          <TouchableOpacity\r\n            style={[styles.addButton, isMobile && styles.addButtonMobile]}\r\n            onPress={() => navigation.navigate('AddEditUser')}\r\n          >\r\n            <Text style={[styles.addButtonText, isMobile && styles.addButtonTextMobile]}>\r\n              {isMobile ? 'Add' : 'Add User'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <ScrollView style={styles.table}>\r\n          {isMobile ? (\r\n            // Mobile Card Layout\r\n            <View style={styles.mobileContainer}>\r\n              {users.map(renderMobileUserCard)}\r\n            </View>\r\n          ) : (\r\n            // Desktop Table Layout\r\n            <>\r\n              {/* Table Headers */}\r\n              <View style={styles.tableHeader}>\r\n                <Text style={[styles.headerCell, { flex: 2 }]}>Name</Text>\r\n                <Text style={[styles.headerCell, { flex: 1.5 }]}>Username</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Role</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Status</Text>\r\n                <Text style={[styles.headerCell, { flex: 1 }]}>Action</Text>\r\n              </View>\r\n\r\n              {/* Table Rows */}\r\n              {users.map((user) => (\r\n                <View key={user.id} style={styles.tableRow}>\r\n                  <Text style={[styles.cell, { flex: 2 }]}>{user.fullName}</Text>\r\n                  <Text style={[styles.cell, { flex: 1.5 }]}>{user.username}</Text>\r\n                  <Text style={[styles.cell, { flex: 1 }]}>{getRoleDisplayName(user)}</Text>\r\n                  <Text\r\n                    style={[\r\n                      styles.cell,\r\n                      { flex: 1 },\r\n                      user.status === 'Active' ? styles.activeStatus : styles.disabledStatus\r\n                    ]}\r\n                  >\r\n                    {user.status}\r\n                  </Text>\r\n                  <View style={[styles.cell, { flex: 1, flexDirection: 'row', gap: 15 }]}>\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        try {\r\n                          const newStatus = user.status === 'Active' ? 'Disabled' : 'Active';\r\n                          updateUser({\r\n                            id: user.id,\r\n                            status: newStatus\r\n                          });\r\n                        } catch (error) {\r\n                          alert(`Error updating user: ${error.message}`);\r\n                        }\r\n                      }}\r\n                      style={styles.actionButtonContainer}\r\n                    >\r\n                      <Text style={[\r\n                        styles.actionButton,\r\n                        user.status === 'Active' ? styles.disableButton : styles.enableButton\r\n                      ]}>\r\n                        {user.status === 'Active' ? 'Disable' : 'Enable'}\r\n                      </Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                      onPress={() => {\r\n                        const userCopy = JSON.parse(JSON.stringify(user));\r\n                        navigation.navigate('AddEditUser', { user: userCopy });\r\n                      }}\r\n                      style={styles.actionButtonContainer}\r\n                    >\r\n                      <Text style={styles.editButton}>Edit</Text>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n              ))}\r\n            </>\r\n          )}\r\n        </ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  brand: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 18,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: '500',\r\n  },\r\n  backButton: {\r\n    color: '#0066ff',\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n  },\r\n  backButtonMobile: {\r\n    fontSize: 14,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n  },\r\n  contentMobile: {\r\n    padding: 15,\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  headerMobile: {\r\n    marginBottom: 15,\r\n  },\r\n  pageTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  pageTitleMobile: {\r\n    fontSize: 20,\r\n  },\r\n  addButton: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  addButtonMobile: {\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 15,\r\n  },\r\n  addButtonText: {\r\n    color: '#fff',\r\n    fontWeight: '500',\r\n  },\r\n  addButtonTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  table: {\r\n    flex: 1,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e2e2e2',\r\n    padding: 12,\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  tableRow: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    padding: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  cell: {\r\n    color: '#444',\r\n  },\r\n  activeStatus: {\r\n    color: '#28a745',\r\n  },\r\n  disabledStatus: {\r\n    color: '#dc3545',\r\n  },\r\n  editButton: {\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  actionButton: {\r\n    fontWeight: '500',\r\n  },\r\n  enableButton: {\r\n    color: '#28a745',\r\n  },\r\n  disableButton: {\r\n    color: '#dc3545',\r\n  },\r\n  actionButtonContainer: {\r\n    backgroundColor: '#f5f5f5',\r\n    paddingVertical: 6,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 4,\r\n  },\r\n  // Mobile-specific styles\r\n  mobileContainer: {\r\n    gap: 15,\r\n  },\r\n  mobileCard: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: 15,\r\n    marginBottom: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  mobileCardHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  mobileCardName: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    flex: 1,\r\n  },\r\n  mobileCardStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 4,\r\n    backgroundColor: '#f0f0f0',\r\n  },\r\n  mobileCardContent: {\r\n    marginBottom: 15,\r\n  },\r\n  mobileCardLabel: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 5,\r\n  },\r\n  mobileCardValue: {\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  mobileCardActions: {\r\n    flexDirection: 'row',\r\n    gap: 10,\r\n  },\r\n  mobileActionButton: {\r\n    flex: 1,\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 15,\r\n    borderRadius: 6,\r\n    alignItems: 'center',\r\n  },\r\n  mobileActionButtonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    color: '#fff',\r\n  },\r\n  enableButtonMobile: {\r\n    backgroundColor: '#28a745',\r\n  },\r\n  disableButtonMobile: {\r\n    backgroundColor: '#dc3545',\r\n  },\r\n  editButtonMobile: {\r\n    backgroundColor: '#0066ff',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  loadingText: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n  },\r\n});","import React, { useState, useContext } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, ScrollView, useWindowDimensions } from 'react-native';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { UsersContext } from '../../contexts/UsersContext';\r\n\r\nexport default function AddEditUserScreen({ route, navigation }) {\r\n  const { user: passedUser } = route.params || {};\r\n  const user = passedUser ? JSON.parse(JSON.stringify(passedUser)) : undefined;\r\n  const { addUser, updateUser } = useContext(UsersContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  // Map display roles to API roles and vice versa\r\n  const getRoleForAPI = (displayRole) => {\r\n    switch (displayRole) {\r\n      case 'Loan Officer': return 'LOAN_OFFICER';\r\n      case 'Operations Manager': return 'OPS_MANAGER';\r\n      case 'IT Administrator': return 'IT_ADMIN';\r\n      default: return 'LOAN_OFFICER';\r\n    }\r\n  };\r\n\r\n  const getDisplayRole = (apiRole) => {\r\n    switch (apiRole) {\r\n      case 'LOAN_OFFICER': return 'Loan Officer';\r\n      case 'OPS_MANAGER': return 'Operations Manager';\r\n      case 'IT_ADMIN': return 'IT Administrator';\r\n      default: return 'Loan Officer';\r\n    }\r\n  };\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: user?.username || '',\r\n    fullName: user?.fullName || '',\r\n    role: user ? getDisplayRole(user.roleType || user.role) : 'Loan Officer',\r\n    status: user?.status || 'Active',\r\n    password: '',\r\n    confirmPassword: '',\r\n    newPassword: '',\r\n    confirmNewPassword: '',\r\n  });\r\n\r\n  const handleSave = async () => {\r\n    // Trim whitespace from inputs\r\n    const trimmedData = {\r\n      ...formData,\r\n      username: formData.username.trim(),\r\n      fullName: formData.fullName.trim()\r\n    };\r\n\r\n    // Basic validation\r\n    if (!trimmedData.username || !trimmedData.fullName) {\r\n      alert('Please fill in all required fields (Username and Full Name)');\r\n      return;\r\n    }\r\n\r\n    // Username validation\r\n    if (trimmedData.username.length < 3) {\r\n      alert('Username must be at least 3 characters long');\r\n      return;\r\n    }\r\n\r\n    // Full name validation\r\n    if (trimmedData.fullName.length < 2) {\r\n      alert('Full name must be at least 2 characters long');\r\n      return;\r\n    }\r\n\r\n    // Password validation for new users\r\n    if (!user && (!trimmedData.password || !trimmedData.confirmPassword)) {\r\n      alert('Password is required for new users');\r\n      return;\r\n    }\r\n\r\n    if (!user && trimmedData.password !== trimmedData.confirmPassword) {\r\n      alert('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (!user && trimmedData.password.length < 6) {\r\n      alert('Password must be at least 6 characters long');\r\n      return;\r\n    }\r\n\r\n    // Password validation for existing users (if changing password)\r\n    if (user && trimmedData.newPassword) {\r\n      if (!trimmedData.confirmNewPassword) {\r\n        alert('Please confirm the new password');\r\n        return;\r\n      }\r\n      if (trimmedData.newPassword !== trimmedData.confirmNewPassword) {\r\n        alert('New passwords do not match');\r\n        return;\r\n      }\r\n      if (trimmedData.newPassword.length < 6) {\r\n        alert('New password must be at least 6 characters long');\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Prepare user data\r\n    const userData = {\r\n      username: trimmedData.username,\r\n      fullName: trimmedData.fullName,\r\n      role: getRoleForAPI(trimmedData.role), // Convert to API format\r\n      status: trimmedData.status,\r\n      password: user ? (trimmedData.newPassword || undefined) : trimmedData.password,\r\n    };\r\n\r\n    try {\r\n      if (user) {\r\n        await updateUser({\r\n          ...userData,\r\n          id: user.id\r\n        });\r\n        alert('User updated successfully!');\r\n      } else {\r\n        await addUser(userData);\r\n        alert('User added successfully!');\r\n      }\r\n      navigation.setParams({ user: undefined });\r\n      navigation.goBack();\r\n    } catch (error) {\r\n      alert(`Error: ${error.message}`);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <View style={[styles.leftSection, isMobile && styles.leftSectionMobile]}>\r\n          <Text style={[styles.brand, isMobile && styles.brandMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n          </Text>\r\n          {!isMobile && <Text style={styles.title}>{user ? 'Edit User' : 'Add User'}</Text>}\r\n        </View>\r\n        <View style={styles.rightSection}>\r\n          <TouchableOpacity onPress={() => navigation.goBack()}>\r\n            <Text style={[styles.backButton, isMobile && styles.backButtonMobile]}>\r\n              {isMobile ? 'Back' : 'Back to List'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      <ScrollView style={[styles.content, isMobile && styles.contentMobile]} showsVerticalScrollIndicator={false}>\r\n        {isMobile && (\r\n          <Text style={styles.mobileTitle}>{user ? 'Edit User' : 'Add User'}</Text>\r\n        )}\r\n        <View style={[styles.form, isMobile && styles.formMobile]}>\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Full Name</Text>\r\n          <TextInput\r\n            style={[styles.input, isMobile && styles.inputMobile]}\r\n            value={formData.fullName}\r\n            onChangeText={(text) => setFormData({ ...formData, fullName: text })}\r\n            placeholder=\"Enter full name\"\r\n          />\r\n\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Username</Text>\r\n          <TextInput\r\n            style={[styles.input, isMobile && styles.inputMobile]}\r\n            value={formData.username}\r\n            onChangeText={(text) => setFormData({ ...formData, username: text })}\r\n            placeholder=\"Enter username\"\r\n            editable={!user}\r\n          />\r\n\r\n          <Text style={[styles.label, isMobile && styles.labelMobile]}>Role</Text>\r\n          <View style={[styles.pickerContainer, isMobile && styles.pickerContainerMobile]}>\r\n            <Picker\r\n              selectedValue={formData.role}\r\n              onValueChange={(value) => setFormData({ ...formData, role: value })}\r\n            >\r\n              <Picker.Item label=\"Loan Officer\" value=\"Loan Officer\" />\r\n              <Picker.Item label=\"Operations Manager\" value=\"Operations Manager\" />\r\n              {/* IT Admin can only edit existing IT Admins, not create new ones */}\r\n              {user && user.roleType === 'IT_ADMIN' && (\r\n                <Picker.Item label=\"IT Administrator\" value=\"IT Administrator\" />\r\n              )}\r\n            </Picker>\r\n          </View>\r\n\r\n          {user && (\r\n            <>\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Status</Text>\r\n              <View style={[styles.pickerContainer, isMobile && styles.pickerContainerMobile]}>\r\n                <Picker\r\n                  selectedValue={formData.status}\r\n                  onValueChange={(value) => setFormData({ ...formData, status: value })}\r\n                >\r\n                  <Picker.Item label=\"Active\" value=\"Active\" />\r\n                  <Picker.Item label=\"Disabled\" value=\"Disabled\" />\r\n                </Picker>\r\n              </View>\r\n\r\n              <View style={[styles.passwordSection, isMobile && styles.passwordSectionMobile]}>\r\n                <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Change Password</Text>\r\n                <Text style={[styles.label, isMobile && styles.labelMobile]}>New Password</Text>\r\n                <TextInput\r\n                  style={[styles.input, isMobile && styles.inputMobile]}\r\n                  secureTextEntry\r\n                  value={formData.newPassword}\r\n                  onChangeText={(text) => setFormData({ ...formData, newPassword: text })}\r\n                  placeholder=\"Enter new password (optional)\"\r\n                />\r\n\r\n                <Text style={[styles.label, isMobile && styles.labelMobile]}>Confirm New Password</Text>\r\n                <TextInput\r\n                  style={[styles.input, isMobile && styles.inputMobile]}\r\n                  secureTextEntry\r\n                  value={formData.confirmNewPassword}\r\n                  onChangeText={(text) => setFormData({ ...formData, confirmNewPassword: text })}\r\n                  placeholder=\"Confirm new password\"\r\n                />\r\n              </View>\r\n            </>\r\n          )}\r\n\r\n          {!user && (\r\n            <>\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Password</Text>\r\n              <TextInput\r\n                style={[styles.input, isMobile && styles.inputMobile]}\r\n                secureTextEntry\r\n                value={formData.password}\r\n                onChangeText={(text) => setFormData({ ...formData, password: text })}\r\n                placeholder=\"Enter password\"\r\n              />\r\n\r\n              <Text style={[styles.label, isMobile && styles.labelMobile]}>Confirm Password</Text>\r\n              <TextInput\r\n                style={[styles.input, isMobile && styles.inputMobile]}\r\n                secureTextEntry\r\n                value={formData.confirmPassword}\r\n                onChangeText={(text) => setFormData({ ...formData, confirmPassword: text })}\r\n                placeholder=\"Confirm password\"\r\n              />\r\n            </>\r\n          )}\r\n\r\n          <TouchableOpacity style={[styles.saveButton, isMobile && styles.saveButtonMobile]} onPress={handleSave}>\r\n            <Text style={[styles.saveButtonText, isMobile && styles.saveButtonTextMobile]}>Save User</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n    backgroundColor: '#ddd',\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n  },\r\n  leftSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 20,\r\n  },\r\n  leftSectionMobile: {\r\n    gap: 10,\r\n  },\r\n  rightSection: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  brand: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n  brandMobile: {\r\n    fontSize: 18,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: '500',\r\n  },\r\n  backButton: {\r\n    color: '#0066ff',\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n  },\r\n  backButtonMobile: {\r\n    fontSize: 14,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n    overflow: 'auto',\r\n  },\r\n  contentMobile: {\r\n    padding: 15,\r\n  },\r\n  mobileTitle: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  form: {\r\n    backgroundColor: '#fff',\r\n    padding: 20,\r\n    borderRadius: 8,\r\n    maxWidth: 500,\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n    overflow: 'visible',\r\n    minHeight: 'min-content',\r\n  },\r\n  formMobile: {\r\n    padding: 15,\r\n    maxWidth: '100%',\r\n    borderRadius: 12,\r\n  },\r\n  label: {\r\n    fontSize: 16,\r\n    marginBottom: 8,\r\n    color: '#333',\r\n  },\r\n  labelMobile: {\r\n    fontSize: 15,\r\n    marginBottom: 6,\r\n  },\r\n  input: {\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 16,\r\n    fontSize: 16,\r\n  },\r\n  inputMobile: {\r\n    padding: 14,\r\n    fontSize: 16,\r\n    marginBottom: 18,\r\n  },\r\n  pickerContainer: {\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: 6,\r\n    marginBottom: 16,\r\n    overflow: 'hidden',\r\n  },\r\n  pickerContainerMobile: {\r\n    marginBottom: 18,\r\n  },\r\n  saveButton: {\r\n    backgroundColor: '#0066ff',\r\n    padding: 15,\r\n    borderRadius: 6,\r\n    alignItems: 'center',\r\n    marginTop: 10,\r\n  },\r\n  saveButtonMobile: {\r\n    padding: 16,\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n  },\r\n  saveButtonText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  saveButtonTextMobile: {\r\n    fontSize: 17,\r\n  },\r\n  passwordSection: {\r\n    marginTop: 16,\r\n    marginBottom: 16,\r\n    padding: 12,\r\n    backgroundColor: '#f8f9fa',\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  passwordSectionMobile: {\r\n    padding: 15,\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    marginBottom: 16,\r\n    color: '#333',\r\n  },\r\n  sectionTitleMobile: {\r\n    fontSize: 17,\r\n    marginBottom: 12,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ClientList from '../../components/clients/ClientList';\r\n\r\nexport default function OpsClientListScreen({ navigation }) {\r\n  return (\r\n    <ClientList\r\n      navigation={navigation}\r\n      userRole=\"ops\"\r\n      dashboardRoute=\"OpsDashboard\"\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ClientProfile from '../../components/clients/ClientProfile';\r\n\r\nexport default function OpsClientProfileScreen({ navigation, route }) {\r\n  return (\r\n    <ClientProfile\r\n      navigation={navigation}\r\n      route={route}\r\n      userRole=\"ops\"\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nexport default function OpsPendingListScreen({ navigation }) {\r\n  const { loans } = useLoan();\r\n  const [search, setSearch] = useState('');\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n\r\n  const filtered = loans.filter(\r\n    item =>\r\n      item.name.toLowerCase().includes(search.toLowerCase()) ||\r\n      item.cid.includes(search)\r\n  );\r\n\r\n  const getLatestLoanRequest = (item) => {\r\n    if (item.loans?.loanHistory && item.loans.loanHistory.length > 0) {\r\n      const latest = [...item.loans.loanHistory].sort((a, b) => \r\n        new Date(b.dateApplied) - new Date(a.dateApplied)\r\n      )[0];\r\n      return latest.dateApplied;\r\n    }\r\n    return 'No date';\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      style={[styles.row, isMobile && styles.rowMobile]}\r\n      onPress={() => isMobile && navigation.navigate('OpsPendingLoanDetail', {\r\n        client: item,\r\n        backScreen: 'OpsPendingList'\r\n      })}\r\n    >\r\n      {isMobile ? (\r\n        // Mobile layout\r\n        <View style={styles.mobileContent}>\r\n          <Text style={styles.mobileName}>{item.name}</Text>\r\n          <Text style={styles.mobileCid}>CID: {item.cid}</Text>\r\n          <View style={styles.mobileStatusRow}>\r\n            <Text style={[\r\n              styles.mobileStatus,\r\n              (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n              (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n              (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n            ]}>\r\n              {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n            </Text>\r\n            <Text style={styles.mobileDate}>{getLatestLoanRequest(item)}</Text>\r\n          </View>\r\n        </View>\r\n      ) : (\r\n        // Desktop layout\r\n        <>\r\n          <Text style={[styles.cell, { flex: 1, textAlign: 'center' }]}>{item.cid}</Text>\r\n          <Text style={[styles.cell, { flex: 3, textAlign: 'center' }]}>{item.name}</Text>\r\n          <Text style={[\r\n            styles.cell,\r\n            { flex: 2, textAlign: 'center' },\r\n            (item.status && item.status.toLowerCase() === 'approved') && styles.approvedStatus,\r\n            (item.status && item.status.toLowerCase() === 'declined') && styles.declinedStatus,\r\n            (!item.status || item.status.toLowerCase() === 'pending') && styles.pendingStatus\r\n          ]}>\r\n            {item.status ? item.status.charAt(0).toUpperCase() + item.status.slice(1).toLowerCase() : 'Pending'}\r\n          </Text>\r\n          <Text style={[styles.cell, { flex: 3, textAlign: 'center' }]}>{getLatestLoanRequest(item)}</Text>\r\n          <View style={{ flex: 1, alignItems: 'center' }}>\r\n            <TouchableOpacity\r\n              style={styles.viewBtn}\r\n              onPress={() => {\r\n                navigation.navigate('OpsPendingLoanDetail', {\r\n                  client: item,\r\n                  backScreen: 'OpsPendingList'\r\n                });\r\n              }}\r\n            >\r\n              <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header Row */}\r\n      <View style={[styles.headerRow, isMobile && styles.headerRowMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n          List of Pending Loan Approval\r\n        </Text>\r\n        <TouchableOpacity\r\n          style={[styles.dashboardBtn, isMobile && styles.dashboardBtnMobile]}\r\n          onPress={() => navigation.replace('OpsDashboard')}\r\n        >\r\n          <Text style={[styles.btnText, isMobile && styles.btnTextMobile]}>\r\n            Go to Dashboard\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Search */}\r\n      <View style={[styles.searchBar, isMobile && styles.searchBarMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search by name or CID\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n      </View>\r\n\r\n      {/* Table Header - Only show on desktop */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <Text style={[styles.headerCell, { flex: 1, textAlign: 'center' }]}>CID</Text>\r\n          <Text style={[styles.headerCell, { flex: 3, textAlign: 'center' }]}>Full Name</Text>\r\n          <Text style={[styles.headerCell, { flex: 2, textAlign: 'center' }]}>Loan Status</Text>\r\n          <Text style={[styles.headerCell, { flex: 3, textAlign: 'center' }]}>Date Applied</Text>\r\n          <Text style={[styles.headerCell, { flex: 1 }]}></Text>\r\n        </View>\r\n      )}\r\n\r\n      <FlatList\r\n        data={filtered}\r\n        keyExtractor={(item) => item.cid}\r\n        renderItem={renderItem}\r\n        contentContainerStyle={styles.listContainer}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n  },\r\n  headerRowMobile: {\r\n    marginBottom: 12,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: Platform.select({ web: 10, default: 8 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 8,\r\n  },\r\n  dashboardBtnMobile: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 10,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n  },\r\n  btnTextMobile: {\r\n    fontSize: 12,\r\n  },\r\n  searchBar: {\r\n    flexDirection: 'row',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 10,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: Platform.select({ web: 12, default: 10 }),\r\n    flex: 1,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n  },\r\n  searchInputMobile: {\r\n    padding: 8,\r\n    fontSize: 14,\r\n  },\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 8,\r\n    marginBottom: 4,\r\n    borderRadius: 8,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    color: '#495057',\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 8, default: 6 }),\r\n    marginBottom: 8,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: '#e9ecef',\r\n  },\r\n  rowMobile: {\r\n    padding: 12,\r\n  },\r\n  cell: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    paddingHorizontal: 6,\r\n    color: '#212529',\r\n  },\r\n  mobileContent: {\r\n    flex: 1,\r\n  },\r\n  mobileName: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    marginBottom: 4,\r\n    color: '#212529',\r\n  },\r\n  mobileCid: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n    marginBottom: 6,\r\n  },\r\n  mobileStatusRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  mobileStatus: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  mobileDate: {\r\n    fontSize: 12,\r\n    color: '#6c757d',\r\n  },\r\n  approvedStatus: {\r\n    color: '#2ecc71',\r\n    fontWeight: 'bold',\r\n  },\r\n  pendingStatus: {\r\n    color: '#000000',\r\n    fontWeight: 'bold',\r\n  },\r\n  declinedStatus: {\r\n    color: '#e74c3c',\r\n    fontWeight: 'bold',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  viewBtnText: {\r\n    color: '#495057',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  listContainer: {\r\n    flexGrow: 1,\r\n  }\r\n});\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, TextInput, Modal, useWindowDimensions, Platform } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { clientAPI, API_BASE_URL, DOCUMENT_CATEGORIES } from '../../services/api';\r\n\r\nconst defaultClient = {\r\n  name: 'N/A',\r\n  age: 0,\r\n  cid: '',\r\n  email: 'N/A',\r\n  number: 'N/A',\r\n  address: 'N/A',\r\n  input: {\r\n    paymentHistory: 0,\r\n    creditUtilization: 0,\r\n    creditHistoryLength: 0,\r\n    creditMix: 0,\r\n    newInquiries: 0\r\n  },\r\n  financial: {\r\n    monthlyIncome: 0,\r\n    monthlyExpenses: 0,\r\n    assets: 0,\r\n    dti: 0\r\n  },\r\n  employer: 'N/A',\r\n  position: 'N/A',\r\n  loans: {\r\n    approved: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    pending: {\r\n      amount: 0,\r\n      status: 'None'\r\n    },\r\n    loanHistory: []\r\n  },\r\n  loanBalance: {\r\n    amount: 0,\r\n    dueDate: 'N/A'\r\n  },\r\n  documents: {\r\n    applicationDocs: DOCUMENT_CATEGORIES.APPLICATION_DOCS,\r\n    signedDocuments: []\r\n  }\r\n};\r\n\r\nexport default function OpsPendingLoanDetailScreen({ navigation, route }) {\r\n  const { updateLoan, updateLoanAmount } = useLoan();\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [client, setClient] = useState(null);\r\n  const [loanData, setLoanData] = useState(null);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editedAmount, setEditedAmount] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [latestRequest, setLatestRequest] = useState(null);\r\n\r\n  const fetchLoanData = async (cid) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5600/client-loan-data/${cid}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch loan data');\r\n      }\r\n      const data = await response.json();\r\n      setLoanData(data);\r\n    } catch (err) {\r\n      console.error('Error fetching loan data:', err);\r\n      setError('Failed to fetch loan data');\r\n    }\r\n  };\r\n\r\n  // Update latestRequest whenever client changes\r\n  useEffect(() => {\r\n    if (client?.loans?.loanHistory?.length > 0) {\r\n      const latest = [...client.loans.loanHistory].sort((a, b) =>\r\n        new Date(b.dateApplied) - new Date(a.dateApplied)\r\n      )[0];\r\n      setLatestRequest(latest);\r\n    }\r\n  }, [client]);\r\n\r\n  useEffect(() => {\r\n    console.log('Route params:', route.params);\r\n    if (route.params?.client) {\r\n      console.log('Initializing client with:', route.params.client);\r\n      const initialClient = {\r\n        ...defaultClient,\r\n        ...route.params.client,\r\n        documents: {\r\n          applicationDocs: route.params.client.documents?.applicationDocs || defaultClient.documents.applicationDocs,\r\n          signedDocuments: route.params.client.documents?.signedDocuments || []\r\n        }\r\n      };\r\n      console.log('Setting client with CID:', initialClient.cid);\r\n      setClient(initialClient);\r\n      \r\n      // Fetch loan data when client is set\r\n      if (initialClient.cid) {\r\n        fetchLoanData(initialClient.cid);\r\n      }\r\n    }\r\n  }, [route.params?.client]);\r\n\r\n  if (!client) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text>Loading...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const handleDecline = async () => {\r\ntry {\r\n  setError('');\r\n  console.log('Declining loan for CID:', client.cid);\r\n  \r\n  // First check if API is accessible\r\n  try {\r\n    const healthCheck = await fetch('http://localhost:5600/clients');\r\n    if (!healthCheck.ok) {\r\n      throw new Error('API server is not responding properly');\r\n    }\r\n  } catch (err) {\r\n    throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n  }\r\n\r\n  const result = await clientAPI.processLoanDecision(client.cid, 'declined');\r\n  console.log('API Response:', result);\r\n  \r\n  await updateLoan(client.cid, {\r\n    status: 'Declined',\r\n    decidedAt: new Date().toISOString()\r\n  });\r\n  console.log('Local state updated');\r\n  \r\n  setSuccess('Loan application declined');\r\n  setTimeout(() => {\r\n    navigation.replace('OpsPendingList');\r\n  }, 1000);\r\n} catch (err) {\r\n  console.error('Error declining loan:', err);\r\n  setError(err.message || 'Failed to decline loan');\r\n  setTimeout(() => setError(''), 3000); // Clear error after 3 seconds\r\n}\r\n};\r\n\r\n  const handleApprove = async () => {\r\n    try {\r\n      setError('');\r\n      console.log('Approving loan for CID:', client.cid);\r\n      \r\n      // First check if API is accessible\r\n      try {\r\n        const healthCheck = await fetch('http://localhost:5600/clients');\r\n        if (!healthCheck.ok) {\r\n          throw new Error('API server is not responding properly');\r\n        }\r\n      } catch (err) {\r\n        throw new Error('API server is not running. Please start the credit-scoring-api server first.');\r\n      }\r\n\r\n      // Save the current approved amount before approval\r\n      const currentApprovedAmount = loanData?.approvedAmount || '0';\r\n\r\n      // Exclude \"documents\" from the client object\r\n      const { documents, ...clientWithoutDocuments } = client;\r\n\r\n      const result = await clientAPI.processLoanDecision(client.cid, 'approved', {\r\n        approvedAmount: loanData?.approvedAmount,\r\n        ...clientWithoutDocuments\r\n      });\r\n      console.log('API Response:', result);\r\n  \r\n  await updateLoan(client.cid, {\r\n    status: 'Approved',\r\n    decidedAt: new Date().toISOString(),\r\n    approvedAmount: currentApprovedAmount\r\n  });\r\n  console.log('Local state updated');\r\n  \r\n  setSuccess('Loan application approved');\r\n  setTimeout(() => {\r\n    navigation.replace('OpsPendingList');\r\n  }, 1000);\r\n} catch (err) {\r\n  console.error('Error approving loan:', err);\r\n  setError(err.message || 'Failed to approve loan');\r\n  setTimeout(() => setError(''), 3000); // Clear error after 3 seconds\r\n}\r\n};\r\n\r\n  const handleSaveEdit = async () => {\r\n    try {\r\n      const newAmount = parseInt(editedAmount);\r\n      \r\n      if (!newAmount || newAmount <= 0) {\r\n        setError('Please enter a valid amount');\r\n        return;\r\n      }\r\n      \r\n      const maxAmount = loanData?.approvedAmount || 0;\r\n      \r\n      if (newAmount > maxAmount) {\r\n        setError(`Amount cannot exceed approved amount of ₱${maxAmount.toLocaleString()}`);\r\n        return;\r\n      }\r\n\r\n      if (client.loans?.loanHistory && client.loans.loanHistory.length > 0) {\r\n        const latest = [...client.loans.loanHistory].sort((a, b) =>\r\n          new Date(b.dateApplied) - new Date(a.dateApplied)\r\n        )[0];\r\n\r\n        // Calculate amount due (5% interest)\r\n        const interest = newAmount * 0.05; // 5% interest\r\n        const total = newAmount + interest;\r\n\r\n        // Create updated latest request\r\n        const updatedLatest = {\r\n          ...latest,\r\n          amount: newAmount,\r\n          amountDue: {\r\n            total\r\n          }\r\n        };\r\n\r\n        // Create updated client data\r\n        const updatedClient = {\r\n          ...client,\r\n          loans: {\r\n            ...client.loans,\r\n            loanHistory: client.loans.loanHistory.map(loan =>\r\n              loan.dateApplied === latest.dateApplied ? updatedLatest : loan\r\n            )\r\n          }\r\n        };\r\n        \r\n        await updateLoanAmount(client.cid, newAmount);\r\n        setLatestRequest(updatedLatest); // Update latest request state immediately\r\n        setClient(updatedClient);\r\n        \r\n        // Refresh loan data from API\r\n        await fetchLoanData(client.cid);\r\n        \r\n        setShowEditModal(false);\r\n        setSuccess('Loan amount updated successfully');\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to update loan amount');\r\n      console.error('Error updating loan amount:', error);\r\n    }\r\n  };\r\n\r\n  const calculateScore = () => {\r\n    const weights = {\r\n      paymentHistory: 0.35,\r\n      creditUtilization: 0.30,\r\n      creditHistoryLength: 0.15,\r\n      creditMix: 0.10,\r\n      newInquiries: 0.10,\r\n    };\r\n\r\n    const input = client.input;\r\n    \r\n    // Normalize inputs to 0-1 scale\r\n    const normalized = {\r\n      paymentHistory: input.paymentHistory / 100,\r\n      creditUtilization: 1 - (input.creditUtilization / 100),\r\n      creditHistoryLength: Math.min(input.creditHistoryLength / 60, 1),\r\n      creditMix: input.creditMix / 100,\r\n      newInquiries: 1 - (input.newInquiries / 100),\r\n    };\r\n\r\n    const weightedSum =\r\n      weights.paymentHistory * normalized.paymentHistory +\r\n      weights.creditUtilization * normalized.creditUtilization +\r\n      weights.creditHistoryLength * normalized.creditHistoryLength +\r\n      weights.creditMix * normalized.creditMix +\r\n      weights.newInquiries * normalized.newInquiries;\r\n\r\n    // Scale to 300-850 range\r\n    return Math.round(300 + weightedSum * 550);\r\n  };\r\n\r\n  const getRiskCategory = (score) => {\r\n    if (score >= 800) return 'Exceptional';\r\n    if (score >= 740) return 'Very Good';\r\n    if (score >= 670) return 'Good';\r\n    if (score >= 580) return 'Fair';\r\n    return 'Poor';\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\r\n      {/* Topbar */}\r\n      <View style={[styles.topbar, isMobile && styles.topbarMobile]}>\r\n        <Text style={[styles.logo, isMobile && styles.logoMobile]}>\r\n          <Text style={{ color: '#0066ff' }}>Loan</Text>Siya\r\n        </Text>\r\n        <Text style={[styles.role, isMobile && styles.roleMobile]}>\r\n          {currentUser?.role === 'ops' ? 'Operations Manager' : currentUser?.username || 'Operations Manager'}\r\n        </Text>\r\n      </View>\r\n\r\n      <View style={[styles.content, isMobile && styles.contentMobile]}>\r\n        {/* LEFT SIDE */}\r\n        <View style={[styles.left, isMobile && styles.leftMobile, isMobile && { marginBottom: '25%' }]}>\r\n          <Text style={[styles.sectionTitle, isMobile && styles.sectionTitleMobile]}>Client Profile</Text>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Personal Details</Text>\r\n            <Text><Text style={styles.bold}>Name:</Text> {client.name}</Text>\r\n            <Text><Text style={styles.bold}>Age:</Text> {client.age}</Text>\r\n            <Text><Text style={styles.bold}>CID:</Text> {client.cid}</Text>\r\n            <Text><Text style={styles.bold}>Email:</Text> {client.email}</Text>\r\n            <Text><Text style={styles.bold}>Number:</Text> {client.number}</Text>\r\n            <Text><Text style={styles.bold}>Address:</Text> {client.address}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 12, marginBottom: isMobile ? 4 : 6 }]}>Uploaded Documents</Text>\r\n          <View style={styles.documentCategory}>\r\n            <Text style={styles.categoryText}>Application Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  if (!client.cid) {\r\n                    console.error('No client CID available');\r\n                    alert('Error: Client ID not found');\r\n                    return;\r\n                  }\r\n\r\n                  // Get all document dates and find the latest one with application documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestApplicationDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has application documents (non-PDF files)\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const applicationDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return !name.endsWith('.pdf'); // Non-PDF files are application documents\r\n                    });\r\n\r\n                    if (applicationDocs.length > 0) {\r\n                      latestApplicationDocs = applicationDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestApplicationDocs.length > 0) {\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Application Documents',\r\n                      documents: latestApplicationDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No application documents found');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={[styles.documentCategory, { marginBottom: isMobile ? 4 : 10 }]}>\r\n            <Text style={styles.categoryText}>Signed Documents</Text>\r\n            <TouchableOpacity\r\n              style={styles.previewBtn}\r\n              onPress={async () => {\r\n                try {\r\n                  // Get all document dates and find the latest one with signed documents\r\n                  const allDates = await clientAPI.getDocumentDates(client.cid);\r\n                  \r\n                  if (allDates.length === 0) {\r\n                    alert('No documents found for this client.');\r\n                    return;\r\n                  }\r\n\r\n                  // Sort dates in descending order (latest first)\r\n                  const sortedDates = allDates.sort((a, b) => b.date.localeCompare(a.date));\r\n                  \r\n                  let latestSignedDocs = [];\r\n                  let latestDate = null;\r\n\r\n                  // Find the latest date that has signed documents\r\n                  for (const dateInfo of sortedDates) {\r\n                    const documents = await clientAPI.getDocumentsByDate(client.cid, dateInfo.date);\r\n                    const signedDocs = documents.filter(doc => {\r\n                      const name = doc.name?.toLowerCase() || '';\r\n                      return name.endsWith('.pdf');\r\n                    });\r\n\r\n                    if (signedDocs.length > 0) {\r\n                      latestSignedDocs = signedDocs;\r\n                      latestDate = dateInfo.date;\r\n                      break;\r\n                    }\r\n                  }\r\n\r\n                  if (latestSignedDocs.length > 0) {\r\n                    // Map documents with proper display names\r\n                    const mappedDocs = latestSignedDocs.map(doc => ({\r\n                      ...doc,\r\n                      displayName: doc.name.includes('promissory-note') ? 'Promissory Note' : 'Signed Agreement'\r\n                    }));\r\n\r\n                    // Navigate to DocumentPreview screen\r\n                    navigation.navigate('DocumentPreview', {\r\n                      cid: client.cid,\r\n                      title: 'Signed Documents',\r\n                      documents: mappedDocs,\r\n                      latestDate: latestDate\r\n                    });\r\n                  } else {\r\n                    alert('No signed documents found. Documents will be available after loan approval.');\r\n                  }\r\n                } catch (error) {\r\n                  console.error('Error loading documents:', error);\r\n                  alert('Error loading documents. Please try again.');\r\n                }\r\n              }}\r\n            >\r\n              <Text style={styles.previewText}>View</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <View style={[styles.right, isMobile && styles.rightMobile, isMobile && { marginTop: '-450px' }]}>\r\n          <View style={styles.detailsContainer}>\r\n            <Text style={styles.subTitle}>Financial Record</Text>\r\n            <Text>Monthly Income: ₱{client.financial.monthlyIncome.toLocaleString()}</Text>\r\n            <Text>Monthly Expenses: ₱{client.financial.monthlyExpenses.toLocaleString()}</Text>\r\n            <Text>Saving and Assets: ₱{client.financial.assets.toLocaleString()}</Text>\r\n            <Text>Debt to Income Ratio: {client.financial.dti}%</Text>\r\n          </View>\r\n\r\n          <View style={[styles.detailsContainer, { marginTop: 16 }]}>\r\n            <Text style={styles.subTitle}>Employment or Business info</Text>\r\n            <Text>{client.employer}</Text>\r\n            <Text>{client.position}</Text>\r\n          </View>\r\n\r\n          <Text style={[styles.subTitle, { marginTop: isMobile ? 8 : 16 }]}>Loan History</Text>\r\n          <TouchableOpacity\r\n            style={styles.viewBtn}\r\n            onPress={() => navigation.navigate('LoanHistory', {\r\n              clientId: client.cid,\r\n              userRole: 'ops',\r\n              fromPendingDetail: true\r\n            })}\r\n          >\r\n            <Text style={{color: '#fff', fontWeight: '600', fontSize: 16}}>View History</Text>\r\n          </TouchableOpacity>\r\n\r\n          <View style={[styles.loanDetails, isMobile && { marginTop: 8 }]}>\r\n            <Text style={styles.subTitle}>Approved by Loan Officer</Text>\r\n            <Text>₱{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Recommended Loan Amount (Based on Credit Score)</Text>\r\n            <Text>₱{loanData?.recommendedAmount?.toLocaleString() || '0'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Purpose of Loan</Text>\r\n            <Text>{loanData?.purpose || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Description of Purpose</Text>\r\n            <Text>{loanData?.description || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Loan Term (in months)</Text>\r\n            <Text>{loanData?.term || 'N/A'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Repayment Method</Text>\r\n            <Text>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n\r\n            <Text style={styles.subTitle}>Interest Rate</Text>\r\n            <Text>{loanData?.interestRate || '5.0'}%</Text>\r\n\r\n            <Text style={styles.subTitle}>Amount Due</Text>\r\n            <Text>₱{loanData?.amountDue || '0'}</Text>\r\n          </View>\r\n\r\n          <View style={styles.creditBox}>\r\n            <Text style={[styles.subTitle, { marginBottom: 4 }]}>Credit Score</Text>\r\n            <Text style={styles.creditScore}>{loanData?.creditScore || calculateScore()}</Text>\r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Risk Category</Text>\r\n            <Text style={{\r\n              color: ['Exceptional', 'Very Good', 'Good'].includes(loanData?.riskCategory || getRiskCategory(calculateScore())) ? '#2ecc71' : '#e74c3c'\r\n            }}>{loanData?.riskCategory || getRiskCategory(calculateScore())}</Text>\r\n            <Text style={[styles.subTitle, { marginTop: 12 }]}>Recommendation</Text>\r\n            <Text style={{\r\n              color: loanData?.recommendation === 'APPROVE' ? '#2ecc71' : '#e74c3c'\r\n            }}>{loanData?.recommendation || (calculateScore() >= 670 ? 'Approved' : 'Not Approved')}</Text>\r\n          </View>\r\n\r\n          {/* Action Buttons */}\r\n          <View style={[styles.actionRow, isMobile && styles.actionRowMobile]}>\r\n            <TouchableOpacity\r\n              style={[styles.backBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text>← Back</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.editBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => {\r\n                const maxAmount = loanData?.approvedAmount?.toString() || '0';\r\n                setEditedAmount(maxAmount);\r\n                setShowEditModal(true);\r\n              }}\r\n            >\r\n              <Text>Edit</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.declineBtn, isMobile && styles.btnMobile]}\r\n              onPress={handleDecline}\r\n            >\r\n              <Text style={{ color: '#fff' }}>Decline</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.approveBtn, isMobile && styles.btnMobile]}\r\n              onPress={() => navigation.navigate('SignatureAgreement', { client, loanData })}\r\n            >\r\n              <Text style={{ color: '#fff' }}>Sign Agreement</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Edit Modal */}\r\n      <Modal\r\n        visible={showEditModal}\r\n        transparent={true}\r\n        animationType=\"fade\"\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={[styles.modalContent, isMobile && styles.modalContentMobile]}>\r\n            <Text style={[styles.modalTitle, isMobile && styles.modalTitleMobile]}>Edit Loan Amount</Text>\r\n            <Text style={[styles.modalSubtitle, isMobile && styles.modalSubtitleMobile]}>\r\n              Maximum amount: ₱{loanData?.approvedAmount?.toLocaleString() || '0'}\r\n            </Text>\r\n            \r\n            <TextInput\r\n              style={[styles.amountInput, isMobile && styles.amountInputMobile]}\r\n              value={editedAmount}\r\n              onChangeText={(text) => {\r\n                setEditedAmount(text.replace(/[^0-9]/g, ''));\r\n                setError('');\r\n              }}\r\n              keyboardType=\"numeric\"\r\n              placeholder=\"Enter amount\"\r\n              placeholderTextColor=\"#999\"\r\n            />\r\n            \r\n            {error ? <Text style={[styles.errorText, isMobile && styles.errorTextMobile]}>{error}</Text> : null}\r\n            \r\n            <View style={[styles.modalButtons, isMobile && styles.modalButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.cancelBtn, isMobile && styles.cancelBtnMobile]}\r\n                onPress={() => {\r\n                  setShowEditModal(false);\r\n                  setError('');\r\n                }}\r\n              >\r\n                <Text style={[styles.modalButtonText, isMobile && styles.modalButtonTextMobile]}>Cancel</Text>\r\n              </TouchableOpacity>\r\n              \r\n              <TouchableOpacity\r\n                style={[styles.saveBtn, isMobile && styles.saveBtnMobile]}\r\n                onPress={handleSaveEdit}\r\n              >\r\n                <Text style={[styles.modalButtonTextWhite, isMobile && styles.modalButtonTextWhiteMobile]}>Save Changes</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n\r\n      {/* Success/Error Messages */}\r\n      {success ? (\r\n        <View style={styles.successMessage}>\r\n          <Text style={styles.successText}>{success}</Text>\r\n        </View>\r\n      ) : null}\r\n      {error ? (\r\n        <View style={styles.errorMessage}>\r\n          <Text style={styles.errorText}>{error}</Text>\r\n        </View>\r\n      ) : null}\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Document Category Styles\r\n  documentCategory: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 16,\r\n    marginBottom: 10,\r\n    borderRadius: 6,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  categoryText: {\r\n    fontSize: 15,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  previewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 4,\r\n    borderRadius: 6,\r\n  },\r\n  previewText: {\r\n    color: '#fff',\r\n  },\r\n  // Modal Styles\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  modalContent: {\r\n    backgroundColor: 'white',\r\n    padding: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    width: Platform.select({ web: '80%', default: '90%' }),\r\n    maxWidth: 500,\r\n    maxHeight: '80%',\r\n  },\r\n  modalContentMobile: {\r\n    padding: 16,\r\n    width: '95%',\r\n    margin: 10,\r\n  },\r\n  modalTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  modalTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  modalSubtitle: {\r\n    marginBottom: 15,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  modalSubtitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 12,\r\n  },\r\n  amountInput: {\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 12,\r\n    marginBottom: 15,\r\n    fontSize: 16,\r\n  },\r\n  amountInputMobile: {\r\n    padding: 15,\r\n    fontSize: 16,\r\n    minHeight: 48,\r\n  },\r\n  modalButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 12,\r\n  },\r\n  modalButtonsMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n  },\r\n  cancelBtn: {\r\n    backgroundColor: '#ddd',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n  },\r\n  cancelBtnMobile: {\r\n    width: '100%',\r\n// Detail Styles\r\n  detailRow: {\r\n    marginBottom: 8,\r\n  },\r\n  detailLabel: {\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n    color: '#333',\r\n    marginBottom: 2,\r\n  },\r\n  detailLabelMobile: {\r\n    fontSize: 13,\r\n  },\r\n  detailValue: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    flexWrap: 'wrap',\r\n  },\r\n  detailValueMobile: {\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n  },\r\n  personalDetailsGrid: {\r\n    gap: 8,\r\n  },\r\n  personalDetailsGridMobile: {\r\n    gap: 6,\r\n  },\r\n  financialGrid: {\r\n    gap: 8,\r\n  },\r\n  employmentGrid: {\r\n    gap: 8,\r\n  },\r\n\r\n  // Loan Details\r\n  loanDetails: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: 16,\r\n    borderRadius: 8,\r\n    marginTop: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  loanDetailsMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  loanDetailRow: {\r\n    marginBottom: 12,\r\n  },\r\n  loanDetailValue: {\r\n    fontSize: 14,\r\n    color: '#555',\r\n    marginTop: 4,\r\n    fontWeight: '500',\r\n  },\r\n  loanDetailValueMobile: {\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n  },\r\n\r\n  // Loan History Section\r\n  loanHistorySection: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 16,\r\n    marginBottom: 8,\r\n  },\r\n  loanHistorySectionMobile: {\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    gap: 8,\r\n  },\r\n\r\n  // View Button\r\n  viewBtn: {\r\n    backgroundColor: '#e9ecef',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 8,\r\n    borderRadius: 6,\r\n    alignSelf: 'flex-start',\r\n    minHeight: 36,\r\n    justifyContent: 'center',\r\n  },\r\n  viewBtnMobile: {\r\n    paddingHorizontal: 24,\r\n    paddingVertical: 14,\r\n    minHeight: 48,\r\n    alignSelf: 'stretch',\r\n    backgroundColor: '#0066ff',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: 8,\r\n  },\r\n  viewBtnText: {\r\n    fontSize: 14,\r\n    color: '#333',\r\n    fontWeight: '500',\r\n  },\r\n  viewBtnTextMobile: {\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n\r\n  // Section Titles\r\n  sectionTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  subTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n\r\n  // Details Container\r\n  detailsContainerMobile: {\r\n    padding: 12,\r\n    marginBottom: 12,\r\n  },\r\n\r\n  // Credit Box\r\n  creditBoxMobile: {\r\n    padding: 12,\r\n    marginTop: 12,\r\n  },\r\n  creditScoreMobile: {\r\n    fontSize: 28,\r\n    marginBottom: 6,\r\n  },\r\n  riskCategoryMobile: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  recommendationMobile: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n\r\n  // Action Buttons\r\n  actionRowMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n    marginTop: 16,\r\n  },\r\n  backBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  editBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n    backgroundColor: '#6c757d',\r\n  },\r\n  declineBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  approveBtnMobile: {\r\n    width: '100%',\r\n    paddingVertical: 12,\r\n    minHeight: 48,\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  buttonTextWhite: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  buttonTextWhiteMobile: {\r\n    fontSize: 16,\r\n  },\r\n\r\n  // Error Text\r\n  errorTextMobile: {\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n    minHeight: 48,\r\n  },\r\n  saveBtn: {\r\n    backgroundColor: '#007bff',\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n  },\r\n  saveBtnMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  modalButtonText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  modalButtonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  modalButtonTextWhite: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  modalButtonTextWhiteMobile: {\r\n    fontSize: 16,\r\n  },\r\n  documentButton: {\r\n    backgroundColor: '#ffffff',\r\n    padding: Platform.select({ web: 16, default: 14 }),\r\n    borderRadius: 8,\r\n    marginBottom: 12,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    elevation: 1,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n  },\r\n  documentButtonText: {\r\n    fontSize: Platform.select({ web: 16, default: 15 }),\r\n    color: '#333',\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  closeButton: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 16, default: 14 }),\r\n    borderRadius: 8,\r\n    marginTop: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#dee2e6',\r\n  },\r\n  closeButtonText: {\r\n    color: '#333',\r\n    fontSize: Platform.select({ web: 16, default: 15 }),\r\n    fontWeight: '500',\r\n    textAlign: 'center',\r\n  },\r\n  errorText: {\r\n    color: '#e74c3c',\r\n    marginBottom: 10,\r\n  },\r\n  successMessage: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    right: 20,\r\n    backgroundColor: '#2ecc71',\r\n    padding: 10,\r\n    borderRadius: 6,\r\n  },\r\n  successText: {\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n  },\r\n  errorMessage: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    right: 20,\r\n    backgroundColor: '#e74c3c',\r\n    padding: 10,\r\n    borderRadius: 6,\r\n  },\r\n  container: {\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1\r\n  },\r\n  topbar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#ddd',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    alignItems: 'center',\r\n  },\r\n  topbarMobile: {\r\n    padding: 12,\r\n  },\r\n  logo: {\r\n    fontSize: Platform.select({ web: 22, default: 20 }),\r\n    fontWeight: 'bold'\r\n  },\r\n  logoMobile: {\r\n    fontSize: 18,\r\n  },\r\n  role: {\r\n    fontSize: Platform.select({ web: 14, default: 12 })\r\n  },\r\n  roleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  content: {\r\n    flexDirection: 'row',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    flexWrap: Platform.select({ web: 'nowrap', default: 'wrap' })\r\n  },\r\n  contentMobile: {\r\n    flexDirection: 'column',\r\n    padding: 12,\r\n    gap: 0,\r\n  },\r\n  left: {\r\n    flex: Platform.select({ web: 1.1, default: 1 }),\r\n    paddingRight: Platform.select({ web: 20, default: 0 }),\r\n    borderRightWidth: Platform.select({ web: 1, default: 0 }),\r\n    borderColor: '#ccc',\r\n    minWidth: Platform.select({ web: 300, default: '100%' }),\r\n    marginBottom: Platform.select({ web: 0, default: 0 })\r\n  },\r\n  leftMobile: {\r\n    width: '100%',\r\n    paddingRight: 0,\r\n    borderRightWidth: 0,\r\n    marginBottom: 0,\r\n  },\r\n  right: {\r\n    flex: Platform.select({ web: 1.3, default: 1 }),\r\n    paddingLeft: Platform.select({ web: 20, default: 0 }),\r\n    minWidth: Platform.select({ web: 300, default: '100%' })\r\n  },\r\n  rightMobile: {\r\n    width: '100%',\r\n    paddingLeft: 0,\r\n    marginTop: 0,\r\n  },\r\n  detailsContainer: {\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    marginBottom: 16,\r\n    width: '100%',\r\n    alignSelf: 'stretch',\r\n  },\r\n  sectionTitle: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    marginBottom: 10,\r\n  },\r\n  subTitle: {\r\n    fontWeight: 'bold',\r\n    marginTop: 10,\r\n    marginBottom: 6,\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  documentRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#eaeaea',\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 8,\r\n    marginBottom: 4,\r\n    borderRadius: 4,\r\n  },\r\n  docText: {\r\n    fontSize: 13,\r\n    color: '#333',\r\n  },\r\n  viewBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingHorizontal: 32,\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    minWidth: 120,\r\n    justifyContent: 'center',\r\n  },\r\n  creditBox: {\r\n    backgroundColor: '#f8f9fa',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    marginTop: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n  },\r\n  creditScore: {\r\n    fontSize: 32,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 8,\r\n  },\r\n  loanBox: {\r\n    backgroundColor: '#f0f0f0',\r\n    padding: 12,\r\n    marginTop: 20,\r\n    borderRadius: 8,\r\n  },\r\n  actionRow: {\r\n    flexDirection: 'row',\r\n    gap: Platform.select({ web: 12, default: 8 }),\r\n    marginTop: 20,\r\n    flexWrap: 'wrap',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n  },\r\n  actionRowMobile: {\r\n    justifyContent: 'space-between',\r\n    gap: 8,\r\n    flexDirection: Platform.select({ web: 'row', default: 'column' }),\r\n  },\r\n  btnMobile: {\r\n    width: '100%',\r\n    marginVertical: 4,\r\n    paddingVertical: 12,\r\n    alignItems: 'center',\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#ddd',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  editBtn: {\r\n    backgroundColor: '#bbb',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  declineBtn: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n  approveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 8, default: 6 }),\r\n    paddingHorizontal: Platform.select({ web: 16, default: 12 }),\r\n    borderRadius: 6,\r\n  },\r\n});\r\n","import React, { useState, useRef, useContext, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform, useWindowDimensions, Alert } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\n\r\n// Import CSS for signature canvas enhancement (web only)\r\nif (Platform.OS === 'web') {\r\n  require('./signature-styles.css');\r\n}\r\n\r\n// Import signature canvas based on platform\r\nlet SignatureCanvas;\r\nif (Platform.OS === 'web') {\r\n  SignatureCanvas = require('react-signature-canvas').default;\r\n} else {\r\n  SignatureCanvas = require('react-native-signature-canvas').default;\r\n}\r\n\r\nexport default function SignatureAgreementScreen({ navigation, route }) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const signatureRef = useRef();\r\n  const [signature, setSignature] = useState('');\r\n  const [isSignatureCaptured, setIsSignatureCaptured] = useState(false);\r\n  const { currentUser } = useContext(AuthContext);\r\n  \r\n  const { client, loanData } = route.params;\r\n\r\n\r\n  const handleSignature = (signature) => {\r\n    console.log('Signature captured');\r\n    setSignature(signature);\r\n    setIsSignatureCaptured(true);\r\n  };\r\n\r\n  const handleEmpty = () => {\r\n    console.log('Signature is empty');\r\n    Alert.alert('Empty Signature', 'Please provide a signature before proceeding.');\r\n  };\r\n\r\n  const handleClear = () => {\r\n    console.log('Clearing signature');\r\n    if (Platform.OS === 'web') {\r\n      signatureRef.current.clear();\r\n    } else {\r\n      signatureRef.current.clearSignature();\r\n    }\r\n    setSignature('');\r\n    setIsSignatureCaptured(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (Platform.OS === 'web') {\r\n      const signatureData = signatureRef.current.toDataURL();\r\n      handleSignature(signatureData);\r\n    } else {\r\n      // For mobile, this will be handled by the canvas onOK callback\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    if (!isSignatureCaptured) {\r\n      Alert.alert('No Signature', 'Please provide a signature before proceeding.');\r\n      return;\r\n    }\r\n    \r\n    // Navigate to preview screen with signature data\r\n    navigation.navigate('SignedAgreementPreview', {\r\n      client,\r\n      loanData,\r\n      signature,\r\n      signerName: currentUser?.username || 'Operations Manager'\r\n    });\r\n  };\r\n\r\n  // Web-specific signature canvas styles - simplified for proper sizing\r\n  const canvasStyle = {\r\n    border: 'none', // Remove border since container has border\r\n    borderRadius: '6px',\r\n    backgroundColor: '#fff',\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'block'\r\n  };\r\n\r\n  // Canvas properties - let it fill container naturally\r\n  const canvasProps = {\r\n    style: canvasStyle,\r\n    className: 'signature-canvas'\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text style={styles.backText}>← Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya - Agreement Signature\r\n          </Text>\r\n          <Text style={[styles.subtitle, isMobile && styles.subtitleMobile]}>\r\n            Client: {client.name} | Amount: ₱{loanData?.approvedAmount?.toLocaleString() || '0'}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Agreement Summary */}\r\n      <View style={[styles.agreementSummary, isMobile && styles.agreementSummaryMobile]}>\r\n        <Text style={[styles.summaryTitle, isMobile && styles.summaryTitleMobile]}>\r\n          Loan Agreement Summary\r\n        </Text>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Client Name:</Text>\r\n          <Text style={styles.summaryValue}>{client.name}</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Loan Amount:</Text>\r\n          <Text style={styles.summaryValue}>₱{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Interest Rate:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.interestRate || '5.0'}%</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Term:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.term || 'N/A'} months</Text>\r\n        </View>\r\n        <View style={styles.summaryRow}>\r\n          <Text style={styles.summaryLabel}>Repayment Method:</Text>\r\n          <Text style={styles.summaryValue}>{loanData?.repaymentMethod || 'Monthly'}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Signature Instructions */}\r\n      <View style={[styles.instructionsContainer, isMobile && styles.instructionsContainerMobile]}>\r\n        <Text style={[styles.instructionsTitle, isMobile && styles.instructionsTitleMobile]}>\r\n          Digital Signature Required\r\n        </Text>\r\n        <Text style={[styles.instructionsText, isMobile && styles.instructionsTextMobile]}>\r\n          As the Operations Manager, please sign below to approve this loan agreement. \r\n          Your signature will be embedded in the promissory note document.\r\n        </Text>\r\n      </View>\r\n\r\n      {/* Signature Canvas */}\r\n      <View style={[styles.signatureContainer, isMobile && styles.signatureContainerMobile]}>\r\n        <Text style={[styles.signatureLabel, isMobile && styles.signatureLabelMobile]}>\r\n          Operations Manager Signature:\r\n        </Text>\r\n        <View style={[styles.signatureCanvas, isMobile && styles.signatureCanvasMobile]}>\r\n          {Platform.OS === 'web' ? (\r\n            <div style={{ width: '100%', height: '100%', position: 'relative' }}>\r\n              <SignatureCanvas\r\n                ref={signatureRef}\r\n                canvasProps={canvasProps}\r\n                penColor=\"#000000\"\r\n                backgroundColor=\"#ffffff\"\r\n                dotSize={1.5}\r\n                minWidth={0.8}\r\n                maxWidth={2.5}\r\n                throttle={12}\r\n                velocityFilterWeight={0.8}\r\n                onEnd={() => {\r\n                  // Don't auto-capture to prevent clearing\r\n                  // User will need to manually capture like mobile\r\n                }}\r\n              />\r\n              {/* Manual capture button for web */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                bottom: '10px',\r\n                right: '10px'\r\n              }}>\r\n                <button\r\n                  onClick={() => {\r\n                    if (signatureRef.current && !signatureRef.current.isEmpty()) {\r\n                      // Capture at native canvas resolution for best quality\r\n                      const signatureData = signatureRef.current.toDataURL('image/png');\r\n                      handleSignature(signatureData);\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    backgroundColor: '#2ecc71',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    padding: '6px 12px',\r\n                    fontSize: '12px',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  Save\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <SignatureCanvas\r\n              ref={signatureRef}\r\n              onOK={handleSignature}\r\n              onEmpty={handleEmpty}\r\n              descriptionText=\"\"\r\n              clearText=\"Clear\"\r\n              confirmText=\"Save\"\r\n              autoClear={false}\r\n              imageType=\"image/png\"\r\n              penColor=\"#000000\"\r\n              backgroundColor=\"#ffffff\"\r\n              minWidth={1}\r\n              maxWidth={3}\r\n              webStyle={`\r\n                .m-signature-pad {\r\n                  position: relative;\r\n                  font-size: 10px;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  border: 2px solid #ddd;\r\n                  border-radius: 8px;\r\n                  background-color: #fff;\r\n                }\r\n                .m-signature-pad--body {\r\n                  position: relative;\r\n                  overflow: hidden;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                }\r\n                .m-signature-pad--body canvas {\r\n                  position: relative;\r\n                  left: 0;\r\n                  top: 0;\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  touch-action: none;\r\n                  background-color: #fff;\r\n                }\r\n                .m-signature-pad--footer {\r\n                  position: absolute;\r\n                  left: 20px;\r\n                  right: 20px;\r\n                  bottom: 20px;\r\n                  height: 40px;\r\n                }\r\n                .m-signature-pad--footer .clear,\r\n                .m-signature-pad--footer .save {\r\n                  float: left;\r\n                  margin: 0 5px 5px 0;\r\n                  background: #0066ff;\r\n                  color: #fff;\r\n                  border: none;\r\n                  border-radius: 4px;\r\n                  padding: 8px 12px;\r\n                  cursor: pointer;\r\n                  font-size: 12px;\r\n                }\r\n                .m-signature-pad--footer .clear {\r\n                  background: #e74c3c;\r\n                }\r\n              `}\r\n            />\r\n          )}\r\n        </View>\r\n        \r\n        {/* Signature Status */}\r\n        {isSignatureCaptured && (\r\n          <Text style={[styles.signatureStatus, isMobile && styles.signatureStatusMobile]}>\r\n            ✓ Signature captured successfully\r\n          </Text>\r\n        )}\r\n      </View>\r\n\r\n      {/* Action Buttons */}\r\n      <View style={[styles.actionButtons, isMobile && styles.actionButtonsMobile]}>\r\n        <TouchableOpacity\r\n          style={[styles.clearButton, isMobile && styles.buttonMobile]}\r\n          onPress={handleClear}\r\n        >\r\n          <Text style={[styles.clearButtonText, isMobile && styles.buttonTextMobile]}>\r\n            Clear Signature\r\n          </Text>\r\n        </TouchableOpacity>\r\n\r\n        \r\n        <TouchableOpacity\r\n          style={[\r\n            styles.confirmButton,\r\n            isMobile && styles.buttonMobile,\r\n            !isSignatureCaptured && styles.disabledButton\r\n          ]}\r\n          onPress={handleConfirm}\r\n          disabled={!isSignatureCaptured}\r\n        >\r\n          <Text style={[\r\n            styles.confirmButtonText,\r\n            isMobile && styles.buttonTextMobile,\r\n            !isSignatureCaptured && styles.disabledButtonText\r\n          ]}>\r\n            Preview Agreement\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#e0e0e0',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  headerMobile: {\r\n    padding: 12,\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n  },\r\n  backBtn: {\r\n    marginRight: Platform.select({ web: 20, default: 12 }),\r\n    padding: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  backText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: 4,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 16,\r\n    marginTop: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n  },\r\n  subtitleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  agreementSummary: {\r\n    backgroundColor: '#fff',\r\n    margin: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  agreementSummaryMobile: {\r\n    margin: 12,\r\n    padding: 12,\r\n  },\r\n  summaryTitle: {\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    color: '#333',\r\n  },\r\n  summaryTitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 10,\r\n  },\r\n  summaryRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  summaryLabel: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#666',\r\n    fontWeight: '500',\r\n  },\r\n  summaryValue: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#333',\r\n    fontWeight: '600',\r\n  },\r\n  instructionsContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    borderLeftWidth: 4,\r\n    borderLeftColor: '#0066ff',\r\n  },\r\n  instructionsContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  instructionsTitle: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#0066ff',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  instructionsTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n  instructionsText: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#555',\r\n    lineHeight: Platform.select({ web: 20, default: 18 }),\r\n  },\r\n  instructionsTextMobile: {\r\n    fontSize: 12,\r\n    lineHeight: 16,\r\n  },\r\n  signatureContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  signatureContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  signatureLabel: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: Platform.select({ web: 12, default: 8 }),\r\n  },\r\n  signatureLabelMobile: {\r\n    fontSize: 14,\r\n  },\r\n  signatureCanvas: {\r\n    height: Platform.select({ web: 300, default: 200 }),\r\n    borderWidth: 2,\r\n    borderColor: '#ddd',\r\n    borderRadius: 8,\r\n    backgroundColor: '#fff',\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  signatureCanvasMobile: {\r\n    height: 180,\r\n  },\r\n  signatureStatus: {\r\n    marginTop: Platform.select({ web: 12, default: 8 }),\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#2ecc71',\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  signatureStatusMobile: {\r\n    fontSize: 12,\r\n  },\r\n  actionButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    paddingBottom: Platform.select({ web: 20, default: 16 }),\r\n    gap: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  actionButtonsMobile: {\r\n    flexDirection: 'column',\r\n    paddingHorizontal: 12,\r\n    gap: 10,\r\n  },\r\n  clearButton: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  saveButton: {\r\n    backgroundColor: '#3498db',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  confirmButton: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  disabledButton: {\r\n    backgroundColor: '#bdc3c7',\r\n  },\r\n  buttonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  clearButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  saveButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  confirmButtonText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  disabledButtonText: {\r\n    color: '#95a5a6',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n});","import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Platform, useWindowDimensions, ActivityIndicator, Alert } from 'react-native';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { clientAPI, API_BASE_URL } from '../../services/api';\r\n\r\nexport default function SignedAgreementPreview({ navigation, route }) {\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < 768;\r\n  const [loading, setLoading] = useState(false);\r\n  const [pdfUrl, setPdfUrl] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { updateLoan } = useLoan();\r\n  \r\n  const { client, loanData, signature, signerName } = route.params;\r\n\r\n  useEffect(() => {\r\n    generatePdfPreview();\r\n  }, []);\r\n\r\n  const generatePdfPreview = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      // Create the promissory note with signature\r\n      const response = await fetch(`${API_BASE_URL}/generate-promissory-note`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          clientData: {\r\n            name: client.name,\r\n            address: client.address,\r\n            cid: client.cid\r\n          },\r\n          loanData: {\r\n            approvedAmount: loanData?.approvedAmount || 0,\r\n            interestRate: loanData?.interestRate || 5.0,\r\n            term: loanData?.term || 12,\r\n            repaymentMethod: loanData?.repaymentMethod || 'Monthly'\r\n          },\r\n          signature: signature,\r\n          signerName: signerName || currentUser?.username || 'Operations Manager'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate PDF');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      setPdfUrl(url);\r\n      \r\n    } catch (err) {\r\n      console.error('Error generating PDF:', err);\r\n      setError('Failed to generate PDF preview. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const processApproval = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      console.log('Starting loan approval process...');\r\n      console.log('Client CID:', client.cid);\r\n      console.log('Loan Data:', loanData);\r\n      console.log('Signature present:', !!signature);\r\n      console.log('Signer name:', signerName);\r\n      \r\n      // First check if API is accessible\r\n      const healthCheck = await fetch(`${API_BASE_URL}/clients`);\r\n      if (!healthCheck.ok) {\r\n        throw new Error('API server is not responding properly');\r\n      }\r\n\r\n      console.log('API health check passed');\r\n\r\n      // Process the loan approval with signature\r\n      const { documents, ...clientWithoutDocuments } = client;\r\n      const approvalData = {\r\n        approvedAmount: loanData?.approvedAmount,\r\n        signature: signature,\r\n        signerName: signerName || currentUser?.username || 'Operations Manager',\r\n        ...clientWithoutDocuments\r\n      };\r\n\r\n      console.log('Sending approval data to API...');\r\n\r\n      const result = await clientAPI.processLoanDecision(client.cid, 'approved', approvalData);\r\n\r\n      console.log('API Response:', result);\r\n      \r\n      // Update local state\r\n      console.log('Updating local state...');\r\n      await updateLoan(client.cid, {\r\n        status: 'Approved',\r\n        decidedAt: new Date().toISOString(),\r\n        approvedAmount: loanData?.approvedAmount,\r\n        signedBy: signerName || currentUser?.username || 'Operations Manager',\r\n        signedAt: new Date().toISOString()\r\n      });\r\n\r\n      console.log('Local state updated successfully');\r\n\r\n      // Stop loading before showing success alert\r\n      setLoading(false);\r\n\r\n      console.log('About to show success alert...');\r\n\r\n      // Use custom modal instead of Alert for better web compatibility\r\n      setTimeout(() => {\r\n        console.log('Showing success dialog now...');\r\n        setShowSuccessDialog(true);\r\n      }, 100);\r\n\r\n    } catch (err) {\r\n      console.error('Error approving loan:', err);\r\n      setLoading(false);\r\n      setError(err.message || 'Failed to approve loan');\r\n      \r\n      // Show error alert\r\n      Alert.alert(\r\n        'Error',\r\n        err.message || 'Failed to approve loan. Please try again.',\r\n        [{ text: 'OK' }]\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleApprove = () => {\r\n    console.log('handleApprove called');\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirmApproval = () => {\r\n    console.log('User confirmed approval');\r\n    setShowConfirmDialog(false);\r\n    console.log('About to start processApproval...');\r\n    processApproval();\r\n  };\r\n\r\n  const handleCancelApproval = () => {\r\n    console.log('User cancelled approval');\r\n    setShowConfirmDialog(false);\r\n  };\r\n\r\n  const handleSuccessOK = () => {\r\n    console.log('Success dialog OK button pressed');\r\n    console.log('Navigating back to OpsPendingList...');\r\n    setShowSuccessDialog(false);\r\n    \r\n    // Navigate back to pending list with multiple fallback methods\r\n    try {\r\n      console.log('Attempting navigation reset...');\r\n      navigation.reset({\r\n        index: 0,\r\n        routes: [{ name: 'OpsPendingList' }],\r\n      });\r\n      console.log('Navigation reset successful');\r\n    } catch (err) {\r\n      console.error('Reset navigation failed, trying replace:', err);\r\n      try {\r\n        navigation.replace('OpsPendingList');\r\n        console.log('Navigation replace successful');\r\n      } catch (err2) {\r\n        console.error('Replace navigation failed, trying navigate:', err2);\r\n        navigation.navigate('OpsPendingList');\r\n        console.log('Navigation navigate attempted');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (pdfUrl) {\r\n      URL.revokeObjectURL(pdfUrl);\r\n    }\r\n    navigation.goBack();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={[styles.loadingText, isMobile && styles.loadingTextMobile]}>\r\n          {pdfUrl ? 'Processing loan approval...' : 'Generating PDF preview...'}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={[styles.header, isMobile && styles.headerMobile]}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={handleBack}\r\n        >\r\n          <Text style={styles.backText}>← Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n            <Text style={{ color: '#0066ff' }}>Loan</Text>Siya - Agreement Preview\r\n          </Text>\r\n          <Text style={[styles.subtitle, isMobile && styles.subtitleMobile]}>\r\n            Review and approve the signed loan agreement\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Agreement Details */}\r\n      <View style={[styles.agreementDetails, isMobile && styles.agreementDetailsMobile]}>\r\n        <Text style={[styles.detailsTitle, isMobile && styles.detailsTitleMobile]}>\r\n          Agreement Summary\r\n        </Text>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Client:</Text>\r\n          <Text style={styles.detailValue}>{client.name}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Amount:</Text>\r\n          <Text style={styles.detailValue}>₱{loanData?.approvedAmount?.toLocaleString() || '0'}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Signed By:</Text>\r\n          <Text style={styles.detailValue}>{signerName || currentUser?.username || 'Operations Manager'}</Text>\r\n        </View>\r\n        <View style={styles.detailRow}>\r\n          <Text style={styles.detailLabel}>Date:</Text>\r\n          <Text style={styles.detailValue}>{new Date().toLocaleDateString()}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* PDF Preview */}\r\n      <View style={[styles.pdfContainer, isMobile && styles.pdfContainerMobile]}>\r\n        <Text style={[styles.pdfTitle, isMobile && styles.pdfTitleMobile]}>\r\n          Signed Promissory Note Preview\r\n        </Text>\r\n        \r\n        {error ? (\r\n          <View style={styles.errorContainer}>\r\n            <Text style={[styles.errorText, isMobile && styles.errorTextMobile]}>{error}</Text>\r\n            <TouchableOpacity\r\n              style={styles.retryBtn}\r\n              onPress={generatePdfPreview}\r\n            >\r\n              <Text style={styles.retryText}>Retry</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        ) : pdfUrl ? (\r\n          <View style={[styles.pdfPreview, isMobile && styles.pdfPreviewMobile]}>\r\n            {Platform.OS === 'web' ? (\r\n              isMobile ? (\r\n                // Mobile web - show open in new tab option\r\n                <View style={styles.mobilePdfContainer}>\r\n                  <Text style={styles.mobilePdfText}>✓ PDF Generated Successfully</Text>\r\n                  <Text style={styles.mobilePdfSubtext}>\r\n                    Due to mobile browser limitations, please click below to view the signed agreement in a new tab.\r\n                  </Text>\r\n                  <TouchableOpacity\r\n                    style={styles.viewPdfBtn}\r\n                    onPress={() => window.open(pdfUrl, '_blank')}\r\n                  >\r\n                    <Text style={styles.viewPdfText}>Open Signed Agreement</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ) : (\r\n                // Desktop web - show iframe\r\n                <iframe\r\n                  src={pdfUrl}\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    border: 'none',\r\n                    borderRadius: '8px'\r\n                  }}\r\n                  title=\"Signed Agreement Preview\"\r\n                />\r\n              )\r\n            ) : (\r\n              <View style={styles.pdfPlaceholder}>\r\n                <Text style={styles.pdfPlaceholderText}>PDF Preview Available</Text>\r\n                <TouchableOpacity\r\n                  style={styles.viewPdfBtn}\r\n                  onPress={() => {\r\n                    if (Platform.OS === 'web') {\r\n                      window.open(pdfUrl, '_blank');\r\n                    }\r\n                  }}\r\n                >\r\n                  <Text style={styles.viewPdfText}>View PDF</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          </View>\r\n        ) : (\r\n          <View style={styles.pdfPlaceholder}>\r\n            <Text style={styles.pdfPlaceholderText}>Loading PDF preview...</Text>\r\n          </View>\r\n        )}\r\n      </View>\r\n\r\n      {/* Action Buttons */}\r\n      <View style={[styles.actionButtons, isMobile && styles.actionButtonsMobile]}>\r\n        <TouchableOpacity\r\n          style={[styles.backToSignBtn, isMobile && styles.buttonMobile]}\r\n          onPress={handleBack}\r\n        >\r\n          <Text style={[styles.backToSignText, isMobile && styles.buttonTextMobile]}>\r\n            Back to Signature\r\n          </Text>\r\n        </TouchableOpacity>\r\n        \r\n        <TouchableOpacity\r\n          style={[styles.approveBtn, isMobile && styles.buttonMobile]}\r\n          onPress={handleApprove}\r\n          disabled={loading || !pdfUrl}\r\n        >\r\n          <Text style={[styles.approveText, isMobile && styles.buttonTextMobile]}>\r\n            Approve & Complete\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Confirmation Dialog */}\r\n      {showConfirmDialog && (\r\n        <View style={styles.confirmOverlay}>\r\n          <View style={[styles.confirmDialog, isMobile && styles.confirmDialogMobile]}>\r\n            <Text style={[styles.confirmTitle, isMobile && styles.confirmTitleMobile]}>\r\n              Confirm Approval\r\n            </Text>\r\n            <Text style={[styles.confirmMessage, isMobile && styles.confirmMessageMobile]}>\r\n              This will approve the loan and generate the signed agreement. This action cannot be undone.\r\n            </Text>\r\n            <View style={[styles.confirmButtons, isMobile && styles.confirmButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.confirmCancelBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleCancelApproval}\r\n              >\r\n                <Text style={styles.confirmCancelText}>Cancel</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.confirmApproveBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleConfirmApproval}\r\n              >\r\n                <Text style={styles.confirmApproveText}>Approve</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n      {/* Success Dialog */}\r\n      {showSuccessDialog && (\r\n        <View style={styles.confirmOverlay}>\r\n          <View style={[styles.confirmDialog, isMobile && styles.confirmDialogMobile]}>\r\n            <Text style={[styles.successTitle, isMobile && styles.confirmTitleMobile]}>\r\n              Success\r\n            </Text>\r\n            <Text style={[styles.confirmMessage, isMobile && styles.confirmMessageMobile]}>\r\n              Loan has been approved and signed agreement has been generated.\r\n            </Text>\r\n            <View style={[styles.confirmButtons, isMobile && styles.confirmButtonsMobile]}>\r\n              <TouchableOpacity\r\n                style={[styles.successOkBtn, isMobile && styles.confirmButtonMobile]}\r\n                onPress={handleSuccessOK}\r\n              >\r\n                <Text style={styles.confirmApproveText}>OK</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#e0e0e0',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  headerMobile: {\r\n    padding: 12,\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n  },\r\n  backBtn: {\r\n    marginRight: Platform.select({ web: 20, default: 12 }),\r\n    padding: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  backText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#0066ff',\r\n    fontWeight: '500',\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    fontSize: Platform.select({ web: 22, default: 18 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: 4,\r\n  },\r\n  titleMobile: {\r\n    fontSize: 16,\r\n    marginTop: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: Platform.select({ web: 14, default: 12 }),\r\n    color: '#666',\r\n  },\r\n  subtitleMobile: {\r\n    fontSize: 12,\r\n  },\r\n  agreementDetails: {\r\n    backgroundColor: '#fff',\r\n    margin: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n  },\r\n  agreementDetailsMobile: {\r\n    margin: 12,\r\n    padding: 12,\r\n  },\r\n  detailsTitle: {\r\n    fontSize: Platform.select({ web: 18, default: 16 }),\r\n    fontWeight: 'bold',\r\n    marginBottom: Platform.select({ web: 16, default: 12 }),\r\n    color: '#333',\r\n  },\r\n  detailsTitleMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 10,\r\n  },\r\n  detailRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginBottom: Platform.select({ web: 8, default: 6 }),\r\n  },\r\n  detailLabel: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#666',\r\n    fontWeight: '500',\r\n  },\r\n  detailValue: {\r\n    fontSize: Platform.select({ web: 14, default: 13 }),\r\n    color: '#333',\r\n    fontWeight: '600',\r\n  },\r\n  pdfContainer: {\r\n    backgroundColor: '#fff',\r\n    marginHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    marginBottom: Platform.select({ web: 20, default: 16 }),\r\n    padding: Platform.select({ web: 20, default: 16 }),\r\n    borderRadius: 8,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 2,\r\n    elevation: 2,\r\n    flex: 1,\r\n  },\r\n  pdfContainerMobile: {\r\n    marginHorizontal: 12,\r\n    marginBottom: 12,\r\n    padding: 12,\r\n  },\r\n  pdfTitle: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: Platform.select({ web: 12, default: 8 }),\r\n  },\r\n  pdfTitleMobile: {\r\n    fontSize: 14,\r\n  },\r\n  pdfPreview: {\r\n    flex: 1,\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    overflow: 'hidden',\r\n  },\r\n  pdfPreviewMobile: {\r\n    minHeight: 300,\r\n  },\r\n  pdfPlaceholder: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    minHeight: Platform.select({ web: 400, default: 200 }),\r\n  },\r\n  pdfPlaceholderText: {\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n    marginBottom: 12,\r\n  },\r\n  mobilePdfContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    padding: 20,\r\n    minHeight: 300,\r\n  },\r\n  mobilePdfText: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  mobilePdfSubtext: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    lineHeight: 20,\r\n  },\r\n  viewPdfBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 8,\r\n    minHeight: 44,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  viewPdfText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  errorContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#e0e0e0',\r\n    minHeight: Platform.select({ web: 400, default: 200 }),\r\n  },\r\n  errorText: {\r\n    color: '#e74c3c',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  errorTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#e74c3c',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  loadingText: {\r\n    marginTop: 12,\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n  loadingTextMobile: {\r\n    fontSize: 14,\r\n  },\r\n  actionButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: Platform.select({ web: 20, default: 16 }),\r\n    paddingBottom: Platform.select({ web: 20, default: 16 }),\r\n    gap: Platform.select({ web: 16, default: 12 }),\r\n  },\r\n  actionButtonsMobile: {\r\n    flexDirection: 'column',\r\n    paddingHorizontal: 12,\r\n    gap: 10,\r\n  },\r\n  backToSignBtn: {\r\n    backgroundColor: '#6c757d',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  approveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: Platform.select({ web: 12, default: 10 }),\r\n    paddingHorizontal: Platform.select({ web: 24, default: 20 }),\r\n    borderRadius: 8,\r\n    flex: Platform.select({ web: 1, default: 0 }),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: Platform.select({ web: 44, default: 48 }),\r\n  },\r\n  buttonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  backToSignText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  approveText: {\r\n    color: '#fff',\r\n    fontSize: Platform.select({ web: 16, default: 14 }),\r\n    fontWeight: '600',\r\n  },\r\n  buttonTextMobile: {\r\n    fontSize: 16,\r\n  },\r\n  confirmOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  confirmDialog: {\r\n    backgroundColor: '#fff',\r\n    padding: 24,\r\n    borderRadius: 12,\r\n    width: '80%',\r\n    maxWidth: 400,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 8,\r\n    elevation: 8,\r\n  },\r\n  confirmDialogMobile: {\r\n    width: '90%',\r\n    padding: 20,\r\n  },\r\n  confirmTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  confirmTitleMobile: {\r\n    fontSize: 16,\r\n  },\r\n  confirmMessage: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    lineHeight: 20,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  confirmMessageMobile: {\r\n    fontSize: 14,\r\n    marginBottom: 16,\r\n  },\r\n  confirmButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    gap: 12,\r\n  },\r\n  confirmButtonsMobile: {\r\n    flexDirection: 'column',\r\n    gap: 10,\r\n  },\r\n  confirmCancelBtn: {\r\n    backgroundColor: '#6c757d',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n  confirmApproveBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n  confirmButtonMobile: {\r\n    width: '100%',\r\n    minHeight: 48,\r\n  },\r\n  confirmCancelText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  confirmApproveText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  successTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#2ecc71',\r\n    marginBottom: 12,\r\n    textAlign: 'center',\r\n  },\r\n  successOkBtn: {\r\n    backgroundColor: '#2ecc71',\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n    borderRadius: 8,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 44,\r\n  },\r\n});","import React, { useEffect, useState } from 'react';\r\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\n\r\nexport default function LoanOfficerNotifications({ navigation }) {\r\n  const { notifications, markNotificationsAsRead, loans, refreshClientData } = useLoan();\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Mark notifications as read when screen is opened\r\n    markNotificationsAsRead();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      console.log('LoanOfficerNotifications focused - refreshing data');\r\n      setIsRefreshing(true);\r\n      \r\n      // Refresh all loans to get latest status\r\n      Promise.all(loans.map(loan => refreshClientData(loan.cid)))\r\n        .catch(err => console.error('Error refreshing client data:', err))\r\n        .finally(() => setIsRefreshing(false));\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation, loans]);\r\n  const renderItem = ({ item }) => {\r\n    const isApproved = item.status === 'Approved';\r\n    \r\n    return (\r\n      <View style={styles.item}>\r\n        {item.type === 'status_change' ? (\r\n          <>\r\n            <Text style={[styles.icon, { color: isApproved ? 'green' : 'red' }]}>\r\n              {isApproved ? '✅' : '❌'}\r\n            </Text>\r\n            <Text style={styles.message}>\r\n              CID <Text style={styles.bold}>{item.cid}</Text> LOAN REQUEST HAS BEEN{' '}\r\n              <Text style={[styles.status, { color: isApproved ? 'green' : 'red' }]}>\r\n                {item.status.toUpperCase()}\r\n              </Text>{' '}\r\n              BY THE OPERATIONAL MANAGER\r\n            </Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Text style={[styles.icon, { color: '#007bff' }]}>💰</Text>\r\n            <Text style={styles.message}>\r\n              Loan amount for client{' '}\r\n              <Text style={styles.bold}>{item.clientName}</Text> (CID: {item.cid})\r\n              has been updated to{' '}\r\n              <Text style={styles.bold}>₱{item.amount.toLocaleString()}</Text>\r\n            </Text>\r\n          </>\r\n        )}\r\n        <Text style={styles.timestamp}>\r\n          {new Date(item.timestamp).toLocaleString()}\r\n        </Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Top Header with Dashboard Button */}\r\n      <View style={styles.headerRow}>\r\n        <Text style={styles.header}>Hello Loan Officer!</Text>\r\n        <TouchableOpacity\r\n          style={styles.dashboardBtn}\r\n          onPress={() => navigation.navigate('LoanOfficerDashboard')}\r\n        >\r\n          <Text style={styles.btnText}>Go to Dashboard</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Section Title */}\r\n      <Text style={styles.subHeader}>Notifications</Text>\r\n\r\n      {/* Notification List */}\r\n      {isRefreshing && (\r\n        <View style={styles.refreshingContainer}>\r\n          <Text style={styles.refreshingText}>Refreshing...</Text>\r\n        </View>\r\n      )}\r\n      <FlatList\r\n        data={notifications}\r\n        keyExtractor={(item) => item.id.toString()}\r\n        renderItem={renderItem}\r\n        ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: 24,\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  header: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 14,\r\n    borderRadius: 6,\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: 14,\r\n  },\r\n  subHeader: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    marginBottom: 16,\r\n  },\r\n  item: {\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    paddingVertical: 6,\r\n  },\r\n  icon: {\r\n    fontSize: 18,\r\n    marginRight: 10,\r\n    marginTop: 2,\r\n  },\r\n  message: {\r\n    flex: 1,\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  status: {\r\n    fontWeight: 'bold',\r\n    textTransform: 'uppercase',\r\n  },\r\n  separator: {\r\n    borderBottomWidth: 1,\r\n    borderColor: '#ccc',\r\n    marginVertical: 6,\r\n  },\r\n  timestamp: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4,\r\n    fontStyle: 'italic'\r\n  },\r\n  refreshingContainer: {\r\n    padding: 10,\r\n    backgroundColor: '#f0f0f0',\r\n    alignItems: 'center',\r\n  },\r\n  refreshingText: {\r\n    color: '#666',\r\n    fontSize: 14,\r\n  }\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, StyleSheet, useWindowDimensions } from 'react-native';\r\nimport { useLoan } from '../../contexts/LoanContext';\r\nimport { calculateDueDate } from '../../utils/dateFormatters';\r\n\r\nconst BREAKPOINT_TABLET = 768;\r\nexport default function LoanHistoryScreen({ route, navigation }) {\r\n  const [search, setSearch] = useState('');\r\n  const [loanTermsData, setLoanTermsData] = useState(null);\r\n  const clientId = route.params?.clientId;\r\n  const userRole = route.params?.userRole; // 'ops' or 'loanofficer'\r\n  const fromPendingDetail = route.params?.fromPendingDetail;\r\n  const { loans } = useLoan();\r\n\r\n  // Find client's loan history\r\n  const client = loans.find(loan => loan.cid === clientId);\r\n  const loanHistory = client?.loans?.loanHistory || [];\r\n\r\n  // Fetch loan terms data for due date calculation\r\n  useEffect(() => {\r\n    const fetchLoanTerms = async () => {\r\n      if (!clientId) return;\r\n      \r\n      try {\r\n        const response = await fetch(`http://localhost:5600/client-loan-data/${clientId}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setLoanTermsData(data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching loan terms:', error);\r\n      }\r\n    };\r\n\r\n    fetchLoanTerms();\r\n  }, [clientId]);\r\n\r\n  const filteredData = loanHistory\r\n    .filter(\r\n      item =>\r\n        item.dateApplied.toLowerCase().includes(search.toLowerCase()) ||\r\n        item.purpose.toLowerCase().includes(search.toLowerCase()) ||\r\n        item.status.toLowerCase().includes(search.toLowerCase())\r\n    )\r\n    .sort((a, b) => {\r\n      // Convert dateApplied strings to Date objects for proper comparison\r\n      const dateA = new Date(a.dateApplied);\r\n      const dateB = new Date(b.dateApplied);\r\n      // Sort in descending order (latest first)\r\n      return dateB - dateA;\r\n    });\r\n\r\n  const { width } = useWindowDimensions();\r\n  const isMobile = width < BREAKPOINT_TABLET;\r\n\r\n  const renderItem = ({ item }) => {\r\n    const isApproved = item.status === 'Approved';\r\n    const isDeclined = item.status === 'Declined';\r\n    \r\n    // Calculate due date based on loan terms from API\r\n    let dueDate = item.dueDate || 'N/A';\r\n    \r\n    if (isApproved && loanTermsData) {\r\n      // Use loan terms from API to calculate due date\r\n      dueDate = calculateDueDate(\r\n        item.dateApplied,\r\n        loanTermsData.term,\r\n        loanTermsData.repaymentMethod\r\n      );\r\n    }\r\n\r\n    if (isMobile) {\r\n      return (\r\n        <View style={styles.cardContainer}>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Date Applied:</Text>\r\n            <Text style={styles.cardValue}>{item.dateApplied}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Amount:</Text>\r\n            <Text style={styles.cardValue}>₱{item.amount.toLocaleString()}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Purpose:</Text>\r\n            <Text style={styles.cardValue}>{item.purpose}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Status:</Text>\r\n            <Text style={[styles.cardValue, { color: isApproved ? 'green' : isDeclined ? 'red' : 'black' }]}>\r\n              {item.status}\r\n            </Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Due Date:</Text>\r\n            <Text style={styles.cardValue}>{dueDate}</Text>\r\n          </View>\r\n          <View style={styles.cardRow}>\r\n            <Text style={styles.cardLabel}>Paid:</Text>\r\n            <Text style={styles.cardValue}>{item.paid ? 'Yes' : 'No'}</Text>\r\n          </View>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <View style={styles.row}>\r\n        <Text style={[styles.cell, { flex: 2 }]}>{item.dateApplied}</Text>\r\n        <Text style={[styles.cell, { flex: 2 }]}>₱{item.amount.toLocaleString()}</Text>\r\n        <Text style={[styles.cell, { flex: 3 }]}>{item.purpose}</Text>\r\n        <Text\r\n          style={[\r\n            styles.cell,\r\n            { flex: 2, color: isApproved ? 'green' : isDeclined ? 'red' : 'black' },\r\n          ]}\r\n        >\r\n          {item.status}\r\n        </Text>\r\n        <Text style={[styles.cell, { flex: 2 }]}>{dueDate}</Text>\r\n        <Text style={[styles.cell, { flex: 1 }]}>{item.paid ? 'Yes' : 'No'}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  // Role-based navigation functions\r\n  const handleDashboardNav = () => {\r\n    const dashboardScreen = userRole === 'ops' ? 'OpsDashboard' : 'LoanOfficerDashboard';\r\n    navigation.navigate(dashboardScreen);\r\n  };\r\nconst handleProfileNav = () => {\r\n  if (fromPendingDetail) {\r\n    navigation.goBack(); // Go back to PendingLoanDetail regardless of role\r\n  } else {\r\n    const profileScreen = userRole === 'ops' ? 'OpsClientProfile' : 'ClientProfile';\r\n    navigation.navigate(profileScreen, {\r\n      client: {\r\n        cid: clientId\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n\r\n  return (\r\n    <View style={[styles.container, isMobile && styles.containerMobile]}>\r\n      {/* Top Header */}\r\n      <View style={[styles.headerRow, isMobile && styles.headerRowMobile]}>\r\n        <Text style={[styles.title, isMobile && styles.titleMobile]}>\r\n          Loan History of Client {clientId}\r\n        </Text>\r\n        <View style={[styles.buttonContainer, isMobile && styles.buttonContainerMobile]}>\r\n          <TouchableOpacity\r\n            style={[styles.btn, styles.backBtn, isMobile && styles.btnMobile]}\r\n            onPress={handleProfileNav}\r\n          >\r\n            <Text style={styles.btnText}>Back to Profile</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={[styles.btn, styles.dashboardBtn, isMobile && styles.btnMobile]}\r\n            onPress={handleDashboardNav}\r\n          >\r\n            <Text style={styles.btnText}>Go to Dashboard</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Search */}\r\n      <View style={[styles.searchBar, isMobile && styles.searchBarMobile]}>\r\n        <TextInput\r\n          style={[styles.searchInput, isMobile && styles.searchInputMobile]}\r\n          placeholder=\"Search\"\r\n          value={search}\r\n          onChangeText={setSearch}\r\n        />\r\n      </View>\r\n\r\n      {/* Table Header - Only show on desktop */}\r\n      {!isMobile && (\r\n        <View style={styles.tableHeader}>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Date Applied</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Amount</Text>\r\n          <Text style={[styles.headerCell, { flex: 3 }]}>Purpose</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Status</Text>\r\n          <Text style={[styles.headerCell, { flex: 2 }]}>Due Date</Text>\r\n          <Text style={[styles.headerCell, { flex: 1 }]}>Paid?</Text>\r\n        </View>\r\n      )}\r\n\r\n      {/* Loan List */}\r\n      <FlatList\r\n        data={filteredData}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        renderItem={renderItem}\r\n        ItemSeparatorComponent={() => <View style={styles.separator} />}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  // Container styles\r\n  container: {\r\n    padding: 24,\r\n    backgroundColor: '#f6f6f6',\r\n    flex: 1,\r\n  },\r\n  containerMobile: {\r\n    padding: 16,\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 16,\r\n  },\r\n  headerRowMobile: {\r\n    flexDirection: 'column',\r\n    alignItems: 'stretch',\r\n    gap: 16,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n  },\r\n  titleMobile: {\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    gap: 8,\r\n  },\r\n  buttonContainerMobile: {\r\n    flexDirection: 'column',\r\n    gap: 8,\r\n  },\r\n  btn: {\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 6,\r\n  },\r\n  btnMobile: {\r\n    paddingVertical: 12,\r\n    alignItems: 'center',\r\n  },\r\n  backBtn: {\r\n    backgroundColor: '#6c757d',\r\n  },\r\n  dashboardBtn: {\r\n    backgroundColor: '#007bff',\r\n  },\r\n  btnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  searchBar: {\r\n    marginBottom: 12,\r\n  },\r\n  searchBarMobile: {\r\n    marginBottom: 16,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: '#ddd',\r\n    borderRadius: 6,\r\n    padding: 10,\r\n  },\r\n  searchInputMobile: {\r\n    padding: 12,\r\n  },\r\n  // Table styles\r\n  tableHeader: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#dcdcdc',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 6,\r\n    marginBottom: 4,\r\n  },\r\n  headerCell: {\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingVertical: 10,\r\n  },\r\n  cell: {\r\n    fontSize: 13,\r\n    paddingHorizontal: 6,\r\n  },\r\n  separator: {\r\n    height: 1,\r\n    backgroundColor: '#ddd',\r\n  },\r\n\r\n  // Card styles for mobile\r\n  cardContainer: {\r\n    backgroundColor: 'white',\r\n    borderRadius: 8,\r\n    padding: 16,\r\n    marginBottom: 12,\r\n    elevation: 2,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  cardLabel: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n    color: '#666',\r\n    flex: 1,\r\n  },\r\n  cardValue: {\r\n    fontSize: 14,\r\n    flex: 2,\r\n    textAlign: 'right',\r\n  },\r\n});","import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet, Image, ActivityIndicator } from 'react-native';\r\nimport { API_BASE_URL, clientAPI } from '../../services/api';\r\n\r\nexport default function DocumentPreviewScreen({ navigation, route }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const { cid, title, documents, latestDate } = route.params;\r\n\r\n  const renderDocumentPreview = (doc) => {\r\n    const isPDF = doc.name.toLowerCase().endsWith('.pdf');\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        key={doc.name}\r\n        style={styles.documentCard}\r\n        onPress={async () => {\r\n          try {\r\n            const { url, type } = await clientAPI.viewDocumentByFilename(cid, doc.name, latestDate);\r\n            window.open(url, '_blank');\r\n            setTimeout(() => URL.revokeObjectURL(url), 1000);\r\n          } catch (error) {\r\n            console.error('Error viewing document:', error);\r\n            alert('Error viewing document. Please try again.');\r\n          }\r\n        }}\r\n      >\r\n        <View style={styles.previewContainer}>\r\n          {isPDF ? (\r\n            <View style={styles.pdfPreview}>\r\n              <Text style={styles.pdfIcon}>PDF</Text>\r\n            </View>\r\n          ) : (\r\n            <Image\r\n              source={{ uri: `${API_BASE_URL}/documents/${cid}/thumbnail/${doc.name}?date=${encodeURIComponent(latestDate)}` }}\r\n              style={styles.imagePreview}\r\n              resizeMode=\"contain\"\r\n            />\r\n          )}\r\n        </View>\r\n        <Text style={styles.documentName}>{doc.displayName}</Text>\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <ActivityIndicator size=\"large\" color=\"#0066ff\" />\r\n        <Text style={styles.loadingText}>Loading documents...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={[styles.container, styles.centerContent]}>\r\n        <Text style={styles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryBtn} onPress={() => navigation.goBack()}>\r\n          <Text style={styles.retryText}>Retry</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={styles.header}>\r\n        <TouchableOpacity\r\n          style={styles.backBtn}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text>← Back</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.headerContent}>\r\n          <Text style={styles.title}>{title}</Text>\r\n          <Text style={styles.subtitle}>{latestDate}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Document Grid */}\r\n      <ScrollView style={styles.content}>\r\n        <View style={styles.grid}>\r\n          {documents.map(doc => renderDocumentPreview(doc))}\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f6f6f6',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n    backgroundColor: '#fff',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  backBtn: {\r\n    marginRight: 16,\r\n  },\r\n  title: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  grid: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 16,\r\n    justifyContent: 'space-between',\r\n    paddingBottom: 20\r\n  },\r\n  headerContent: {\r\n    flex: 1,\r\n    marginLeft: 16\r\n  },\r\n  subtitle: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4\r\n  },\r\n  documentCard: {\r\n    width: '48%',\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    overflow: 'hidden',\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 4,\r\n    elevation: 3,\r\n  },\r\n  previewContainer: {\r\n    width: '100%',\r\n    height: 150,\r\n    backgroundColor: '#f5f5f5',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  imagePreview: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  pdfPreview: {\r\n    width: '100%',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#e0e0e0',\r\n  },\r\n  pdfIcon: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#666',\r\n  },\r\n  documentName: {\r\n    padding: 12,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n  },\r\n  centerContent: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  loadingText: {\r\n    marginTop: 10,\r\n    fontSize: 16,\r\n    color: '#666',\r\n  },\r\n  errorText: {\r\n    color: '#dc3545',\r\n    fontSize: 16,\r\n    marginBottom: 15,\r\n  },\r\n  retryBtn: {\r\n    backgroundColor: '#0066ff',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 6,\r\n  },\r\n  retryText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n  },\r\n});","import React from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\n\r\n// Screens\r\nimport LoginScreen from './screens/auth/LoginScreen';\r\nimport ForgotPasswordScreen from './screens/auth/ForgotPasswordScreen';\r\nimport ITAdminDashboard from './screens/itadmin/DashboardScreen';\r\nimport OpsDashboard from './screens/ops/DashboardScreen';\r\nimport LoanOfficerDashboard from './screens/loanofficer/DashboardScreen';\r\nimport ClientListScreen from './screens/loanofficer/ClientListScreen';\r\nimport ClientProfileScreen from './screens/loanofficer/ClientProfileScreen';\r\nimport TotalLoanListScreen from './screens/loanofficer/TotalLoanListScreen';\r\nimport PendingLoanDetailScreen from './screens/loanofficer/PendingLoanDetailScreen';\r\nimport UserManagementScreen from './screens/itadmin/UserManagementScreen';\r\nimport AddEditUserScreen from './screens/itadmin/AddEditUserScreen';\r\nimport OpsClientListScreen from './screens/ops/OpsClientListScreen';\r\nimport OpsClientProfileScreen from './screens/ops/OpsClientProfileScreen';\r\nimport OpsPendingListScreen from './screens/ops/OpsPendingListScreen';\r\nimport OpsPendingLoanDetailScreen from './screens/ops/OpsPendingLoanDetailScreen';\r\nimport SignatureAgreementScreen from './screens/ops/SignatureAgreementScreen';\r\nimport SignedAgreementPreview from './screens/ops/SignedAgreementPreview';\r\nimport LoanOfficerNotifications from './screens/loanofficer/LoanOfficerNotifications';\r\nimport LoanHistoryScreen from './screens/shared/LoanHistoryScreen';\r\nimport DocumentPreviewScreen from './screens/shared/DocumentPreviewScreen';\r\n\r\n\r\n// Contexts\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport { UsersProvider } from './contexts/UsersContext';\r\nimport { LoanProvider } from './contexts/LoanContext';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <UsersProvider>\r\n        <LoanProvider>\r\n          <NavigationContainer>\r\n            <Stack.Navigator initialRouteName=\"Login\" screenOptions={{ headerShown: false }}>\r\n              <Stack.Screen name=\"Login\" component={LoginScreen} />\r\n              <Stack.Screen name=\"ForgotPassword\" component={ForgotPasswordScreen} />\r\n              <Stack.Screen name=\"Dashboard\" component={ITAdminDashboard} />\r\n              <Stack.Screen name=\"OpsDashboard\" component={OpsDashboard} />\r\n              <Stack.Screen name=\"UserManagement\" component={UserManagementScreen} />\r\n              <Stack.Screen name=\"AddEditUser\" component={AddEditUserScreen} />\r\n              <Stack.Screen name=\"LoanOfficerDashboard\" component={LoanOfficerDashboard} />\r\n              <Stack.Screen name=\"ClientList\" component={ClientListScreen} />\r\n              <Stack.Screen name=\"ClientProfile\" component={ClientProfileScreen} />\r\n              <Stack.Screen name=\"TotalLoanList\" component={TotalLoanListScreen} />\r\n              <Stack.Screen name=\"PendingLoanDetail\" component={PendingLoanDetailScreen} />\r\n              <Stack.Screen name=\"OpsClientList\" component={OpsClientListScreen} />\r\n              <Stack.Screen name=\"OpsClientProfile\" component={OpsClientProfileScreen} />\r\n              <Stack.Screen name=\"OpsPendingList\" component={OpsPendingListScreen} />\r\n              <Stack.Screen name=\"OpsPendingLoanDetail\" component={OpsPendingLoanDetailScreen} />\r\n              <Stack.Screen name=\"SignatureAgreement\" component={SignatureAgreementScreen} />\r\n              <Stack.Screen name=\"SignedAgreementPreview\" component={SignedAgreementPreview} />\r\n              <Stack.Screen name=\"LoanOfficerNotifications\" component={LoanOfficerNotifications} />\r\n              <Stack.Screen name=\"LoanHistory\" component={LoanHistoryScreen} />\r\n              <Stack.Screen\r\n                name=\"DocumentPreview\"\r\n                component={DocumentPreviewScreen}\r\n                options={({ route }) => ({\r\n                  headerShown: false,\r\n                })}\r\n              />\r\n            </Stack.Navigator>\r\n          </NavigationContainer>\r\n        </LoanProvider>\r\n      </UsersProvider>\r\n    </AuthProvider>\r\n  );\r\n}","import { registerRootComponent } from 'expo';\r\nimport App from './App';\r\n\r\n// Register the root component\r\nregisterRootComponent(App);","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [767], () => (__webpack_require__(4454)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["AuthContext","createContext","currentUser","setCurrentUser","resetPassword","logout","AuthProvider","_ref","children","_useState","useState","savedUser","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","useEffect","setItem","stringify","removeItem","_ref2","_asyncToGenerator","username","newPassword","Error","Promise","resolve","setTimeout","success","message","_x","_x2","apply","arguments","_jsx","Provider","value","API_BASE_URL","process","REACT_APP_API_URL","authAPI","login","_login","password","response","fetch","method","headers","body","ok","error","json","data","user","officer","fullName","role","status","console","userAPI","getAllUsers","_getAllUsers","updateUserStatus","_updateUserStatus","_x3","_x4","addUser","_addUser","userData","_x5","updateUser","_updateUser","_x6","_x7","DOCUMENT_TYPE_MAP","DOCUMENT_CATEGORIES","APPLICATION_DOCS","SIGNED_DOCS","clientAPI","getAllClients","_getAllClients","log","getClientById","_getClientById","cid","_x8","getClientScore","_getClientScore","_x9","processMetrics","_processMetrics","_x0","processLoanDecision","_processLoanDecision","decision","additionalData","length","undefined","_objectSpread","_x1","_x10","fetchClientLoanData","_fetchClientLoanData","_x11","updateLoanAmount","_updateLoanAmount","amount","_x12","_x13","notifications","getNotifications","_getNotifications","createNotification","_createNotification","notification","_x14","markAsRead","_markAsRead","notificationIds","_x15","viewDocumentByFilename","_viewDocumentByFilename","filename","date","paddedCid","toString","padStart","url","encodeURIComponent","errorData","contentType","get","blob","URL","createObjectURL","Blob","type","_x16","_x17","viewDocument","_viewDocument","documentType","internalType","encodedType","_x18","_x19","getLatestDocuments","_getLatestDocuments","documents","_x20","getDocumentDates","_getDocumentDates","dates","_x21","getDocumentsByDate","_getDocumentsByDate","_x22","_x23","LoginScreen","navigation","_useContext","useContext","navigate","isMobile","useWindowDimensions","width","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","isLoading","setIsLoading","handleLogin","alert","View","style","styles","container","_jsxs","card","cardMobile","Text","title","label","TextInput","input","onChangeText","secureTextEntry","TouchableOpacity","loginBtn","loginBtnDisabled","onPress","disabled","loginText","forgotText","StyleSheet","create","flex","backgroundColor","justifyContent","alignItems","padding","Platform","select","web","default","borderRadius","maxWidth","elevation","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","fontSize","fontWeight","textAlign","marginBottom","color","borderWidth","borderColor","paddingVertical","marginTop","opacity","errorText","textDecorationLine","ForgotPasswordScreen","step","setStep","email","setEmail","_useState7","_useState8","setNewPassword","_useState9","_useState0","confirmPassword","setConfirmPassword","_useState1","_useState10","setIsAdmin","users","handleSubmitUsername","find","u","handleResetPassword","subtitle","placeholder","submitBtn","submitText","keyboardType","marginVertical","UsersContext","loading","refreshUsers","UsersProvider","setUsers","setLoading","fetchedUsers","_ref3","_ref4","updatedUser","id","Object","keys","updateData","TopBar","showNotifications","unreadCount","topbar","leftSection","leftSectionMobile","brand","brandMobile","rightSection","rightSectionMobile","roleMobile","notificationContainer","icon","iconMobile","badge","badgeText","replace","logoutButton","logoutButtonMobile","logoutMobile","flexDirection","paddingHorizontal","gap","minWidth","position","top","right","DashboardCard","number","button","buttonText","DashboardScreen","officerCount","filter","roleType","opsCount","content","cardRow","cardRowMobile","viewListButton","viewListButtonMobile","buttonTextMobile","flexWrap","LoanContext","LoanProvider","loans","setLoans","setNotifications","setUnreadCount","setError","fetchClients","fetchNotifications","interval","setInterval","clearInterval","clientData","err","refreshClientData","updatedClient","prevLoans","map","loan","n","read","addNotification","_ref5","timestamp","Date","toISOString","markNotificationsAsRead","_ref6","unreadIds","updateLoan","_ref7","updates","l","clientName","name","toLowerCase","recipientRole","_ref8","newAmount","targetLoan","updatedHistory","_toConsumableArray","loanHistory","latestRequestIndex","findIndex","_","arr","dateApplied","getTime","Math","max","decidedAt","toLocaleString","clearNotifications","useLoan","context","OpsDashboardScreen","totalClients","totalPending","contentMobile","LoanOfficerDashboard","_useLoan","totalLoanClients","sharedStyles","flexGrow","containerDesktop","minHeight","alignSelf","section","marginHorizontal","sectionMobile","centerContent","loadingText","titleMobile","primaryButton","secondaryButton","buttonTextSecondary","modal","overlay","maxHeight","searchBar","inputMobile","header","titleContainer","ClientList","_ref$userRole","userRole","onClientPress","dashboardRoute","search","setSearch","filteredClients","client","includes","handleClientPress","screenName","age","address","financial","monthlyIncome","monthlyExpenses","assets","dti","ActivityIndicator","size","dashboardBtn","dashboardBtnMobile","btnText","btnTextMobile","searchBarMobile","tableHeader","rowContent","headerCell","cidCell","nameCell","actionCell","FlatList","keyExtractor","item","renderItem","row","rowMobile","mobileContent","mobileName","mobileCid","cell","viewBtn","viewBtnText","ListEmptyComponent","emptyContainer","emptyText","ClientListScreen","formatDateForDisplay","dateString","toLocaleDateString","year","month","day","loadApplicationDocumentDates","filteredDates","dateInfo","applicationDocs","doc","some","keyword","displayName","push","documentCount","loadSignedDocumentDates","datesWithSignedDocs","signedDocs","isPDF","endsWith","isPromissoryNote","getApplicationDocuments","selectedDate","getSignedDocuments","defaultClient","signedDocuments","employer","ClientProfile","_route$params","_route$params$client","route","setClient","showDateModal","setShowDateModal","documentDates","setDocumentDates","loadingDates","setLoadingDates","_useState11","_useState12","modalType","setModalType","params","loadClientData","_clientData$documents","_clientData$documents2","handleLoadDocumentDates","handleDateSelection","latestDate","retryBtn","retryText","ScrollView","scrollView","contentContainerStyle","sectionTitle","subTitle","detailsContainer","bold","documentCategory","categoryText","previewBtn","previewText","financialContainer","financialDetails","financialItem","employmentContainer","employmentDetails","employmentItem","loanHistoryContainer","clientId","actionRow","backBtn","goBack","backBtnText","refreshBtn","actionBtnText","Modal","visible","transparent","animationType","onRequestClose","index","dateButton","dateButtonText","documentCountText","noDataText","closeButton","closeButtonText","fontStyle","ClientProfileScreen","statuses","TotalLoanListScreen","setFilter","isRefreshing","setIsRefreshing","refreshAllLoans","all","addListener","formatDate","getMonth","getDate","getFullYear","getLatestLoanRequest","_item$loans","clientNotifications","sort","a","b","latestNotification","latest","dateUpdated","filteredLoans","matchesSearch","currentStatus","currentFilter","matchesFilter","isTablet","headerMobile","searchFilterRow","searchFilterRowMobile","searchInput","searchInputMobile","filterMobile","filterLabel","filterLabelMobile","Pressable","filterOption","activeFilter","filterOptionMobile","filterText","activeFilterText","filterTextMobile","headerContainer","tabletCell","tabletHeaderText","statusCell","centerText","updateCell","refreshingIndicator","refreshingText","rowTablet","backScreen","mobileStatusRow","mobileStatus","approvedStatus","declinedStatus","pendingStatus","charAt","toUpperCase","slice","mobileDate","_Fragment","cellContainer","numberOfLines","tabletUpdateText","lineHeight","paddingRight","borderBottomWidth","paymentHistory","creditUtilization","creditHistoryLength","creditMix","newInquiries","approved","pending","loanBalance","dueDate","PendingLoanDetailScreen","_route$params2","loanData","setLoanData","fetchLoanData","initialClient","calculateScore","weights","weightedSum","min","round","getRiskCategory","score","showsVerticalScrollIndicator","topbarMobile","logo","logoMobile","left","leftMobile","sectionTitleMobile","allDates","sortedDates","localeCompare","latestApplicationDocs","_doc$name","latestSignedDocs","_doc$name2","mappedDocs","rightMobile","viewBtnMobile","fromPendingDetail","loanDetails","loanDetailsMobile","approvedAmount","recommendedAmount","purpose","description","term","repaymentMethod","interestRate","amountDue","creditBox","creditBoxMobile","creditScore","riskCategory","recommendation","backText","borderRightWidth","zIndex","paddingLeft","UserManagementScreen","getRoleDisplayName","backButton","backButtonMobile","pageTitle","pageTitleMobile","addButton","addButtonMobile","addButtonText","addButtonTextMobile","table","mobileContainer","mobileCard","mobileCardHeader","mobileCardName","mobileCardStatus","activeStatus","disabledStatus","mobileCardContent","mobileCardLabel","mobileCardValue","mobileCardActions","newStatus","mobileActionButton","disableButtonMobile","enableButtonMobile","mobileActionButtonText","userCopy","editButtonMobile","tableRow","actionButtonContainer","actionButton","disableButton","enableButton","editButton","borderTopLeftRadius","borderTopRightRadius","borderBottomColor","loadingContainer","AddEditUserScreen","passedUser","getRoleForAPI","displayRole","apiRole","getDisplayRole","confirmNewPassword","formData","setFormData","handleSave","trimmedData","trim","setParams","mobileTitle","form","formMobile","labelMobile","text","editable","pickerContainer","pickerContainerMobile","Picker","selectedValue","onValueChange","Item","passwordSection","passwordSectionMobile","saveButton","saveButtonMobile","saveButtonText","saveButtonTextMobile","overflow","OpsClientListScreen","OpsClientProfileScreen","OpsPendingListScreen","filtered","headerRow","headerRowMobile","listContainer","OpsPendingLoanDetailScreen","_loanData$approvedAmo","_loanData$recommended","_loanData$approvedAmo3","showEditModal","setShowEditModal","editedAmount","setEditedAmount","setSuccess","setLatestRequest","_client$loans","_client$loans$loanHis","_route$params$client$","_route$params$client$2","handleDecline","result","handleSaveEdit","currentApprovedAmount","clientWithoutDocuments","_objectWithoutProperties","_excluded","_client$loans2","parseInt","maxAmount","total","updatedLatest","actionRowMobile","btnMobile","editBtn","_loanData$approvedAmo2","declineBtn","approveBtn","modalOverlay","modalContent","modalContentMobile","modalTitle","modalTitleMobile","modalSubtitle","modalSubtitleMobile","amountInput","amountInputMobile","placeholderTextColor","errorTextMobile","modalButtons","modalButtonsMobile","cancelBtn","cancelBtnMobile","modalButtonText","modalButtonTextMobile","saveBtn","saveBtnMobile","modalButtonTextWhite","modalButtonTextWhiteMobile","successMessage","successText","errorMessage","SignatureCanvas","margin","detailRow","detailLabel","detailLabelMobile","detailValue","detailValueMobile","personalDetailsGrid","personalDetailsGridMobile","financialGrid","employmentGrid","loanDetailRow","loanDetailValue","loanDetailValueMobile","loanHistorySection","loanHistorySectionMobile","viewBtnTextMobile","subTitleMobile","detailsContainerMobile","creditScoreMobile","riskCategoryMobile","recommendationMobile","backBtnMobile","editBtnMobile","declineBtnMobile","approveBtnMobile","buttonTextWhite","buttonTextWhiteMobile","documentButton","documentButtonText","documentRow","docText","loanBox","SignatureAgreementScreen","signatureRef","useRef","signature","setSignature","isSignatureCaptured","setIsSignatureCaptured","handleSignature","canvasProps","border","display","className","headerContent","subtitleMobile","agreementSummary","agreementSummaryMobile","summaryTitle","summaryTitleMobile","summaryRow","summaryLabel","summaryValue","instructionsContainer","instructionsContainerMobile","instructionsTitle","instructionsTitleMobile","instructionsText","instructionsTextMobile","signatureContainer","signatureContainerMobile","signatureLabel","signatureLabelMobile","signatureCanvas","signatureCanvasMobile","OS","ref","penColor","dotSize","throttle","velocityFilterWeight","onEnd","bottom","onClick","current","isEmpty","signatureData","toDataURL","cursor","onOK","onEmpty","Alert","descriptionText","clearText","confirmText","autoClear","imageType","webStyle","signatureStatus","signatureStatusMobile","actionButtons","actionButtonsMobile","clearButton","buttonMobile","clear","clearSignature","clearButtonText","confirmButton","disabledButton","signerName","confirmButtonText","disabledButtonText","require","marginRight","borderLeftWidth","borderLeftColor","paddingBottom","SignedAgreementPreview","pdfUrl","setPdfUrl","showConfirmDialog","setShowConfirmDialog","showSuccessDialog","setShowSuccessDialog","generatePdfPreview","processApproval","approvalData","signedBy","signedAt","handleBack","revokeObjectURL","loadingTextMobile","agreementDetails","agreementDetailsMobile","detailsTitle","detailsTitleMobile","pdfContainer","pdfContainerMobile","pdfTitle","pdfTitleMobile","errorContainer","pdfPreview","pdfPreviewMobile","mobilePdfContainer","mobilePdfText","mobilePdfSubtext","viewPdfBtn","window","open","viewPdfText","src","pdfPlaceholder","pdfPlaceholderText","backToSignBtn","backToSignText","approveText","confirmOverlay","confirmDialog","confirmDialogMobile","confirmTitle","confirmTitleMobile","confirmMessage","confirmMessageMobile","confirmButtons","confirmButtonsMobile","confirmCancelBtn","confirmButtonMobile","confirmCancelText","confirmApproveBtn","confirmApproveText","successTitle","successOkBtn","reset","routes","err2","LoanOfficerNotifications","catch","finally","subHeader","refreshingContainer","isApproved","ItemSeparatorComponent","separator","textTransform","LoanHistoryScreen","_route$params3","loanTermsData","setLoanTermsData","fetchLoanTerms","filteredData","dateA","containerMobile","buttonContainer","buttonContainerMobile","btn","profileScreen","dashboardScreen","isDeclined","termMonths","startDate","totalDays","setDate","totalWeeks","ceil","setMonth","calculateDueDate","cardContainer","cardLabel","cardValue","paid","DocumentPreviewScreen","grid","documentCard","_yield$clientAPI$view","previewContainer","pdfIcon","Image","source","uri","imagePreview","resizeMode","documentName","renderDocumentPreview","marginLeft","Stack","createNativeStackNavigator","registerRootComponent","NavigationContainer","Navigator","initialRouteName","screenOptions","headerShown","Screen","component","ITAdminDashboard","OpsDashboard","options","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","then","ns","def","indexOf","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","g","globalThis","Function","e","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}